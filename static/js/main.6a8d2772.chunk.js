(this["webpackJsonpappl-tracky-spa"]=this["webpackJsonpappl-tracky-spa"]||[]).push([[0],{130:function(e,t,a){e.exports={UserAppPageHeader:"user-app-page_UserAppPageHeader__x_cfW",companyListHeader:"user-app-page_companyListHeader__19QUw",searchField:"user-app-page_searchField__3q0QO"}},195:function(e,t,a){e.exports={applicationCard:"application-component_applicationCard__31V7N",applicationCardContent:"application-component_applicationCardContent__37H7Z"}},197:function(e,t,a){e.exports={companyTitleContainer:"company-component_companyTitleContainer__Ri6WX",companyTitleCaption:"company-component_companyTitleCaption__1Ke-4"}},264:function(e,t,a){e.exports={TextField:"form-input-field_TextField__3KSDC"}},266:function(e,t,a){e.exports={TabContent:"tab-content_TabContent__1_9TR"}},267:function(e,t,a){e.exports={enter:"tab-transition-slide-left_enter__1sdjC",enterActive:"tab-transition-slide-left_enterActive__8WTGE",enterDone:"tab-transition-slide-left_enterDone__1_OwZ",exit:"tab-transition-slide-left_exit__3VudZ",exitActive:"tab-transition-slide-left_exitActive__3-3TN",exitDone:"tab-transition-slide-left_exitDone__3Mo2P"}},268:function(e,t,a){e.exports={enter:"tab-transition-slide-right_enter__1QHPP",enterActive:"tab-transition-slide-right_enterActive__2aDp0",enterDone:"tab-transition-slide-right_enterDone__2f3WM",exit:"tab-transition-slide-right_exit__36vYx",exitActive:"tab-transition-slide-right_exitActive__k1Mfn",exitDone:"tab-transition-slide-right_exitDone__3H4Ny"}},269:function(e,t,a){e.exports={tabBar:"tab-container_tabBar__18BpS"}},279:function(e,t,a){e.exports={UserCompanyPage:"user-com-app-page_UserCompanyPage__1_59y"}},280:function(e,t,a){e.exports={exit:"page-routes-transition_exit__FV-eW",exitActive:"page-routes-transition_exitActive__KOsYo",exitDone:"page-routes-transition_exitDone__3tF_F",enter:"page-routes-transition_enter__2xlSM",enterActive:"page-routes-transition_enterActive__ARhrI",enterDone:"page-routes-transition_enterDone__1rm_w"}},282:function(e,t,a){e.exports={topAppBarTitle:"app-top-bar_topAppBarTitle__2xrzw"}},312:function(e,t,a){},467:function(e,t,a){e.exports={companyCard:"company-list-item_companyCard__1aDLN"}},468:function(e,t,a){},484:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),c=a(27),l=a.n(c),s=(a(312),a(6)),u=a(10),p=a(9),d=a(8),m=a(13);!function(e){e.PREFILL="prefill",e.SOCIAL_AUTH="social_auth",e.LOCAL="local"}(n||(n={})),function(e){e.UPDATE_AUTH="Update auth",e.REQUESTED_LOGIN_AUTH="Requested login auth",e.REQUESTED_LOGOUT_AUTH="Requested logout auth",e.SUCCESS_AUTH="Success auth",e.FAILURE_AUTH="Failure auth"}(r||(r={}));var b,f,h=Object.values(r),E=a(4),v=a(15),y=a.n(v),O=a(112),j=a(32),S=a(18),g=a(48),C=function(){function e(t){var a=t.uuid,n=void 0===a?"":a,r=t.created_at,o=void 0===r?"":r,i=t.modified_at,c=void 0===i?"":i;Object(s.a)(this,e),this.uuid=void 0,this.created_at=void 0,this.modified_at=void 0,this.normalizeSchemaShape=void 0,this.objectNamePlural=void 0,this.uuid=n,this.created_at=o,this.modified_at=c}return Object(u.a)(e,[{key:"getNormalizeSchema",value:function(){return this.normalizeSchemaShape&&this.objectNamePlural?new g.b.Entity(this.objectNamePlural,this.normalizeSchemaShape,{idAttribute:"uuid"}):null}},{key:"getListNormalizeSchema",value:function(){var e=this.getNormalizeSchema();return e?new g.b.Array(e):null}}],[{key:"schema",value:function(){return S.object().shape({})}}]),e}(),T=["token"],A=["code","provider","redirect_uri"],k=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.token,o=void 0===r?"":r,i=Object(j.a)(e,T);return Object(s.a)(this,a),(n=t.call(this,i)).token=void 0,n.token=o,n}return a}(C),_=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.code,o=void 0===r?"":r,i=e.provider,c=void 0===i?"":i,l=e.redirect_uri,u=void 0===l?"":l,p=Object(j.a)(e,A);return Object(s.a)(this,a),(n=t.call(this,p)).code=void 0,n.provider=void 0,n.redirect_uri=void 0,n.code=o,n.provider=c,n.redirect_uri=u,n}return a}(C),x=function(){function e(){var t=this;Object(s.a)(this,e),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",redirectUri:"postmessage",apiSocialLoginUrl:"login/social/",apiLocalLoginUrl:"api-token-auth/",apiLoginRefreshUrl:"api-token-refresh/",socialAuthProvider:"google-oauth2",apiLoginToken:""},this.serverLogin=function(){var e=Object(O.a)(y.a.mark((function e(a,r){var o,i,c,l,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==n.PREFILL){e.next=17;break}if(!(o=localStorage.getItem("".concat("","applyTracky__authState"))?JSON.parse(localStorage.getItem("".concat("","applyTracky__authState"))||"{}"):{}).isLogin){e.next=14;break}return t.apiCallToken=o.apiToken,e.prev=4,e.next=7,t.refreshToken();case 7:return i=e.sent,e.abrupt("return",{email:o.userName,token:i.token,avatar_url:o.avatarUrl,isLocal:o.isLocal});case 11:e.prev=11,e.t0=e.catch(4);case 14:return e.abrupt("return",{});case 17:if(a!==n.SOCIAL_AUTH){e.next=32;break}return c=new _({code:r.socialAuthToken,provider:t.state.socialAuthProvider,redirect_uri:t.state.redirectUri}),e.prev=19,e.next=22,U.post({data:c,endpointUrl:t.state.apiSocialLoginUrl});case 22:return l=e.sent,t.apiCallToken=l.token,e.abrupt("return",Object(E.a)(Object(E.a)({},l),{},{isLocal:!1}));case 27:throw e.prev=27,e.t1=e.catch(19),Error(e.t1);case 30:e.next=49;break;case 32:if(a!==n.LOCAL){e.next=49;break}return e.prev=33,e.next=36,fetch("".concat(U.state.apiBaseUrl).concat(t.state.apiLocalLoginUrl),{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,password:r.password})});case 36:if((s=e.sent).ok){e.next=39;break}throw Error(s.statusText);case 39:return e.next=41,s.json();case 41:return u=e.sent,t.apiCallToken=u.token,e.abrupt("return",{email:r.username,token:u.token,avatar_url:u.avatar_url,isLocal:!0});case 46:throw e.prev=46,e.t2=e.catch(33),Error(e.t2);case 49:case"end":return e.stop()}}),e,null,[[4,11],[19,27],[33,46]])})));return function(t,a){return e.apply(this,arguments)}}(),this.refreshToken=Object(O.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new k({token:t.apiCallToken}),e.prev=1,e.next=4,U.post({data:a,endpointUrl:t.state.apiLoginRefreshUrl});case 4:return n=e.sent,t.apiCallToken=n.token,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),this.serverLogout=Object(O.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.apiCallToken="",e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))}return Object(u.a)(e,[{key:"apiCallToken",get:function(){return this.state.apiLoginToken},set:function(e){this.state.apiLoginToken=e}}]),e}(),L=new x;!function(e){e.TRIGGERED="triggered",e.REQUESTING="requesting",e.SUCCESS="success",e.FAILURE="failre"}(b||(b={})),function(e){e.CREATE="create",e.BATCHCREATE="batchcreate",e.READ="read",e.LIST="list",e.UPDATE="update",e.BATCHUPDATE="batchupdate",e.DELETE="delete"}(f||(f={}));var I,N=Object.values(f);!function(e){e.POST="post",e.GET="get",e.PATCH="patch",e.DELETE="delete"}(I||(I={}));var w=function(e){switch(e){case f.CREATE:case f.BATCHCREATE:return I.POST;case f.READ:case f.LIST:return I.GET;case f.UPDATE:case f.BATCHUPDATE:return I.PATCH;case f.DELETE:return I.DELETE;default:return I.GET}};function D(e){return e&&void 0!==e.uuid}var U=new function e(){var t=this;Object(s.a)(this,e),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",redirectUri:"postmessage",apiBaseUrl:"https://appl-tracky.api.shaungc.com/api/",socialAuthProvider:"google-oauth2",userEmail:"",userFirstName:"",userLastName:"",objectID:""},this.get=function(e){var a=e.endpointUrl,n=e.absoluteUrl,r=e.objectName,o=e.data;return fetch(t.getRelativeUrl({endpointUrl:a,absoluteUrl:n,objectName:r,data:o}),Object(E.a)({method:"GET"},t.setApiAuthHeaders())).then((function(e){return e.json()}))},this.post=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"POST"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)})).then((function(e){return e.json()}))},this.patch=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"PATCH"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)})).then((function(e){return e.json()}))},this.delete=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"DELETE"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)}))},this.getRelativeUrl=function(e){var a=e.objectName,n=e.data,r=e.endpointUrl,o=e.absoluteUrl;return o||(r?"".concat(t.state.apiBaseUrl).concat(r):n&&void 0!==n.uuid&&n.uuid?"".concat(t.state.apiBaseUrl).concat(a,"/").concat(n.uuid,"/"):"".concat(t.state.apiBaseUrl).concat(a,"/"))},this.setApiAuthHeaders=function(){return{mode:"cors",credentials:L.apiCallToken?"include":"omit",headers:{Authorization:L.apiCallToken?"JWT ".concat(L.apiCallToken):"","Content-Type":"application/json"}}}},F=function(e,t,a){return{type:r.REQUESTED_LOGIN_AUTH,loginMode:e,params:t,payload:{requestStatus:b.REQUESTING},onCompleteCallback:a}},R=function(){return{type:r.REQUESTED_LOGOUT_AUTH,payload:{requestStatus:b.REQUESTING}}},P=function(){return{type:r.SUCCESS_AUTH,payload:{requestStatus:b.SUCCESS,isLogin:!1,isLocal:!1,userName:"",expireDateTime:"",apiToken:"",avatarUrl:""}}},q=function(e){return{type:r.FAILURE_AUTH,payload:{requestStatus:b.FAILURE,error:e}}},G=a(59),B=a(56),H=a.n(B),M=a(544),V=a(542),z=a(150),Q=(a(52),a(38)),W=a.n(Q),J=a(151),Y=a(152),K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLoginButtonClicked=function(e,t){t.onClick(e)},e.onAuthSuccess=function(t){e.props.onSuccess(t)},e.onAuthFailure=function(t){e.props.onFailure&&e.props.onFailure(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"UserAuthButton"},i.a.createElement(z.GoogleLogin,{render:function(t){return i.a.createElement(W.a,{onClick:function(a){return e.onLoginButtonClicked(a,t)},unelevated:!0,icon:i.a.createElement(J.a,{icon:Y.b}),disabled:e.props.disabled},"Google Login")},onSuccess:this.onAuthSuccess,onFailure:this.onAuthFailure,clientId:this.props.clientID,responseType:"code",redirectUri:this.props.redirectUri||"postmessage",cookiePolicy:"https://shaungc.com",hostedDomain:"https://appl-tracky.shaungc.com"}))}}]),a}(o.Component),X=a(33),Z=a.n(X),$=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onAuthSuccess=function(t){e.props.onSuccess(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"UserAuthButton"},i.a.createElement(z.GoogleLogout,{clientId:L.state.clientID,render:function(t){return i.a.createElement(W.a,{onClick:e.props.onClick,unelevated:!0,icon:i.a.createElement(Z.a,{icon:"eject"}),disabled:e.props.disabled},"Logout")},onLogoutSuccess:this.onAuthSuccess}))}}]),a}(o.Component),ee=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",apiLoginToken:"",userEmail:"",userFirstName:"",userLastName:"",objectID:""},e.onSocialLoginSuccess=function(t){e.setState({code:t.code},(function(){e.props.requestedLoginAuth(e.state.code)}))},e.onSocialLoginFailure=function(e){console.error("Social login failed:",e)},e.onSocialLogoutSuccess=function(){e.props.requestedLogoutAuth()},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"SocialAuth"},this.props.auth.isLogin?i.a.createElement($,{onSuccess:this.onSocialLogoutSuccess,onClick:this.onSocialLogoutSuccess}):i.a.createElement(K,{clientID:this.state.clientID,onSuccess:this.onSocialLoginSuccess,onFailure:this.onSocialLoginFailure,disabled:this.props.auth.requestStatus===b.REQUESTING}))}}]),a}(o.Component);var te,ae=Object(G.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLoginAuth:function(t){e(F(n.SOCIAL_AUTH,{socialAuthToken:t}))},requestedLogoutAuth:function(){e(R())}}}))(ee)),ne=a(42),re=(a(248),a(80)),oe=a.n(re),ie=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).formFactoryProps=void 0,n.onStaffLoginClick=function(){n.props.history.push("/local-login/")},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:oe.a.LandingPage},i.a.createElement("div",{className:oe.a.primaryPageContent},i.a.createElement("div",{className:oe.a.headlineContent},i.a.createElement(ne.Headline1,{className:oe.a.headlineText},"Appl Tracky"),i.a.createElement(ne.Headline4,{className:oe.a.headlineSubText},"Got crazy using speadsheet to keep track of your application progress? Try out Appl Tracky to ease your workflow!"),i.a.createElement(ne.Body1,null,"Whether it is application for job, school program, scholarship or whatever process that lets you wait from a couple weeks to months, Appl Tracky has you covered. Keep track of every steps in the process, insert links, put down notes to get you more organized and prepared!")),i.a.createElement("div",{className:oe.a.loginActionsContainer},i.a.createElement(ne.Headline4,null,"Sign up & login now to get organized"),i.a.createElement(ae,null),i.a.createElement(ne.Body1,null,"Just want to try things out and don't want to sign up yet? No problem, here's a guest account you can use:"),i.a.createElement("div",null,"\ud83e\udd84 username: guest"),i.a.createElement("div",null,"\ud83e\udd84 password: appltracky"),i.a.createElement(W.a,{onClick:this.onStaffLoginClick,unelevated:!0,icon:i.a.createElement(Z.a,{icon:"account_circle"})},"Sign in")),i.a.createElement("div",{className:oe.a.divider}),i.a.createElement("div",{className:oe.a.sideNoteContent},i.a.createElement(ne.Subtitle1,null,"Take a look at the React code that fuels and powers all the goodies!"),i.a.createElement(W.a,{href:"https://github.com/rivernews/appl-tracky-spa",target:"_blank",unelevated:!0,icon:i.a.createElement(Z.a,{icon:"code"})},"Github Repository"))))}}]),a}(o.Component),ce=Object(G.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{}}))(ie)),le=(a(82),a(113)),se=a.n(le),ue=a(49),pe=a(264),de=a.n(pe),me=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FormInputField"},i.a.createElement(ue.b,{name:this.props.fieldName,render:function(t){var a=t.field;t.form;return i.a.createElement(se.a,{className:de.a.TextField,label:e.props.label,onTrailingIconSelect:e.props.onTrailingIconSelect,trailingIcon:e.props.onTrailingIconSelect&&i.a.createElement(Z.a,{role:"button",icon:"clear"})},i.a.createElement(le.Input,Object.assign({type:e.props.type||te.TEXT,inputType:"input",autoFocus:e.props.autoFocus},a)))}}),i.a.createElement(ue.a,{name:this.props.fieldName}))}}]),a}(o.Component);!function(e){e.TEXT="text",e.PASSWORD="password",e.EMAIL="email",e.URL="url",e.DATE="date"}(te||(te={}));var be,fe=function(){function e(t){var a=this;Object(s.a)(this,e),this.fieldName=void 0,this.label=void 0,this.model=void 0,this.formField=void 0,this.isDynamic=void 0,this.dynamicLimit=void 0,this.getInstanceDataFromFormikValues=void 0,this.fieldName=t.fieldName,this.label=t.label,this.isDynamic=t.isDynamic,this.dynamicLimit=t.dynamicLimit,t.getInstanceDataFromFormikValues?this.getInstanceDataFromFormikValues=t.getInstanceDataFromFormikValues:this.getInstanceDataFromFormikValues=function(e){return e&&e[a.fieldName]?(a.isDynamic&&!Array.isArray(e[a.fieldName])&&(alert("Oops! Something might go wrong. Info: at class FormBaseFieldMeta."),console.error("isDynamic=true, but the value is not an array:"),console.error("values =",e," this.fieldName =",a.fieldName)),e[a.fieldName]):(alert("Oops! Something might go wrong. Info: at class FormBaseFieldMeta."),console.error("values =",e," this.fieldName =",a.fieldName),a.isDynamic?[]:"")},this.formField=me}return Object(u.a)(e,[{key:"getInstance",value:function(e){var t=this.model;return t?this.isDynamic?this.getInstanceDataFromFormikValues(e).map((function(e){return new t(e)})):Array.isArray(e[this.fieldName])?e[this.fieldName].map((function(e){return new t(e)})):new t(e[this.fieldName]):e[this.fieldName]}}]),e}(),he=["type","onTrailingIconSelect","autoFocus"],Ee=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.type,o=e.onTrailingIconSelect,i=e.autoFocus,c=Object(j.a)(e,he);return Object(s.a)(this,a),(n=t.call(this,c)).type=void 0,n.onTrailingIconSelect=void 0,n.autoFocus=void 0,n.type=r,n.onTrailingIconSelect=o,n.autoFocus=i,n.formField=me,n}return a}(fe),ve=a(75);!function(e){e.SUBMIT="submit",e.BUTTON="button"}(be||(be={}));var ye,Oe,je,Se=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(s.a)(this,e),this.text=t,this.onClick=a,this.type=n},ge=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;if(Object(s.a)(this,a),(n=t.call(this,e)).initialInstance=void 0,n.validationSchema=void 0,n.onSubmit=function(e,t){var a=t.setSubmitting;a(!0);var r,o={},i=Object(ve.a)(n.props.formFieldPropsList);try{for(i.s();!(r=i.n()).done;){var c=r.value;o[c.fieldName]=c.getInstance(e)}}catch(u){i.e(u)}finally{i.f()}var l=n.props.model;if(l&&n.props.createInstanceTriggerAction&&n.props.updateInstanceTriggerAction&&n.initialInstance){var s=new l(Object(E.a)(Object(E.a)({uuid:n.initialInstance.uuid},o),n.props.enforcedInstanceData));s.uuid?n.props.updateInstanceTriggerAction(s,n.props.onSubmitSuccess,(function(){return a(!1)}),n.props.initialInstance):n.props.createInstanceTriggerAction(s,n.props.onSubmitSuccess,(function(){return a(!1)}))}else{if(!n.props.onSubmit)throw alert("Something is wrong with the form...!"),Error("ERROR: form factory props not properly configured. See above props.");n.props.onSubmit(e,{setSubmitting:a})}},n.props.model&&!n.props.initialInstance){var r=n.props.model;n.initialInstance=new r({})}else n.initialInstance=n.props.initialInstance;if(!n.initialInstance&&(!n.props.initialValues||!n.props.onSubmit))throw Error("ERROR: form factory has no initialInstance - seems like you're building a custom form that does not use data model. Please pass in initialValues and onSubmit in props to handle the behavior manually.");return n.validationSchema=n.props.validationSchema||n.props.model.schema,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FormFactory"},i.a.createElement(ue.e,{initialValues:this.initialInstance||this.props.initialValues,validationSchema:this.validationSchema,onSubmit:this.onSubmit},(function(t){var a=t.values,n=t.isSubmitting,r=t.submitForm;return i.a.createElement(ue.d,null,e.props.formFieldPropsList.map((function(e,t){return i.a.createElement(e.formField,Object.assign({key:t},e,{formikValues:a,onSaveKeystroke:r}))})),e.props.actionButtonPropsList.map((function(e,t){return i.a.createElement(W.a,{key:t,type:e.type||be.BUTTON,disabled:n,unelevated:!0,onClick:e.onClick,children:e.text})})))})))}}]),a}(o.Component),Ce=function(e){var t=[new Ee({fieldName:"username",label:"Username",autoFocus:!0}),new Ee({fieldName:"password",label:"Password",type:te.PASSWORD})],a=[new Se("Login",void 0,be.SUBMIT),new Se("Cancel",e.onCancel)],n=function(){var t=Object(O.a)(y.a.mark((function t(a,n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=n.setSubmitting)(!0),e.onSubmit(a,r);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),r=S.object().shape({username:S.string().required("Forgot to type username...?"),password:S.string().required("Password please...!")});return i.a.createElement("div",{className:"loginForm"},i.a.createElement(ge,{initialValues:{username:"guest",password:"appltracky"},formFieldPropsList:t,actionButtonPropsList:a,validationSchema:r,onSubmit:n}))},Te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLoginFormCancel=function(){e.props.history.goBack()},e.onLoginFormSubmit=function(t,a){e.props.requestedLoginAuth(t.username,t.password,(function(){a(!1)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"LocalLoginPage"},i.a.createElement("h1",null,"Login Portal for local sign in"),i.a.createElement("div",null,"If you just want to try it out, you can use guest account:",i.a.createElement("div",null,"username: guest"),i.a.createElement("div",null,"password: appltracky")),i.a.createElement(Ce,{onSubmit:this.onLoginFormSubmit,onCancel:this.onLoginFormCancel}))}}]),a}(o.Component),Ae=Object(G.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLoginAuth:function(t,a,r){e(F(n.LOCAL,{username:t,password:a},r))}}}))(Te)),ke=a(26),_e=a(39),xe=a(43),Le=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"normalizeText",value:function(e){return e.toLowerCase().trim()}}]),e}(),Ie=["place_name","country","state","city","street","full_address","zipcode"],Ne=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.place_name,o=void 0===r?"":r,i=e.country,c=void 0===i?"":i,l=e.state,u=void 0===l?"":l,p=e.city,d=void 0===p?"":p,m=e.street,b=void 0===m?"":m,f=e.full_address,h=void 0===f?"":f,E=e.zipcode,v=void 0===E?"":E,y=Object(j.a)(e,Ie);return Object(s.a)(this,a),(n=t.call(this,y)).place_name=void 0,n.country=void 0,n.state=void 0,n.city=void 0,n.street=void 0,n.full_address=void 0,n.zipcode=void 0,n.place_name=o,n.country=c,n.state=u,n.place_name=o,n.city=d,n.street=b,n.full_address=h,n.zipcode=v,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({full_address:S.string().max(200),street:S.string().max(150),city:S.string().max(50),state:S.string().max(50),country:S.string().max(50),place_name:S.string().max(50),zipcode:S.string().max(20)})}}]),a}(C),we=["text","user","url","order"],De=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,o=void 0===r?"":r,i=e.user,c=void 0===i?{}:i,l=e.url,u=void 0===l?"":l,p=e.order,d=void 0===p?0:p,m=Object(j.a)(e,we);return Object(s.a)(this,a),(n=t.call(this,m)).text=void 0,n.user=void 0,n.url=void 0,n.order=void 0,n.text=o,n.user=c,n.url=u,n.order=d,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({text:S.string().max(200),url:S.string().default("#").when("text",{is:function(e){return e},then:S.string().required("Since you gave the link some text, let's provide an url as well...!").max(500,"URL is too long, only less than 500 characters please")})})}}]),a}(C),Ue=["text","user","color","order"],Fe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,o=void 0===r?ye.TARGET:r,i=e.user,c=void 0===i?null:i,l=e.color,u=void 0===l?"":l,p=e.order,d=void 0===p?0:p,m=Object(j.a)(e,Ue);return Object(s.a)(this,a),(n=t.call(this,m)).text=void 0,n.user=void 0,n.color=void 0,n.order=void 0,n.text=o,n.user=c,n.color=u,n.order=d,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({text:S.string().max(200),color:S.string().max(20),order:S.number()})}}]),a}(C);!function(e){e.TARGET="Target",e.APPLIED="Applied",e.INTERVIEWING="Interviewing",e.ARCHIVED="Archived"}(ye||(ye={})),function(e){e[e.ALL=0]="ALL",e[e.TARGET=1]="TARGET",e[e.APPLIED=2]="APPLIED",e[e.INTERVIEWING=3]="INTERVIEWING",e[e.ARCHIVED=4]="ARCHIVED"}(Oe||(Oe={}));var Re,Pe=["user","labels","name","hq_location","home_page","notes","ratings","applications"],qe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.user,o=void 0===r?"":r,i=e.labels,c=void 0===i?[]:i,l=e.name,u=void 0===l?"":l,p=e.hq_location,d=void 0===p?new Ne({}):p,m=e.home_page,b=void 0===m?new De({}):m,f=e.notes,h=void 0===f?"":f,E=e.ratings,v=void 0===E?{}:E,y=e.applications,O=void 0===y?[]:y,S=Object(j.a)(e,Pe);return Object(s.a)(this,a),(n=t.call(this,S)).user=void 0,n.labels=void 0,n.name=void 0,n.hq_location=void 0,n.home_page=void 0,n.notes=void 0,n.ratings=void 0,n.applications=void 0,n.user=o,n.labels=c,n.name=u,n.hq_location=d,n.home_page=b,n.notes=h,n.ratings=v,n.applications=O,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({name:S.string().required("Every company needs a name...!").max(100),home_page:De.schema(),notes:S.string(),hq_location:Ne.schema()})}},{key:"getLabel",value:function(e){return e.labels&&e.labels.length?e.labels[0].text:ye.TARGET}}]),a}(C),Ge=(je={},Object(ke.a)(je,ye.TARGET,"targetCompany"),Object(ke.a)(je,ye.APPLIED,"appliedCompany"),Object(ke.a)(je,ye.INTERVIEWING,"interviewingCompany"),Object(ke.a)(je,ye.ARCHIVED,"archivedCompany"),je),Be=Object.values(Ge),He=a(273),Me=a.n(He),Ve=a(274),ze=a.n(Ve),Qe=a(275),We=a.n(Qe),Je=a(276),Ye=a.n(Je),Ke=a(277),Xe=a.n(Ke),Ze=a(526),$e=a(522),et=a(525),tt=(a(459),a(460),a(461),a(462),a(191)),at=a.n(tt),nt=a(265),rt=a.n(nt),ot=a(266),it=a.n(ot),ct=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:it.a.TabContent},this.props.children)}}]),a}(o.Component),lt=a(267),st=a.n(lt),ut=a(268),pt=a.n(ut),dt=a(269),mt=a.n(dt);!function(e){e.SET_ACTIVE_TAB="User app page set active tab",e.SET_LAST_SEARCH_TEXT="User app page set last search text"}(Re||(Re={}));var bt,ft=function(e){return{type:Re.SET_LAST_SEARCH_TEXT,lastSearchText:e}};!function(e){e.LEFTWARD="leftward",e.RIGHTWARD="rightward"}(bt||(bt={}));var ht,Et=function(e){var t=e.render,a=Object(m.d)(),n=Object(m.e)((function(e){return e.userAppPage.activeTabIndex})),r=Object(o.useState)(bt.RIGHTWARD),c=Object(xe.a)(r,2),l=c[0],s=c[1],u=t?t():[],p=Array.isArray(u)?u:[u];return i.a.createElement("div",null,i.a.createElement(rt.a,{className:"".concat(mt.a.tabBar),activeIndex:n,handleActiveIndexUpdate:function(e){var t;a((t=e,{type:Re.SET_ACTIVE_TAB,activeTabIndex:t})),s(e>n?bt.LEFTWARD:bt.RIGHTWARD)}},p.map((function(e,t){return i.a.createElement(at.a,{key:t,tabIndex:t},i.a.createElement("span",{className:"mdc-tab__text-label"},e.props.label))}))),p.map((function(e,t){return i.a.createElement(V.a,{key:t,classNames:l===bt.RIGHTWARD?Object(E.a)({},pt.a):Object(E.a)({},st.a),in:n===t,timeout:500,unmountOnExit:!0},i.a.createElement(ct,e.props))})))},vt=(a(465),a(166)),yt=a.n(vt),Ot=a(494),jt=a(538),St=(a(466),a(54)),gt=(a(186),a(31)),Ct=a.n(gt),Tt=(a(467),a(523)),At=a(541);!function(e){e.CANCEL_ALL="Cancel all selected company",e.ADD_SELECT_COMPANY="Add select company",e.REMOVE_SELECT_COMPANY="Remove select company",e.SET_DESTINATION_STATUS="Set destination status",e.APPLY_ALL_CHANGES="Batch apply all company status changes",e.SET_REQUEST_STATUS="Set select company apply request status"}(ht||(ht={}));var kt,_t=function(e){return{type:ht.SET_REQUEST_STATUS,requestStatus:e}},xt=function(e){var t=e.company,a=Object(m.d)(),n=Object(m.e)((function(e){return e.selectCompany.selectCompanyCollection})),r=Object(o.useCallback)((function(e){var n;e.target.checked?a(function(e){return{type:ht.ADD_SELECT_COMPANY,company:e}}(t)):a((n=t.uuid,{type:ht.REMOVE_SELECT_COMPANY,companyId:n}))}),[a,t]);return i.a.createElement(At.a,{edge:"end",checked:n.has(t.uuid),onChange:r})},Lt=a(44),It=function(e){var t,a;return i.a.createElement(Ot.a,{className:"",dense:!0},i.a.createElement(jt.a,{display:"flex",flexWrap:"wrap"},i.a.createElement(Lt.a,{to:"/com-app/".concat(null===e||void 0===e||null===(t=e.company)||void 0===t?void 0:t.uuid)},i.a.createElement($e.a,null,i.a.createElement(Tt.a,{variant:"h5"},e.company?e.company.name:i.a.createElement(Ct.a,{duration:1.1,width:"50vmin"})))),e.company?e.company.labels.length&&e.company.labels[0].text?i.a.createElement(St.ChipSet,null,i.a.createElement(St.Chip,{label:e.company.labels[0].text})):i.a.createElement(St.ChipSet,null,i.a.createElement(St.Chip,{label:"None"})):i.a.createElement(Ct.a,{width:"40px"}),e.applications?i.a.createElement(jt.a,{display:"flex",flexWrap:"wrap"},e.applications.map((function(e){return i.a.createElement(vt.ListItem,{key:e.uuid},i.a.createElement(vt.ListItemText,{primaryText:e.position_title}))}))):i.a.createElement(yt.a,{nonInteractive:!0},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(Ct.a,{duration:1.1,width:"40vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{duration:1.1,width:"60vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{duration:1.1,width:"50vmin"})))),i.a.createElement(i.a.Fragment,null,(null===(a=e.company)||void 0===a?void 0:a.uuid)?i.a.createElement(xt,{company:e.company}):null)))},Nt=a(130),wt=a.n(Nt),Dt=function(e){for(var t=Object.values(f),a={},n=function(){var t,n=o[r],i="".concat(b.TRIGGERED.toUpperCase(),"_").concat(n.toUpperCase(),"_").concat(e.toUpperCase()),c="".concat(b.REQUESTING.toUpperCase(),"_").concat(n.toUpperCase(),"_").concat(e.toUpperCase()),l="".concat(b.SUCCESS.toUpperCase(),"_").concat(n.toUpperCase(),"_").concat(e.toUpperCase()),s="".concat(b.FAILURE.toUpperCase(),"_").concat(n.toUpperCase(),"_").concat(e.toUpperCase());a[n]=(t={},Object(ke.a)(t,b.TRIGGERED,{actionTypeName:i,action:function(e){var t=e.objectClassInstance,a=e.successCallback,r=e.failureCallback,o=e.finalCallback,c=e.absoluteUrl,l=e.graphqlFunctionName,s=e.graphqlArgs,u=e.triggerActionOptions;return{type:i,crudType:n,finalCallback:o,successCallback:a,failureCallback:r,absoluteUrl:c,graphqlFunctionName:l,graphqlArgs:s,triggerActionOptions:u,payload:{requestStatus:b.TRIGGERED,formData:t}}}}),Object(ke.a)(t,b.REQUESTING,{actionTypeName:c,action:function(){return{type:c,crudType:n,payload:{requestStatus:b.REQUESTING}}}}),Object(ke.a)(t,b.SUCCESS,{actionTypeName:l,action:function(e){var t=e.jsonResponse,a=e.triggerFormData,r=e.graphqlEndCursor,o=e.clearAll,i={type:l,crudType:n};if(n===f.DELETE)return o?Object(E.a)(Object(E.a)({},i),{},{clearAll:o,payload:{requestStatus:b.SUCCESS}}):Object(E.a)(Object(E.a)({},i),{},{triggerFormData:a,payload:{requestStatus:b.SUCCESS}});if(void 0===t)return console.error("action is ".concat(n," and not DELETE - so jsonResponse is required but it's undefined. Please make sure to pass in jsonResponse if not a DELETE action.")),Object(E.a)(Object(E.a)({},i),{},{payload:{requestStatus:b.SUCCESS}});if(D(t))return Object(E.a)(Object(E.a)({},i),{},{payload:{requestStatus:b.SUCCESS,formData:t}});var c=Array.isArray(t)?t:t.results;return Object(E.a)(Object(E.a)({},i),{},{graphqlEndCursor:r,payload:{requestStatus:b.SUCCESS,formData:c}})}}),Object(ke.a)(t,b.FAILURE,{actionTypeName:s,action:function(e){return{type:s,crudType:n,payload:{requestStatus:b.FAILURE,error:e}}}}),t)},r=0,o=t;r<o.length;r++)n();return a};!function(e){e.ResetAllStore="RESET_ALL_STORE"}(kt||(kt={}));var Ut=Dt("companies"),Ft=Be.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},t,Dt(t)))}),{}),Rt=Dt("searchCompany"),Pt=Dt("applications"),qt=Dt("application-statuses"),Gt=a(524),Bt=a(543),Ht=Object(Gt.a)((function(){return Object(Bt.a)({loadMoreButtonContainer:{display:"flex",justifyContent:"center",margin:"5vh 0 10vh 0"},centerVertically:{display:"flex",alignItems:"center"}})})),Mt=function(e){var t=e.labelText,a=Object(m.e)((function(e){return e[Ge[t]]})),n=a.graphqlEndCursor,r=a.requestStatus,c=Object(m.d)(),l=Object(o.useCallback)((function(){c(Ft[Ge[t]][f.LIST][b.TRIGGERED].action({graphqlFunctionName:"fetchDashboardCompanyData",graphqlArgs:{labels__text:t,after:n}}))}),[n]);return i.a.createElement($e.a,{color:"primary",disableElevation:!0,variant:"contained",onClick:l,disabled:r===b.REQUESTING},"Load More")},Vt=function(e){var t=e.searchText,a=e.disabled,n=Object(m.e)((function(e){return e.searchCompany})),r=n.graphqlEndCursor,c=n.requestStatus,l=Object(m.d)(),s=Object(o.useCallback)((function(){l(Rt[f.LIST][b.TRIGGERED].action({graphqlFunctionName:"fetchDashboardCompanyData",graphqlArgs:{name__icontains:t,after:r}}))}),[r]);return i.a.createElement($e.a,{color:"primary",disableElevation:!0,variant:"contained",onClick:s,disabled:c===b.REQUESTING||a},"Load More")},zt=Object(G.i)(Object(m.c)((function(e){return Object(E.a)(Object(E.a)({company:e.company},Be.reduce((function(t,a){return Object(E.a)(Object(E.a)({},t),{},Object(ke.a)({},a,e[a]))}),{})),{},{application:e.application})}),(function(e){return{}}))((function(e){var t=Ht(),a=Object(m.d)(),n=Object(m.e)((function(e){return[e.userAppPage.lastSearchText,e.searchCompany.requestStatus]})),r=Object(xe.a)(n,2),c=r[0],l=r[1],s=Object(o.useState)(c),u=Object(xe.a)(s,2),p=u[0],d=u[1],h=Object(o.useState)(!1),E=Object(xe.a)(h,2),v=E[0],y=E[1];Object(o.useEffect)((function(){return function(){a(ft(p))}}),[p]);var O=Object(m.e)((function(e){return e.interviewingCompany.graphqlEndCursor}));Object(o.useEffect)((function(){if(void 0===O){a(Ft.targetCompany[f.LIST][b.TRIGGERED].action({graphqlFunctionName:"fetchDashboardCompanyData",graphqlArgs:{labels__isnull:!0}}));for(var e=0,t=Object.values(ye);e<t.length;e++){var n=t[e];a(Ft[Ge[n]][f.LIST][b.TRIGGERED].action({graphqlFunctionName:"fetchDashboardCompanyData",graphqlArgs:{labels__text:n}}))}}}),[O]);var j=function(){return""===Le.normalizeText(p)},S=function(e){d(e.currentTarget.value)};Object(o.useEffect)((function(){j()?v&&y(!1):v||y(!0)}),[p]);Object(m.e)((function(e){return e.searchCompany.graphqlEndCursor}));var g=function(e){switch(e.key.toLowerCase()){case"enter":j()||a(Rt[f.LIST][b.TRIGGERED].action({graphqlFunctionName:"fetchDashboardCompanyData",graphqlArgs:{name__icontains:p},triggerActionOptions:{clearPreviousCollection:!0},successCallback:function(){a(ft(p))}}));break;case"escape":C()}},C=function(){d(""),y(!1),a(Rt[f.DELETE][b.SUCCESS].action({clearAll:!0})),a(ft(""))},T=Object(m.e)((function(t){return Object.values(t.searchCompany.collection).map((function(t){return e.company.collection[t.uuid]}))}));return i.a.createElement("div",null,i.a.createElement("div",{className:wt.a.UserAppPageHeader},i.a.createElement(ne.Headline3,null,"My Orgs"),i.a.createElement($e.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){e.history.push("/com-form/")}},i.a.createElement(Z.a,{icon:"add"}),"Add Organization")),i.a.createElement(Et,{render:function(){var a=i.a.createElement(ct,{label:i.a.createElement(et.a,{badgeContent:T.length,color:"secondary"},i.a.createElement("div",{className:t.centerVertically},"Search ",i.a.createElement(Me.a,null)))},i.a.createElement("div",{className:wt.a.companyListHeader},i.a.createElement(se.a,{className:wt.a.searchField,label:"Google, UCLA, ... etc",outlined:!0,leadingIcon:i.a.createElement(Z.a,{role:"button",icon:"search"}),trailingIcon:""===p?void 0:i.a.createElement(Z.a,{role:"button",icon:"clear"}),onTrailingIconSelect:C},i.a.createElement(le.Input,{type:te.TEXT,inputType:"input",onKeyDown:g,onChange:S,value:p,autoFocus:!0,disabled:l===b.REQUESTING}))),i.a.createElement(Ze.a,null,T.map((function(t,a){return i.a.createElement(It,{key:t?t.uuid:a,company:t,applications:(null===t||void 0===t?void 0:t.applications)?t.applications.map((function(t){return e.application.collection[t]})):void 0})}))),i.a.createElement("div",{className:t.loadMoreButtonContainer},i.a.createElement(Vt,{searchText:p,disabled:!v}))),n=Object.values(ye).map((function(a,n){return i.a.createElement(ct,{key:n,label:i.a.createElement(et.a,{badgeContent:Object.keys(e[Ge[a]].collection).length,color:"secondary"},i.a.createElement("div",{className:t.centerVertically},a,a===ye.TARGET?i.a.createElement(ze.a,null):a===ye.APPLIED?i.a.createElement(We.a,null):a===ye.INTERVIEWING?i.a.createElement(Ye.a,null):a===ye.ARCHIVED?i.a.createElement(Xe.a,null):null))},i.a.createElement("div",{className:wt.a.companyListHeader},i.a.createElement("h1",null,a)),i.a.createElement("div",null,Object.values(e[Ge[a]].collection).map((function(t,a){return e.company.collection[t.uuid]})).sort((function(e,t){return new Date(t.modified_at).getTime()-new Date(e.modified_at).getTime()})).map((function(t,a){var n=t?t.applications.map((function(t){return e.application.collection[t]})):void 0;return i.a.createElement(It,{key:t?t.uuid:a,company:t,applications:n})}))),i.a.createElement("div",{className:t.loadMoreButtonContainer},i.a.createElement(Mt,{labelText:a})))}));return[a].concat(Object(_e.a)(n))}}))}))),Qt=(a(468),a(249),a(97)),Wt=a.n(Qt),Jt=function(e){return i.a.createElement("div",{className:"FormBaseDynamicFieldControlls"},i.a.createElement(Wt.a,{type:"button",onClick:function(){window.confirm("Are you sure you want to delete this dynamic field?")&&e.formikArrayHelpers.remove(e.index)}},i.a.createElement(Z.a,{icon:"delete"})))},Yt=function(e){return i.a.createElement(W.a,{type:"button",onClick:function(){if(e.model){var t=e.model;e.formikArrayHelpers.push(new t({}))}else e.formikArrayHelpers.push({})},children:"New ".concat(e.label)})},Kt=function(e){return function(t){if(t.isDynamic&&!t.formikValues)throw alert("Oops! Something's wrong."),Error("When `isDynamic` is true, you need to pass over `formikValues`.");var a=t.formikValues,n=t.getInstanceDataFromFormikValues;return t.isDynamic&&n&&a?i.a.createElement(ue.c,{name:t.fieldName,render:function(r){return i.a.createElement("div",{className:"FormApplicationStatusLinkFieldsContainer"},n(a).map((function(a,n){return i.a.createElement("div",{key:n,className:"FormBaseDynamicField"},i.a.createElement(e,{fieldName:"".concat(t.fieldName,"[").concat(n,"]"),label:"".concat(t.label," ").concat(n),formikValues:t.formikValues,getInstanceDataFromFormikValues:t.getInstanceDataFromFormikValues}),i.a.createElement(Jt,{index:n,formikArrayHelpers:r}))})),i.a.createElement(Yt,{formikArrayHelpers:r,label:t.label,model:t.model}))}}):i.a.createElement(e,{fieldName:t.fieldName,label:t.label,formikValues:t.formikValues,getInstanceDataFromFormikValues:t.getInstanceDataFromFormikValues})}},Xt=Kt(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).textInputFieldMeta=void 0,n.urlInputFieldMeta=void 0,n.textInputFieldMeta=new Ee({fieldName:"".concat(n.props.fieldName,".text"),label:"Description",autoFocus:!0}),n.urlInputFieldMeta=new Ee({fieldName:"".concat(n.props.fieldName,".url"),label:"Link url"}),n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"FormLinkField"},this.props.label&&i.a.createElement(ne.Overline,null,this.props.label),i.a.createElement(me,this.textInputFieldMeta),i.a.createElement(me,this.urlInputFieldMeta))}}]),a}(o.Component)),Zt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).model=De,n.formField=Xt,n}return a}(fe),$t=Kt(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fullAddressInputFieldMeta=void 0,n.placeNameInputFieldMeta=void 0,n.fullAddressInputFieldMeta=new Ee({fieldName:"".concat(n.props.fieldName,".full_address"),label:"Full Address"}),n.placeNameInputFieldMeta=new Ee({fieldName:"".concat(n.props.fieldName,".place_name"),label:"Place Name"}),n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"FormAddressField"},this.props.label&&i.a.createElement(ne.Overline,null,this.props.label),i.a.createElement(me,this.placeNameInputFieldMeta),i.a.createElement(me,this.fullAddressInputFieldMeta))}}]),a}(o.Component)),ea=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).model=Ne,n.formField=$t,n}return a}(fe),ta=Object(G.i)(Object(m.c)((function(e){return{}}))((function(e){var t=Object(o.useState)(e.selectedLabels&&e.selectedLabels.length?[e.selectedLabels[0].text]:[ye.TARGET]),a=Object(xe.a)(t,2),n=a[0],r=a[1];return Object(o.useEffect)((function(){e.onChange&&e.onChange(n[0])}),[n]),i.a.createElement("div",{className:"LabelGroupComponent"},e.titleText&&i.a.createElement(ne.Overline,null,e.titleText),i.a.createElement(St.ChipSet,{choice:!0,selectedChipIds:n,handleSelect:function(e){r(e)}},Object.values(ye).map((function(e,t){return i.a.createElement(St.Chip,{key:t,id:e,label:e})}))))}))),aa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FormLabelField"},i.a.createElement(ue.b,{name:this.props.fieldName,render:function(t){var a=t.field,n=t.form;return i.a.createElement(ta,{titleText:e.props.label,selectedLabels:a.value,onChange:function(e){n.setFieldValue(a.name,[new Fe({text:e})])}})}}),i.a.createElement(ue.a,{name:this.props.fieldName}))}}]),a}(o.Component),na=["onTrailingIconSelect","autoFocus"],ra=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.onTrailingIconSelect,o=e.autoFocus,i=Object(j.a)(e,na);return Object(s.a)(this,a),(n=t.call(this,i)).onTrailingIconSelect=void 0,n.autoFocus=void 0,n.model=Fe,n.onTrailingIconSelect=r,n.autoFocus=o,n.formField=aa,n}return a}(fe),oa=a(94),ia=a.n(oa),ca=a(95),la=a.n(ca),sa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FormRichTextField"},i.a.createElement(ue.b,{name:this.props.fieldName,render:function(t){var a=t.field,n=t.form;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt.a,{variant:"overline"},e.props.label),i.a.createElement(ia.a,{editor:la.a,data:a.value,onChange:function(e,t){n.setFieldValue(a.name,t.getData())},onSaveKeystroke:e.props.onSaveKeystroke}))}}),i.a.createElement(ue.a,{name:this.props.fieldName}))}}]),a}(o.Component),ua=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).formField=sa,n}return a}(fe),pa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new Ee({fieldName:"name",label:"Organization Name*",autoFocus:!0}),new ra({fieldName:"labels",label:"Process Status"}),new ea({fieldName:"hq_location",label:"Headquarter Location"}),new Zt({fieldName:"home_page",label:"Organization Website"}),new ua({fieldName:"notes",label:"Quick Notes (Company Background, Culture, etc)"})],n.actionButtonPropsList=[new Se(n.props.company?"Save Company":"Create Company",void 0,be.SUBMIT),new Se("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"CompanyFormComponent"},i.a.createElement(ge,{model:qe,initialInstance:this.props.company,formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createCompany,updateInstanceTriggerAction:this.props.updateCompany,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(o.Component),da=Object(m.c)((function(e){return{}}),(function(e){return{createCompany:function(t,a,n){return e(Ut[f.CREATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){t=t,e(Ft[Ge[qe.getLabel(t)]][f.CREATE][b.SUCCESS].action({jsonResponse:{uuid:t.uuid}})),a&&a(t)})),finalCallback:n}))},updateCompany:function(t,a,n,r){return e(Ut[f.UPDATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a,finalCallback:n,triggerActionOptions:{updateFromObject:r}}))}}}))(pa),ma=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.match.params.uuid&&this.props.company.collection[this.props.match.params.uuid]?this.props.company.collection[this.props.match.params.uuid]:void 0;return i.a.createElement("div",{className:"AddComPage"},i.a.createElement("h1",null,t?"Update Organization":"Add an Organization"),i.a.createElement(da,{company:t,onSubmitSuccess:function(a){var n=a.uuid;t?e.props.history.push("/com-app/".concat(n,"/")):e.props.history.replace("/com-app/".concat(n,"/"))},onCancel:function(t){e.props.history.goBack()}}))}}]),a}(o.Component),ba=Object(G.i)(Object(m.c)((function(e){return{company:e.company}}),(function(e){return{}}))(ma)),fa=a(128),ha=a.n(fa),Ea=a(127),va=a.n(Ea),ya=a(196),Oa=a.n(ya),ja=a(117),Sa=a.n(ja),ga=a(278),Ca=a.n(ga),Ta=a(521),Aa=["text","application","applicationstatuslink_set","date","order"],ka=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,o=void 0===r?"":r,i=e.application,c=void 0===i?"":i,l=e.applicationstatuslink_set,u=void 0===l?[]:l,p=e.date,d=void 0===p?a.localeNowDateString():p,m=e.order,b=void 0===m?0:m,f=Object(j.a)(e,Aa);return Object(s.a)(this,a),(n=t.call(this,f)).text=void 0,n.application=void 0,n.applicationstatuslink_set=void 0,n.date=void 0,n.order=void 0,n.text=o,n.application=c,n.applicationstatuslink_set=u,n.date=d,n.order=b,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({text:S.string().required("Give a quick one or two words for the status").max(50,"No more than 50 characters"),date:S.string().length(10),order:S.number()})}},{key:"localeNowDateString",value:function(){var e=new Date;return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getDate())).toISOString().split("T")[0]}}]),a}(C),_a=["application_status","link"],xa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.application_status,o=void 0===r?"":r,i=e.link,c=void 0===i?new De({}):i,l=Object(j.a)(e,_a);return Object(s.a)(this,a),(n=t.call(this,l)).application_status=void 0,n.link=void 0,n.application_status=o,n.link=c,n}return a}(C),La=Kt(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).linkFieldProps=void 0,n.linkFieldProps=new Zt({fieldName:"".concat(n.props.fieldName,".link"),label:"",isDynamic:!1}),n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"FormApplicationStatusLinkField"},this.props.label&&i.a.createElement("h4",null,this.props.label),i.a.createElement(Xt,Object.assign({},this.linkFieldProps,{formikValues:this.props.formikValues,getInstanceDataFromFormikValues:this.props.getInstanceDataFromFormikValues})))}}]),a}(o.Component)),Ia=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).model=xa,n.formField=La,n}return a}(fe),Na=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new Ee({fieldName:"text",label:"Status*",autoFocus:!0}),new Ee({fieldName:"date",label:"Date",type:te.DATE}),new Ia({fieldName:"applicationstatuslink_set",label:"Status Link",isDynamic:!0})],n.actionButtonPropsList=[new Se(n.props.applicationStatus?"Save Status":"Create Status",void 0,be.SUBMIT),new Se("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationStatusFormComponent"},i.a.createElement(ge,{model:ka,initialInstance:new ka(Object(E.a)({},this.props.applicationStatus)),enforcedInstanceData:{application:this.props.application.uuid},formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createApplicationStatus,updateInstanceTriggerAction:this.props.updateApplicationStatus,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(o.Component),wa=Object(G.i)(Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{createApplicationStatus:function(t,a,n){return e(qt[f.CREATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a,finalCallback:n}))},updateApplicationStatus:function(t,a,n){return e(qt[f.UPDATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a,finalCallback:n}))}}}))(Na)),Da=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isFormOpened:!1},e.renderDisplay=function(t){return i.a.createElement("div",{className:"ApplicationStatusComponent"},i.a.createElement("span",null,"Status: ",t?t.text:i.a.createElement(Ct.a,{width:"20vmin"})),t?i.a.createElement(Wt.a,{onClick:function(){e.setState({isFormOpened:!0})}},i.a.createElement(Z.a,{icon:"edit"})):i.a.createElement(Wt.a,{disabled:!0},i.a.createElement(Z.a,{icon:"edit"})),t?i.a.createElement(Wt.a,{onClick:function(){return window.confirm("Are you sure you want to delete this status? ".concat(t.text))&&e.props.deleteApplicationStatus(t)}},i.a.createElement(Z.a,{icon:"delete"})):i.a.createElement(Wt.a,{disabled:!0},i.a.createElement(Z.a,{icon:"delete"})),i.a.createElement("div",null,t?t.date:i.a.createElement(Ct.a,{width:"35vmin"})),t?t.applicationstatuslink_set.map((function(e){return e&&e.link&&i.a.createElement("span",{key:e.uuid},i.a.createElement("a",{href:e.link.url&&e.link.url.includes("//")?e.link.url:"//".concat(e.link.url),target:"_blank"},e.link.text)," ","|"," ")})):i.a.createElement(Ct.a,{width:"10vmin"}))},e.renderFormController=function(t,a){return i.a.createElement("div",{className:"application-status-form-controller"},e.state.isFormOpened&&t?i.a.createElement("div",{className:"application-component__status-form"},i.a.createElement("h3",null,"Add new status to application for"," ",t.position_title," "),i.a.createElement(wa,{application:t,applicationStatus:a,onCancel:function(){e.setState({isFormOpened:!1})},onSubmitSuccess:function(){e.setState({isFormOpened:!1})}})):i.a.createElement(W.a,{disabled:!t||e.props.applicationStatusStore.requestStatus===b.REQUESTING,onClick:function(t){e.setState({isFormOpened:!0})},unelevated:!0,icon:i.a.createElement(Z.a,{icon:"add"})},"Add New Status"))},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationStatusComponent"},this.state.isFormOpened||this.props.isOnlyForm?this.renderFormController(this.props.application,this.props.applicationStatus):this.renderDisplay(this.props.applicationStatus))}}]),a}(o.Component),Ua=Object(G.i)(Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{deleteApplicationStatus:function(t,a){return e(qt[f.DELETE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a}))}}}))(Da)),Fa=["user","user_company","position_title","job_description_page","job_source","labels","notes","job_description_notes","statuses"],Ra=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.user,o=void 0===r?"":r,i=e.user_company,c=void 0===i?"":i,l=e.position_title,u=void 0===l?"":l,p=e.job_description_page,d=void 0===p?new De({}):p,m=e.job_source,b=void 0===m?new De({}):m,f=e.labels,h=void 0===f?{}:f,E=e.notes,v=void 0===E?"":E,y=e.job_description_notes,O=void 0===y?"":y,S=e.statuses,g=void 0===S?[]:S,C=Object(j.a)(e,Fa);return Object(s.a)(this,a),(n=t.call(this,C)).user=void 0,n.user_company=void 0,n.position_title=void 0,n.job_description_page=void 0,n.job_source=void 0,n.labels=void 0,n.notes=void 0,n.job_description_notes=void 0,n.statuses=void 0,n.user=o,n.user_company=c,n.position_title=u,n.job_description_page=d,n.job_source=b,n.labels=h,n.notes=v,n.job_description_notes=O,n.statuses=g,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return S.object().shape({position_title:S.string().required("We need a title...!").max(150,"No more than 150 characters"),job_description_page:De.schema(),job_source:De.schema(),notes:S.string(),job_description_notes:S.string()})}}]),a}(C),Pa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new Ee({fieldName:"position_title",label:"Position Title*",autoFocus:!0}),new Zt({fieldName:"job_description_page",label:"Job Description Link"}),new Zt({fieldName:"job_source",label:"Job Source Link"}),new ua({fieldName:"notes",label:"Quick Notes"}),new ua({fieldName:"job_description_notes",label:"Job Description Notes"})],n.actionButtonPropsList=[new Se(n.props.company?"Save Application":"Create Application",void 0,be.SUBMIT),new Se("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationFormComponent"},i.a.createElement(ge,{model:Ra,initialInstance:new Ra(Object(E.a)({},this.props.application)),enforcedInstanceData:{user_company:this.props.company.uuid},formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createApplication,updateInstanceTriggerAction:this.props.updateApplication,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(o.Component),qa=Object(m.c)((function(e){return{applicationStore:e.application}}),(function(e){return{createApplication:function(t,a,n){return e(Pt[f.CREATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a,finalCallback:n}))},updateApplication:function(t,a,n){return e(Pt[f.UPDATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a,finalCallback:n}))}}}))(Pa),Ga=a(195),Ba=a.n(Ga),Ha=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isFormOpened:!1},e.renderApplicationFormController=function(){return e.props.company&&i.a.createElement("div",{className:"application-form-controller"},i.a.createElement("h2",null,e.props.application?"Edit Application":"New Application"),i.a.createElement(qa,{onCancel:function(t){e.setState({isFormOpened:!1})},onSubmitSuccess:function(){return e.setState({isFormOpened:!1})},company:e.props.company,application:e.props.application}))},e.renderApplicationDisplay=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i.a.createElement("div",{className:"application-component-display"},i.a.createElement("h2",null,t?t.position_title:i.a.createElement(Ct.a,null),(null===t||void 0===t?void 0:t.job_description_page)?i.a.createElement(Ta.a,{disabled:"#"==t.job_description_page.url},i.a.createElement(Sa.a,null)):i.a.createElement(Ta.a,{disabled:!0},i.a.createElement(Sa.a,null)),(null===t||void 0===t?void 0:t.job_source)?i.a.createElement(Ta.a,{disabled:"#"==t.job_source.url},i.a.createElement(Oa.a,null)):i.a.createElement(Ta.a,{disabled:!0},i.a.createElement(Oa.a,null)),t?i.a.createElement(Ta.a,{disabled:e.props.disableApplicationActionButtons,onClick:function(){e.setState({isFormOpened:!0})}},i.a.createElement(va.a,null)):i.a.createElement(Ta.a,{disabled:!0},i.a.createElement(va.a,null)),t?i.a.createElement(Ta.a,{disabled:e.props.disableApplicationActionButtons,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(t.position_title,"?"))&&e.props.deleteApplication(t)}},i.a.createElement(ha.a,null)):i.a.createElement(Ta.a,{disabled:!0},i.a.createElement(ha.a,null))),i.a.createElement("div",{className:"applicationNotesRichText"},i.a.createElement("h3",null,"Quick Notes"),t?t.notes?i.a.createElement(ia.a,{editor:la.a,disabled:!0,data:t.notes}):i.a.createElement("p",null,"No notes yet."):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"70vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"30vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"50vmin"})))),i.a.createElement("div",{className:"applicationNotesRichText"},i.a.createElement("h3",null,"Job Description Notes"),t?t.job_description_notes?i.a.createElement(ia.a,{editor:la.a,disabled:!0,data:t.job_description_notes}):i.a.createElement("p",null,"No job description notes yet."):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"60vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"30vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"80vmin"})))),i.a.createElement("div",{className:"statusContainer"},i.a.createElement(ne.Headline6,null,"Status"),i.a.createElement(Ua,{application:t,isOnlyForm:!0}),e.props.applicationStatusStore.requestStatus===b.REQUESTING&&i.a.createElement(Ua,null),t&&a.map((function(e,a){return i.a.createElement(Ua,{key:a,applicationStatus:e,application:t})}))))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return!this.state.isFormOpened&&this.props.isOnlyForm?i.a.createElement(W.a,{disabled:!this.props.company,onClick:function(t){e.setState({isFormOpened:!0})},unelevated:!0,icon:i.a.createElement(Ca.a,null)},"Add Application"):i.a.createElement("div",{className:Ba.a.applicationCard},i.a.createElement("div",{className:Ba.a.applicationCardContent},this.state.isFormOpened||this.props.isOnlyForm?this.renderApplicationFormController():this.renderApplicationDisplay(this.props.application,this.props.applicationStatusList)))}}]),a}(o.Component),Ma=Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{deleteApplication:function(t,a){return e(Pt[f.DELETE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a}))}}}))(Ha),Va=a(197),za=a.n(Va),Qa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.company;return i.a.createElement("div",{className:"CompanyComponent"},i.a.createElement("div",{className:za.a.companyTitleContainer},i.a.createElement("h1",null,e?e.name:i.a.createElement(Ct.a,{width:"50vmin"})),e?e.labels.length&&e.labels[0].text?i.a.createElement(St.ChipSet,null,i.a.createElement(St.Chip,{label:e.labels[0].text})):i.a.createElement(St.ChipSet,null,i.a.createElement(St.Chip,{label:"None"})):i.a.createElement(Ct.a,{width:"40px"}),(null===e||void 0===e?void 0:e.home_page)?i.a.createElement(Ta.a,{disabled:"#"==e.home_page.url,target:"_blank",href:e.home_page.url&&e.home_page.url.includes("//")?e.home_page.url:"//".concat(e.home_page.url)},i.a.createElement(Sa.a,null)):i.a.createElement(Ta.a,{disabled:!0},i.a.createElement(Sa.a,null)),i.a.createElement("div",{className:"CompanyActionCreators"},i.a.createElement(Ta.a,{disabled:this.props.actionButtonsDisabled,onClick:this.props.onEditIconClicked},i.a.createElement(va.a,null)),i.a.createElement(Ta.a,{disabled:this.props.actionButtonsDisabled,onClick:this.props.onDeleteIconClicked},i.a.createElement(ha.a,null)))),i.a.createElement("div",{className:za.a.companyTitleCaption},(null===e||void 0===e?void 0:e.hq_location)?e.hq_location.place_name:i.a.createElement(Ct.a,null),(null===e||void 0===e?void 0:e.hq_location)?e.hq_location.full_address:i.a.createElement(Ct.a,null)),i.a.createElement("div",null,i.a.createElement("h2",null,"Quick Notes (Company Background, Culture, etc)"),e?e.notes?i.a.createElement(ia.a,{editor:la.a,disabled:!0,data:e.notes}):i.a.createElement("p",null,"No company quick notes yet"):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"70vmin"})),i.a.createElement("div",null,i.a.createElement(Ct.a,{width:"30vmin"})))))}}]),a}(o.Component),Wa=a(279),Ja=a.n(Wa),Ya=Object(G.i)(Object(m.c)((function(e){return Object(E.a)(Object(E.a)({companyStore:e.company},Be.reduce((function(t,a){return Object(E.a)(Object(E.a)({},t),{},Object(ke.a)({},a,e[a]))}),{})),{},{applicationStore:e.application,applicationStatusStore:e.applicationStatus})}),(function(e){return{createApplication:function(t,a){return e(Pt[f.CREATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a}))},deleteCompany:function(t,a){return e(Ut[f.DELETE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a}))},updateCompany:function(t,a){return e(Ut[f.UPDATE][b.TRIGGERED].action({objectClassInstance:t,successCallback:a}))}}}))((function(e){var t=e.match.params.uuid,a=e.companyStore.collection[t],n=Object(m.d)();Object(o.useEffect)((function(){t&&(a&&a.modified_at||e.companyStore.requestStatus===b.REQUESTING||n(Ut[f.READ][b.TRIGGERED].action({absoluteUrl:"".concat(U.state.apiBaseUrl,"companies/").concat(t,"/")})))}),[a,t]);var r=function(){e.history.replace("/home/")},c=function(){e.match.params.uuid?window.confirm("Are you sure you want to delete company ".concat(a.name,"?"))&&e.deleteCompany(a,r):console.error("Attempted to delete but company obj has no uuid")},l=function(){if(e.match.params.uuid){var t=e.companyStore.collection[e.match.params.uuid];e.history.push("/com-form/".concat(t.uuid,"/"))}else console.error("Attempted to edit but no company uuid provided")},s=function(){if(e.match.params.uuid){var t=e.companyStore.collection[e.match.params.uuid],a=t?t.applications:[];return i.a.createElement("div",{className:Ja.a.UserCompanyPage},i.a.createElement(W.a,{onClick:function(t){e.history.push("/home/")}},"Back"),i.a.createElement(Qa,{company:t,onDeleteIconClicked:c,onEditIconClicked:l,actionButtonsDisabled:e.companyStore.requestStatus===b.REQUESTING}),i.a.createElement("h2",null,"Your Applications"),i.a.createElement("div",null,i.a.createElement(Ma,{company:t,isOnlyForm:!0})),t?a.map((function(a,n){var r=e.applicationStore.collection[a],o=r?(r.statuses||[]).map((function(t){return e.applicationStatusStore.collection[t]})):void 0;return i.a.createElement(Ma,{key:n,application:r,company:t,applicationStatusList:o,disableApplicationActionButtons:e.applicationStore.requestStatus===b.REQUESTING})})):i.a.createElement(Ma,{disableApplicationActionButtons:!0}))}};return i.a.createElement("div",{className:"UserComAppPageContainer"},function(){if(!e.match.params.uuid)return i.a.createElement("h1",null,"Company uuid not specified");if(e.match.params.uuid in e.companyStore.collection)return s();var t,a=!1,n=Object(ve.a)(Be);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e[r].requestStatus!==b.SUCCESS||e[r].requestStatus!==b.FAILURE){a=!0;break}}}catch(o){n.e(o)}finally{n.f()}return a||e.match.params.uuid in e.companyStore.collection?s():i.a.createElement("h1",null,"Company not found")}())}))),Ka=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,"Logged in:"," ",this.props.auth.isLogin&&this.props.auth.isLogin.toString()||"undefine"),i.a.createElement("div",null,"User Name: ",this.props.auth.userName||"(empty)"))}}]),a}(o.Component),Xa=(a(484),function(e){return i.a.createElement("div",{className:"UserAuthButton"},i.a.createElement(W.a,{onClick:e.onClick,unelevated:!0,icon:i.a.createElement(Z.a,{icon:"account_circle"}),disabled:e.disabled},"Local Logout"))}),Za=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).localLogoutButton=function(){e.props.requestedLogoutAuth()},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"UserProfilePage"},i.a.createElement("h1",null,this.props.auth.userName,"'s profile"),i.a.createElement("div",null,"isLocal = ",JSON.stringify(this.props.auth.isLocal)),i.a.createElement(Ka,{auth:this.props.auth}),this.props.auth.isLocal?i.a.createElement(Xa,{onClick:this.localLogoutButton}):i.a.createElement(ae,null))}}]),a}(o.Component),$a=Object(G.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLogoutAuth:function(){e(R())}}}))(Za)),en=a(280),tn=a.n(en),an=a(281),nn=a.n(an),rn=(a(485),a(486),a(487),a(282)),on=a.n(rn),cn=a(536),ln=a(527),sn=a(285),un=a.n(sn),pn=a(528),dn=a(292),mn=a(283),bn=a.n(mn),fn=a(284),hn=a.n(fn),En=Object(dn.a)({palette:{primary:{main:bn.a[800]},secondary:{main:hn.a[500]}}}),vn=Object(dn.a)({palette:{type:"dark"}}),yn=a(546),On=Object(Gt.a)({chip:{marginRight:".5rem"}}),jn=function(){var e=On(),t=Object(m.e)((function(e){return e.selectCompany.selectCompanyCollection})),a=Object(o.useState)(null),n=Object(xe.a)(a,2),r=n[0],c=n[1],l=Object(o.useCallback)((function(e){c(e.currentTarget)}),[]),s=Object(o.useCallback)((function(){c(null)}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement($e.a,{onClick:l,size:"small"},t.size," orgs"),i.a.createElement(cn.a,{anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:s},Object(_e.a)(t).map((function(t,a){var n=Object(xe.a)(t,2),r=(n[0],n[1]),o=r.labels.length?r.labels[0].text:null;return i.a.createElement(ln.a,{key:a,dense:!0},o?i.a.createElement(yn.a,{className:e.chip,label:r.labels[0].text,size:"small",color:o===ye.INTERVIEWING?"secondary":o===ye.TARGET?"primary":"default"}):null,i.a.createElement(Tt.a,{noWrap:!0},r.name))}))))},Sn=function(e){var t=e.label,a=e.onSelect,n=Object(m.d)(),r=Object(m.e)((function(e){return e.selectCompany.destinationStatus})),c=Object(o.useCallback)((function(){var e;n((e=t,{type:ht.SET_DESTINATION_STATUS,status:e})),a&&a()}),[n,a,t]);return i.a.createElement(ln.a,{selected:r===t,onClick:c},t)},gn=function(){var e=Object(m.d)(),t=Object(m.e)((function(e){return e.selectCompany.requestStatus})),a=Object(m.e)((function(e){return e.selectCompany.destinationStatus})),n=i.a.useState(null),r=Object(xe.a)(n,2),c=r[0],l=r[1],s=Object(o.useCallback)((function(e){l(e.currentTarget)}),[]),u=Object(o.useCallback)((function(){l(null)}),[]),p=Object(o.useCallback)((function(){var t;e((t=a,{type:ht.APPLY_ALL_CHANGES,destinationStatus:t}))}),[e,a]),d=Object(o.useCallback)((function(){e({type:ht.CANCEL_ALL})}),[e]);return i.a.createElement(pn.a,{theme:vn},i.a.createElement(jt.a,{p:1},"Move ",i.a.createElement(jn,null)," to",i.a.createElement($e.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:s},a," ",i.a.createElement(un.a,null)),i.a.createElement(cn.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:u},Object.values(ye).map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(Sn,{label:e,onSelect:u}))}))),i.a.createElement($e.a,{onClick:p,disabled:t===b.REQUESTING,size:"small",variant:"contained"},"Apply"),i.a.createElement($e.a,{onClick:d,disabled:t===b.REQUESTING,size:"small",variant:"contained"},"Cancel")))},Cn=function(){var e=Object(m.e)((function(e){return e.auth})),t=Object(G.h)(),a=Object(G.g)(),n=Object(o.useCallback)((function(){"/home/"===t.pathname?a.replace("/home/"):a.push("/home/")}),[a,t.pathname]),r=Object(m.e)((function(e){return e.selectCompany.selectCompanyCollection}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,{prominent:!0,dense:!0},i.a.createElement(B.TopAppBarRow,null,i.a.createElement(B.TopAppBarSection,{align:"start"},i.a.createElement(B.TopAppBarTitle,{className:on.a.topAppBarTitle,onClick:n},"Appl Tracky")),i.a.createElement(B.TopAppBarSection,{align:"end",role:"toolbar"},i.a.createElement(B.TopAppBarIcon,{navIcon:!0,tabIndex:0},i.a.createElement(Lt.a,{to:"/home/"},i.a.createElement(Z.a,{key:"itemHome",icon:"home"}))),i.a.createElement(B.TopAppBarIcon,{navIcon:!0,tabIndex:1},i.a.createElement("a",{target:"_blank",href:"//github.com/rivernews/appl-tracky-spa"},i.a.createElement(J.a,{icon:Y.a,size:"lg"}))),i.a.createElement(B.TopAppBarIcon,{navIcon:!0,tabIndex:2},i.a.createElement(Lt.a,{to:"/profile/"},e.avatarUrl?i.a.createElement("img",{style:{height:"100%",borderRadius:"50%"},src:e.avatarUrl,alt:"user avatar"}):i.a.createElement(Z.a,{key:"itemProfile",icon:"account_circle"}))))),r.size?i.a.createElement(B.TopAppBarRow,null,i.a.createElement(B.TopAppBarSection,{align:"start"},i.a.createElement(gn,null))):null))},Tn=new Set(["/","/local-login/"]),An=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).goInternal=function(){if(!e.props.location.search)return"/home/";var t=new URLSearchParams(e.props.location.search).get("next");return t||""},e.isCurrentPublicPage=function(){return Tn.has(e.props.location.pathname)},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.isCurrentPublicPage()?i.a.createElement("div",{className:"PublicRoutesContainer"},this.props.auth.isLogin&&i.a.createElement(G.a,{to:this.goInternal()}),i.a.createElement(G.d,null,i.a.createElement(G.b,{path:"/",exact:!0,component:ce}),i.a.createElement(G.b,{path:"/local-login/",exact:!0,component:Ae}))):i.a.createElement("div",{className:"PrivateRoutesContainer"},!this.props.auth.isLogin&&i.a.createElement(G.a,{to:"/?next=".concat(this.props.location.pathname)}),i.a.createElement(Cn,null),i.a.createElement(B.TopAppBarFixedAdjust,null,i.a.createElement(nn.a,{indeterminate:this.props.auth.requestStatus===b.REQUESTING,buffer:1,bufferingDots:!0}),i.a.createElement(M.a,null,i.a.createElement(V.a,{key:this.props.location.key,classNames:Object(E.a)({},tn.a),timeout:500},i.a.createElement(G.d,{location:this.props.location},i.a.createElement(G.b,{path:"/home/",component:zt}),i.a.createElement(G.b,{path:"/com-form/:uuid?/",component:ba}),i.a.createElement(G.b,{path:"/com-app/:uuid/",component:Ya}),i.a.createElement(G.b,{path:"/com-app/",component:Ya}),i.a.createElement(G.b,{path:"/profile/",component:$a})))))))}}]),a}(o.Component),kn=Object(G.i)(Object(m.c)((function(e){return{auth:e.auth}}),{})(An)),_n=a(529),xn=(a(488),a(489),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.retrieveLoginAuth()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(_n.a,null),i.a.createElement(pn.a,{theme:En},i.a.createElement(kn,null)))}}]),a}(o.Component)),Ln=Object(m.c)((function(e){return{}}),(function(e){return{retrieveLoginAuth:function(){e(F(n.PREFILL))}}}))(xn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var In=a(111),Nn=a(286),wn=a(124),Dn={requestStatus:b.SUCCESS,isLogin:!1,isLocal:!1,socialAuthToken:"",apiToken:"",userName:"",expireDateTime:"",avatarUrl:""},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;if(!h.includes(t.type))return e;var a=t;return a.type===r.SUCCESS_AUTH&&localStorage.setItem("applyTracky__authState",JSON.stringify(a.payload)),Object(E.a)(Object(E.a)({},e),a.payload)},Fn=a(288),Rn=function(e){var t={collection:{},requestStatus:b.SUCCESS};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0,r=n;if(!(r&&r.payload&&r.payload.requestStatus)||n.type.split("_")[2]!==e.toUpperCase())return a;if(r.payload.requestStatus!==b.SUCCESS)return r.payload.requestStatus===b.TRIGGERED?Object(E.a)(Object(E.a)({},a),{},{requestStatus:r.payload.requestStatus}):Object(E.a)(Object(E.a)({},a),r.payload);if(r.crudType===f.CREATE||r.crudType===f.READ){var o=r.payload.formData;return Object(E.a)(Object(E.a)({},a),{},{collection:Object(E.a)(Object(E.a)({},a.collection),{},Object(ke.a)({},o.uuid,o)),requestStatus:r.payload.requestStatus})}if(r.crudType===f.BATCHCREATE){var i=r.payload.formData,c=i.reduce((function(e,t){return e[t.uuid]=t,e}),{});return Object(E.a)(Object(E.a)({},a),{},{collection:Object(E.a)(Object(E.a)({},a.collection),c),requestStatus:r.payload.requestStatus})}if(r.crudType===f.LIST){var l,s=r.payload.formData,u={},p=Object(ve.a)(s);try{for(p.s();!(l=p.n()).done;){var d=l.value;u[d.uuid]=d}}catch(C){p.e(C)}finally{p.f()}var m=Object(E.a)(Object(E.a)({},a),{},{collection:Object(E.a)(Object(E.a)({},a.collection),u),requestStatus:r.payload.requestStatus,graphqlEndCursor:void 0!==r.graphqlEndCursor?r.graphqlEndCursor:a.graphqlEndCursor});return m}if(r.crudType===f.UPDATE){var h=r.payload.formData;return Object(E.a)(Object(E.a)({},a),{},{collection:Object(E.a)(Object(E.a)({},a.collection),{},Object(ke.a)({},h.uuid,Object(E.a)(Object(E.a)({},a.collection[h.uuid]),h))),requestStatus:r.payload.requestStatus})}if(r.crudType===f.BATCHUPDATE){var v=r.payload.formData,y=v.reduce((function(e,t){return e[t.uuid]=Object(E.a)(Object(E.a)({},a.collection[t.uuid]),t),e}),{});return Object(E.a)(Object(E.a)({},a),{},{collection:Object(E.a)(Object(E.a)({},a.collection),y),requestStatus:r.payload.requestStatus})}if(r.crudType===f.DELETE){if(r.clearAll)return t;var O=[];if(r.triggerFormData)if(Array.isArray(r.triggerFormData)||"object"!==typeof r.triggerFormData){if(r.triggerFormData.length)if("string"===typeof r.triggerFormData[0])O=r.triggerFormData;else{var j=r.triggerFormData;O=j.map((function(e){return e.uuid}))}}else{var S=r.triggerFormData;O.push(S.uuid)}var g=Object(E.a)(Object(E.a)({},a),{},{collection:Object(Fn.omit)(a.collection,O),requestStatus:r.payload.requestStatus});return g}return Object(E.a)({},a)}},Pn={selectCompanyCollection:new Map,destinationStatus:ye.TARGET,requestStatus:b.SUCCESS},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0,a=t;switch(a.type){case ht.CANCEL_ALL:return Pn;case ht.ADD_SELECT_COMPANY:var n=e.selectCompanyCollection.has(a.company.uuid);return n?e:Object(E.a)(Object(E.a)({},e),{},{selectCompanyCollection:new Map([].concat(Object(_e.a)(e.selectCompanyCollection),[[a.company.uuid,a.company]]))});case ht.REMOVE_SELECT_COMPANY:return Object(E.a)(Object(E.a)({},e),{},{selectCompanyCollection:new Map(Object(_e.a)(e.selectCompanyCollection).filter((function(e){return Object(xe.a)(e,1)[0]!==a.companyId})))});case ht.SET_DESTINATION_STATUS:return Object(E.a)(Object(E.a)({},e),{},{destinationStatus:a.status});case ht.SET_REQUEST_STATUS:return a.requestStatus===b.SUCCESS?Pn:Object(E.a)(Object(E.a)({},e),{},{requestStatus:a.requestStatus})}return e},Gn={activeTabIndex:Oe.INTERVIEWING,lastSearchText:""},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0,a=t;switch(a.type){case Re.SET_ACTIVE_TAB:return Object(E.a)(Object(E.a)({},e),{},{activeTabIndex:a.activeTabIndex});case Re.SET_LAST_SEARCH_TEXT:return Object(E.a)(Object(E.a)({},e),{},{lastSearchText:a.lastSearchText})}return e},Hn=Rn("companies"),Mn=Be.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},t,Rn(t)))}),{}),Vn=Rn("searchCompany"),zn=Rn("applications"),Qn=Rn("application-statuses"),Wn=a(50),Jn=a(259),Yn=a(294),Kn=a(11),Xn=y.a.mark(tr),Zn=y.a.mark(ar),$n=y.a.mark(nr),er=y.a.mark(rr);function tr(e){var t,a,n,o,i;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.loginMode,a=e.params,n=void 0===a?{}:a,o=e.onCompleteCallback,c.prev=1,c.next=4,Object(Kn.c)(L.serverLogin,t,n);case 4:if((i=c.sent).token){c.next=9;break}return c.next=8,Object(Kn.d)(P());case 8:return c.abrupt("return");case 9:return c.next=11,Object(Kn.d)((l=i.email,s="",u=i.token,p=i.avatar_url,d=i.isLocal,{type:r.SUCCESS_AUTH,payload:{requestStatus:b.SUCCESS,isLogin:!0,isLocal:!!d,userName:l,expireDateTime:s,apiToken:u,avatarUrl:p}}));case 11:c.next=18;break;case 13:return c.prev=13,c.t0=c.catch(1),console.warn("auth saga error: ".concat(JSON.stringify(c.t0))),c.next=18,Object(Kn.d)(q(c.t0));case 18:o&&o();case 19:case"end":return c.stop()}var l,s,u,p,d}),Xn,null,[[1,13]])}function ar(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Kn.g)(r.REQUESTED_LOGIN_AUTH,tr);case 2:case"end":return e.stop()}}),Zn)}function nr(e){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Kn.c)(L.serverLogout);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(Kn.d)(q(e.t0));case 9:return e.abrupt("return");case 10:return e.next=12,Object(Kn.d)(P());case 12:return e.next=14,Object(Kn.d)({type:kt.ResetAllStore});case 14:case"end":return e.stop()}}),$n,null,[[0,5]])}function rr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Kn.g)(r.REQUESTED_LOGOUT_AUTH,nr);case 2:case"end":return e.stop()}}),er)}var or,ir=a(289),cr=a(537),lr=a(535),sr=a(164),ur=a(293),pr=a(539),dr=a(540),mr=["after"],br=["edges"],fr=new function e(){var t=this;Object(s.a)(this,e),this.state={apiBaseUrl:"https://appl-tracky.api.shaungc.com/graphql/"},this.apolloClient=new cr.a({link:Object(lr.a)(new sr.a((function(e,t){return e.setContext({credentials:L.apiCallToken?"include":"omit",headers:{Authorization:L.apiCallToken?"JWT ".concat(L.apiCallToken):""}}),t(e)})),Object(ur.a)({uri:this.state.apiBaseUrl})),headers:{"Content-Type":"application/json"},cache:new pr.a,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),this.fetchDashboardCompanyData=function(e){var a=e.after,n=void 0===a?"":a,r=Object(j.a)(e,mr),o=Object.keys(r).reduce((function(e,t){var a=r[t];return"string"===typeof a?"".concat(e,", ").concat(t,': "').concat(a,'"'):"".concat(e,", ").concat(t,": ").concat(a)}),"");return t.apolloClient.query({query:Object(dr.a)(or||(or=Object(ir.a)(['\n                query {\n                    companies(first:20, order_by: "-modified_at", after: "','" ',") {\n                        totalCount\n                        count\n                        pageInfo {\n                            startCursor\n                            endCursor\n                        }\n                        edges {\n                            node {\n                                uuid\n                                name\n                                labels {\n                                    text\n                                }\n                                applications {\n                                    uuid\n                                    position_title\n                                }\n                            }\n                        }\n                    }\n                }\n            "])),n,o)}).then((function(e){var t=e.data.companies,a=t.edges,n=Object(j.a)(t,br);return Object(E.a)(Object(E.a)({},n),{},{results:a.map((function(e){return e.node}))})}))}},hr=function(e,t,a){return N.map((function(n){var r=y.a.mark((function r(o){var i,c,l,s,u,p,d,m,h,v,O,j,S,C,T,A,k,_,x,L,I;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=o.payload.formData,c=o.absoluteUrl,l=o.graphqlFunctionName,s=o.graphqlArgs,r.next=4,Object(Kn.d)(t[n][b.REQUESTING].action());case 4:if(r.prev=4,l){r.next=11;break}return r.next=8,Object(Kn.c)(U[w(n)],{data:i,objectName:e,absoluteUrl:c});case 8:r.t0=r.sent,r.next=14;break;case 11:return r.next=13,Object(Kn.c)(fr.fetchDashboardCompanyData,Object(E.a)({},s));case 13:r.t0=r.sent;case 14:if(u=r.t0,p=void 0,d=void 0,a.normalizeManifest&&(m=a.normalizeManifest.objectEntityKey,h=void 0,h=n===f.DELETE?i:D(u)?u:u.results,v=Array.isArray(h)?a.normalizeManifest.listSchema:a.normalizeManifest.schema,O=Object(g.a)(h,v),p=Object.values(O.entities[m]||{}),n===f.DELETE?i=1===p.length?p[0]:p:D(u)?u=p[0]:u.results=p,d=Object.keys(a.normalizeManifest.relationalEntityReduxActionsMap).filter((function(e){return O.entities.hasOwnProperty(e)})).reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},t,Object.values(O.entities[t])))}),{})),!a.normalizeManifest||!d){r.next=48;break}r.t1=n,r.next=r.t1===f.UPDATE?22:r.t1===f.LIST||r.t1===f.CREATE||r.t1===f.READ?23:r.t1===f.DELETE?35:47;break;case 22:return r.abrupt("break",48);case 23:r.t2=y.a.keys(a.normalizeManifest.relationalEntityReduxActionsMap);case 24:if((r.t3=r.t2()).done){r.next=34;break}if(j=r.t3.value,d[j]){r.next=28;break}return r.abrupt("continue",24);case 28:return S={results:d[j]},C=a.normalizeManifest.relationalEntityReduxActionsMap[j],r.next=32,Object(Kn.d)(C[f.LIST][b.SUCCESS].action({jsonResponse:S}));case 32:r.next=24;break;case 34:return r.abrupt("break",48);case 35:if(!a.overrideCrudSuccessSagaHandler||!a.overrideCrudSuccessSagaHandler.delete){r.next=37;break}return r.abrupt("break",48);case 37:r.t4=y.a.keys(a.normalizeManifest.relationalEntityReduxActionsMap);case 38:if((r.t5=r.t4()).done){r.next=46;break}return T=r.t5.value,A=a.normalizeManifest.relationalEntityReduxActionsMap[T],k=d[T]?d[T]:i&&!Array.isArray(i)&&i.hasOwnProperty(T)?i[T]:[],r.next=44,Object(Kn.d)(A[f.DELETE][b.SUCCESS].action({triggerFormData:k}));case 44:r.next=38;break;case 46:case 47:return r.abrupt("break",48);case 48:if(!(_=a.overrideCrudSuccessSagaHandler&&a.overrideCrudSuccessSagaHandler.hasOwnProperty(n)&&a.overrideCrudSuccessSagaHandler[n]?a.overrideCrudSuccessSagaHandler[n]:void 0)){r.next=54;break}return r.next=52,Object(Kn.c)(_,{data:p||(n===f.DELETE?i:u),updateFromObject:o.triggerActionOptions?o.triggerActionOptions.updateFromObject:void 0,graphqlEndCursor:n===f.LIST&&l?u.pageInfo.endCursor:void 0,clearPreviousCollection:null===(x=o.triggerActionOptions)||void 0===x?void 0:x.clearPreviousCollection,companyGroupType:Be.includes(e)?e:void 0});case 52:r.next=64;break;case 54:if(n!==f.DELETE){r.next=59;break}return r.next=57,Object(Kn.d)(t[f.DELETE][b.SUCCESS].action({triggerFormData:i}));case 57:r.next=64;break;case 59:if(!(null===(L=o.triggerActionOptions)||void 0===L?void 0:L.clearPreviousCollection)){r.next=62;break}return r.next=62,Object(Kn.d)(t[n][b.SUCCESS].action({clearAll:!0}));case 62:return r.next=64,Object(Kn.d)(t[n][b.SUCCESS].action({jsonResponse:u,graphqlEndCursor:n===f.LIST&&l?u.pageInfo.endCursor:void 0}));case 64:if(!(I=a.doneCrudSuccessSagaHandler&&a.doneCrudSuccessSagaHandler[n]?a.doneCrudSuccessSagaHandler[n]:void 0)){r.next=68;break}return r.next=68,Object(Kn.c)(I,{data:p||(n===f.DELETE?i:u),updateFromObject:o.triggerActionOptions?o.triggerActionOptions.updateFromObject:void 0});case 68:o.successCallback&&o.successCallback(u),r.next=78;break;case 71:return r.prev=71,r.t6=r.catch(4),console.error("o-oh! error in saga:",r.t6),r.next=76,Object(Kn.d)(t[n][b.FAILURE].action(r.t6));case 76:return o.failureCallback&&o.failureCallback(r.t6),r.abrupt("return");case 78:o.finalCallback&&o.finalCallback();case 79:case"end":return r.stop()}}),r,null,[[4,71]])}));return y.a.mark((function e(){var a,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Kn.a)(t[n][b.TRIGGERED].actionTypeName);case 2:a=e.sent;case 3:return e.next=6,Object(Kn.f)(a);case 6:return o=e.sent,e.next=9,Object(Kn.c)(r,o);case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)}))}))},Er=y.a.mark((function e(t){var a,n,r,o,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:if(a=Array.isArray(t.data)?t.data[0]:t.data,n=qe.getLabel(a),r=t.updateFromObject,o=qe.getLabel(r),n!==o){e.next=8;break}return e.abrupt("return");case 8:return i=Ft[Ge[n]][f.CREATE][b.SUCCESS].action,e.next=11,Object(Kn.d)(i({jsonResponse:{uuid:a.uuid}}));case 11:return c=Ft[Ge[o]][f.DELETE][b.SUCCESS].action,e.next=14,Object(Kn.d)(c({triggerFormData:{uuid:r.uuid}}));case 14:case"end":return e.stop()}}),e)})),vr=y.a.mark((function e(t){var a,n,r,o,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,n=qe.getLabel(a),r=Ft[Ge[n]][f.DELETE][b.SUCCESS].action,e.next=7,Object(Kn.d)(r({triggerFormData:{uuid:a.uuid}}));case 7:return e.next=9,Object(Kn.e)(Yr);case 9:return o=e.sent,alert("currentCompany applications: ".concat(JSON.stringify(a.applications))),i=a.applications.flatMap((function(e){return e in o.collection?o.collection[e].statuses:[]})),alert("cascade delete statuses: ".concat(JSON.stringify(i))),e.next=15,Object(Kn.d)(qt[f.DELETE][b.SUCCESS].action({triggerFormData:i}));case 15:return e.next=17,Object(Kn.d)(Pt[f.DELETE][b.SUCCESS].action({triggerFormData:a.applications}));case 17:return e.next=19,Object(Kn.d)(Ut[f.DELETE][b.SUCCESS].action({triggerFormData:a}));case 19:case"end":return e.stop()}}),e)})),yr=y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&Array.isArray(t.data)){e.next=2;break}return e.abrupt("return");case 2:if(t.companyGroupType){e.next=5;break}return console.error("companyGroupType is not supplied"),e.abrupt("return");case 5:return a=Array.isArray(t.data)?t.data:[t.data],e.next=8,Object(Kn.d)(Ut[f.LIST][b.SUCCESS].action({jsonResponse:{results:a}}));case 8:return n=a.map((function(e){return{uuid:e.uuid}})),e.next=11,Object(Kn.d)(Ft[t.companyGroupType][f.LIST][b.SUCCESS].action({jsonResponse:{results:n},graphqlEndCursor:t.graphqlEndCursor}));case 11:case"end":return e.stop()}}),e)})),Or=y.a.mark((function e(t){var a,n,r,o,i,c,l,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&Array.isArray(t.data)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data:[t.data],e.next=5,Object(Kn.d)(Ut[f.LIST][b.SUCCESS].action({jsonResponse:{results:a}}));case 5:n=Object(E.a)(Object(E.a)({},Be.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},t,[]))}),{})),{},{all:[]}),r=Object(ve.a)(a);try{for(r.s();!(o=r.n()).done;)i=o.value,n[Ge[qe.getLabel(i)]].push({uuid:i.uuid}),n.all.push({uuid:i.uuid})}catch(p){r.e(p)}finally{r.f()}c=Object(ve.a)(Be),e.prev=9,c.s();case 11:if((l=c.n()).done){e.next=20;break}if(s=l.value,0!==(u=n[s]).length){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,Object(Kn.d)(Ft[s][f.LIST][b.SUCCESS].action({jsonResponse:{results:u}}));case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),c.e(e.t0);case 25:return e.prev=25,c.f(),e.finish(25);case 28:if(!t.clearPreviousCollection){e.next=31;break}return e.next=31,Object(Kn.d)(Rt[f.DELETE][b.SUCCESS].action({clearAll:!0}));case 31:return e.next=33,Object(Kn.d)(Rt[f.LIST][b.SUCCESS].action({jsonResponse:{results:n.all},graphqlEndCursor:t.graphqlEndCursor}));case 33:case"end":return e.stop()}}),e,null,[[9,22,25,28]])})),jr=new g.b.Entity("statuses",{},{idAttribute:"uuid"}),Sr={statuses:new g.b.Array(jr)},gr=new g.b.Entity("applications",Sr,{idAttribute:"uuid"}),Cr=new g.b.Array(gr),Tr={schema:gr,listSchema:Cr,objectEntityKey:"applications",relationalEntityReduxActionsMap:{statuses:qt}},Ar={applications:Cr},kr=new g.b.Entity("companies",Ar,{idAttribute:"uuid"}),_r={schema:kr,listSchema:new g.b.Array(kr),objectEntityKey:"companies",relationalEntityReduxActionsMap:{applications:Pt,statuses:qt}},xr=y.a.mark((function e(t){var a,n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Kn.e)(Jr);case 5:return n=e.sent,r=n.collection[a.user_company],(o=new qe(r)).applications=[a.uuid].concat(Object(_e.a)(o.applications)),e.next=11,Object(Kn.d)(Ut[f.UPDATE][b.SUCCESS].action({jsonResponse:o}));case 11:case"end":return e.stop()}}),e)})),Lr=y.a.mark((function e(t){var a,n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Kn.e)(Jr);case 5:return n=e.sent,r=n.collection[a.user_company],(o=new qe(r)).applications=o.applications.filter((function(e){return e!==a.uuid})),e.next=11,Object(Kn.d)(Ut[f.UPDATE][b.SUCCESS].action({jsonResponse:o}));case 11:case"end":return e.stop()}}),e)})),Ir=function(e){return e.application},Nr=y.a.mark((function e(t){var a,n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Kn.e)(Ir);case 5:return n=e.sent,r=n.collection[a.application],(o=new Ra(r)).statuses=[a.uuid].concat(Object(_e.a)(o.statuses)),e.next=11,Object(Kn.d)(Pt[f.UPDATE][b.SUCCESS].action({jsonResponse:o}));case 11:case"end":return e.stop()}}),e)})),wr=y.a.mark((function e(t){var a,n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Kn.e)(Ir);case 5:return n=e.sent,r=n.collection[a.application],(o=new Ra(r)).statuses=o.statuses.filter((function(e){return e!==a.uuid})),e.next=11,Object(Kn.d)(Pt[f.UPDATE][b.SUCCESS].action({jsonResponse:o}));case 11:case"end":return e.stop()}}),e)})),Dr=y.a.mark(Fr),Ur=y.a.mark(Rr);function Fr(e){var t,a,n,r,o,i,c,l,s;return y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.destinationStatus,u.next=3,Object(Kn.e)((function(e){return e.selectCompany}));case 3:return a=u.sent,n=a.selectCompanyCollection,r=Object(_e.a)(n).map((function(e){return{uuid:Object(xe.a)(e,1)[0],labels:[{text:t}]}})),u.next=8,Object(Kn.d)(_t(b.REQUESTING));case 8:return u.prev=8,u.next=11,Object(Kn.c)(U.patch,{data:r,objectName:"companies"});case 11:if(o=u.sent){u.next=14;break}throw new Error("Failed to apply company changes. Server response is empty.");case 14:u.next=22;break;case 16:return u.prev=16,u.t0=u.catch(8),u.next=20,Object(Kn.d)(_t(b.FAILURE));case 20:return console.error("Failed to apply company changes",u.t0),u.abrupt("return");case 22:return i=o,c=new Map,n.forEach((function(e,a){if(!e.labels.length||e.labels[0].text!==t){var n=e.labels.length?e.labels[0].text:ye.TARGET,r=c.get(n)||new Set;r.add(a),c.set(n,r)}})),u.next=27,Object(Kn.b)(Array.from(c).map((function(e){var t=Object(xe.a)(e,2),a=t[0],n=t[1],r=Ft[Ge[a]][f.DELETE][b.SUCCESS].action;return Object(Kn.d)(r({triggerFormData:Array.from(n).map((function(e){return{uuid:e}}))}))})));case 27:return l=Ft[Ge[t]][f.BATCHCREATE][b.SUCCESS].action,u.next=30,Object(Kn.d)(l({jsonResponse:i.map((function(e){return{uuid:e.uuid}}))}));case 30:return s=Ut[f.BATCHUPDATE][b.SUCCESS].action,u.next=33,Object(Kn.d)(s({jsonResponse:i.map((function(e){return{uuid:e.uuid,labels:e.labels}}))}));case 33:return u.next=35,Object(Kn.d)(_t(b.SUCCESS));case 35:return u.abrupt("return");case 36:case"end":return u.stop()}}),Dr,null,[[8,16]])}function Rr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Kn.g)(ht.APPLY_ALL_CHANGES,Fr);case 2:case"end":return e.stop()}}),Ur)}var Pr,qr=hr("companies",Ut,{doneCrudSuccessSagaHandler:{update:Er},overrideCrudSuccessSagaHandler:{delete:vr},normalizeManifest:_r}),Gr=Be.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},t,hr(t,Ft[t],{overrideCrudSuccessSagaHandler:{list:yr},normalizeManifest:_r})))}),{}),Br=hr("searchCompany",Rt,{overrideCrudSuccessSagaHandler:{list:Or},normalizeManifest:_r}),Hr=hr("applications",Pt,{doneCrudSuccessSagaHandler:{create:xr,delete:Lr},normalizeManifest:Tr}),Mr=hr("application-statuses",qt,{doneCrudSuccessSagaHandler:{create:Nr,delete:wr}}),Vr=y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Kn.b)([ar(),rr()].concat(Object(_e.a)(qr.map((function(e){return e()}))),Object(_e.a)(Be.map((function(e){return Gr[e].map((function(e){return e()}))})).flat()),Object(_e.a)(Br.map((function(e){return e()}))),Object(_e.a)(Hr.map((function(e){return e()}))),Object(_e.a)(Mr.map((function(e){return e()}))),[Rr()]));case 2:case"end":return e.stop()}}),e)})),zr=Object(Yn.a)(),Qr=Object(Wn.a)({basename:""}),Wr=Object(In.createStore)((Pr=Qr,function(e,t){var a={};return e?a=t.type===kt.ResetAllStore?{router:e.router}:e:(a.router=void 0,a.auth=void 0,a.company=void 0,Be.forEach((function(e){a[e]=void 0})),a.searchCompany=void 0,a.application=void 0,a.applicationStatus=void 0,a.selectCompany=void 0,a.userAppPage=void 0),Object(E.a)(Object(E.a)(Object(E.a)({},e),{},{router:Object(wn.b)(Pr)(a.router,t),auth:Un(a.auth,t),company:Hn(a.company,t)},Be.reduce((function(e,n){var r=Mn[n];return Object(E.a)(Object(E.a)({},e),{},Object(ke.a)({},n,r(a[n],t)))}),{})),{},{searchCompany:Vn(a.searchCompany,t),application:zn(a.application,t),applicationStatus:Qn(a.applicationStatus,t),selectCompany:qn(a.selectCompany,t),userAppPage:Bn(a.userAppPage,t)})}),{},Object(Nn.composeWithDevTools)(Object(In.applyMiddleware)(Object(Jn.a)(Qr),zr)));zr.run(Vr);var Jr=function(e){return e.company},Yr=function(e){return e.application},Kr=function(e){return i.a.createElement(m.a,{store:e.store},i.a.createElement(wn.a,{history:Qr},i.a.createElement(Ln,null)))};l.a.render(i.a.createElement(Kr,{store:Wr}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports={LandingPage:"landing-page_LandingPage__2ZnLo",primaryPageContent:"landing-page_primaryPageContent__YLaLX",headlineContent:"landing-page_headlineContent__2vF0w",headlineText:"landing-page_headlineText__33RBB",headlineSubText:"landing-page_headlineSubText__3tLwP",loginActionsContainer:"landing-page_loginActionsContainer__2SARI",divider:"landing-page_divider__3PurT",sideNoteContent:"landing-page_sideNoteContent__NMAYC"}}},[[490,1,2]]]);
//# sourceMappingURL=main.6a8d2772.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,e,a){t.exports=a(232)},118:function(t,e,a){},231:function(t,e,a){},232:function(t,e,a){"use strict";a.r(e);var n,o=a(0),i=a.n(o),r=a(105),c=a.n(r),s=(a(118),a(2)),l=a(7),p=a(4),u=a(3),d=a(5),m=a(9),h=a(24),b=a(21);!function(t){t.UPDATE_AUTH="Update auth",t.REQUESTED_LOGIN_AUTH="Requested login auth",t.REQUESTED_LOGOUT_AUTH="Requested logout auth",t.SUCCESS_AUTH="Success auth",t.FAILURE_AUTH="Failure auth"}(n||(n={}));var f,v,E,_=a(14),g=a(16),y=a.n(g),j=a(107),S=a(22),O=function t(e){var a=e.uuid,n=void 0===a?"":a,o=e.created_at,i=void 0===o?"":o,r=e.modified_at,c=void 0===r?"":r;Object(s.a)(this,t),this.uuid=void 0,this.created_at=void 0,this.modified_at=void 0,this.uuid=n,this.created_at=i,this.modified_at=c},T=function(t){function e(t){var a,n=t.code,o=void 0===n?"":n,i=t.provider,r=void 0===i?"":i,c=t.redirect_uri,l=void 0===c?"":c,d=Object(S.a)(t,["code","provider","redirect_uri"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,d))).code=void 0,a.provider=void 0,a.redirect_uri=void 0,a.code=o,a.provider=r,a.redirect_uri=l,a}return Object(d.a)(e,t),e}(O),k=new function t(){var e=this;Object(s.a)(this,t),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",redirectUri:"postmessage",apiLoginUrl:"login/social/",socialAuthProvider:"google-oauth2",userEmail:"",apiLoginToken:"",userFirstName:"",userLastName:"",objectID:""},this.serverLogin=function(t){var a=new T({code:t,provider:e.state.socialAuthProvider,redirect_uri:e.state.redirectUri});return A.post({data:a,endpointUrl:e.state.apiLoginUrl})},this.serverLogout=Object(j.a)(y.a.mark(function t(){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("server logout..."),e.state.userEmail="",e.state.userFirstName="",e.state.userLastName="",e.state.apiLoginToken=A.state.apiLoginToken="",t.abrupt("return");case 6:case"end":return t.stop()}},t)}))};!function(t){t.TRIGGERED="triggered",t.REQUESTING="requesting",t.SUCCESS="success",t.FAILURE="failre"}(f||(f={})),function(t){t.CREATE="create",t.READ="read",t.LIST="list",t.UPDATE="update",t.DELETE="delete"}(v||(v={})),function(t){t.POST="post",t.GET="get",t.PATCH="patch",t.DELETE="delete"}(E||(E={}));var C=function(t){switch(t){case v.CREATE:return E.POST;case v.READ:case v.LIST:return E.GET;case v.UPDATE:return E.PATCH;case v.DELETE:return E.DELETE;default:return E.GET}};var A=new function t(){var e=this;Object(s.a)(this,t),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",redirectUri:"postmessage",apiBaseUrl:"https://appl-tracky-api-https.shaungc.com/api/",apiLoginUrl:"login/social/",socialAuthProvider:"google-oauth2",userEmail:"",apiLoginToken:"",userFirstName:"",userLastName:"",objectID:""},this.get=function(t){var a=t.endpointUrl,n=t.absoluteUrl,o=t.objectName,i=t.data;return fetch(e.getRelativeUrl({endpointUrl:a,absoluteUrl:n,objectName:o,data:i}),Object(_.a)({method:"GET"},e.setApiAuthHeaders())).then(function(t){return t.json()})},this.post=function(t){var a=t.data,n=t.objectName,o=t.endpointUrl;return console.log("restapi:post fired"),fetch(e.getRelativeUrl({endpointUrl:o,objectName:n,data:a}),Object(_.a)({method:"POST"},e.setApiAuthHeaders(),{body:JSON.stringify(a)})).then(function(t){return t.json()})},this.patch=function(t){var a=t.data,n=t.objectName,o=t.endpointUrl;return fetch(e.getRelativeUrl({endpointUrl:o,objectName:n,data:a}),Object(_.a)({method:"PATCH"},e.setApiAuthHeaders(),{body:JSON.stringify(a)})).then(function(t){return t.json()})},this.delete=function(t){var a=t.data,n=t.objectName,o=t.endpointUrl;return fetch(e.getRelativeUrl({endpointUrl:o,objectName:n,data:a}),Object(_.a)({method:"DELETE"},e.setApiAuthHeaders(),{body:JSON.stringify(a)}))},this.getRelativeUrl=function(t){var a=t.objectName,n=t.data,o=t.endpointUrl,i=t.absoluteUrl,r="";return r=i||(o?"".concat(e.state.apiBaseUrl).concat(o):n&&void 0!==n.uuid&&n.uuid?"".concat(e.state.apiBaseUrl).concat(a,"/").concat(n.uuid,"/"):"".concat(e.state.apiBaseUrl).concat(a,"/")),console.log("restapi: url: ".concat(r,", objname=").concat(a)),r},this.setApiAuthHeaders=function(){return e.state.apiLoginToken=k.state.apiLoginToken?k.state.apiLoginToken:e.state.apiLoginToken,console.log("api: set header: got credentials?",e.state.apiLoginToken),{mode:"cors",credentials:e.state.apiLoginToken?"include":"omit",headers:{Authorization:e.state.apiLoginToken?"JWT ".concat(e.state.apiLoginToken):"","Content-Type":"application/json"}}}},U=function(t){return{type:n.REQUESTED_LOGIN_AUTH,payload:{requestStatus:f.REQUESTING,socialAuthToken:t}}},R=function(){return{type:n.REQUESTED_LOGOUT_AUTH,payload:{requestStatus:f.REQUESTING}}},L=function(t,e,a,o){return console.log("action username:",t),{type:n.SUCCESS_AUTH,payload:{requestStatus:f.SUCCESS,isLogin:!0,userName:t,expireDateTime:e,apiToken:a,avatarUrl:o}}},w=function(){return{type:n.SUCCESS_AUTH,payload:{requestStatus:f.SUCCESS,isLogin:!1,userName:"",expireDateTime:"",apiToken:"",avatarUrl:""}}},D=function(t){return{type:n.FAILURE_AUTH,payload:{requestStatus:f.FAILURE,error:t}}},I=a(44),F=a(12),N=a(108),x=a.n(N),G=function(t,e){for(var a=Object.values(v),n={},o=function(){var e=a[i];n[e]={};for(var o=Object.values(f),r=0;r<o.length;r++){var c=o[r];n[e][c]={actionTypeName:"",action:function(){}},n[e][c].actionTypeName="".concat(c.toUpperCase(),"_").concat(e.toUpperCase(),"_").concat(t.toUpperCase())}n[e][f.TRIGGERED].action=function(t,a,o){return console.log("action:fired, trigger, ".concat(e)),{type:n[e][f.TRIGGERED].actionTypeName,crudType:e,callback:a,absoluteUrl:o,payload:{requestStatus:f.TRIGGERED,formData:t}}},n[e][f.REQUESTING].action=function(){return{type:n[e][f.REQUESTING].actionTypeName,crudType:e,payload:{requestStatus:f.REQUESTING}}},n[e][f.SUCCESS].action=function(t,a){var o={type:n[e][f.SUCCESS].actionTypeName,crudType:e};return e===v.DELETE?Object(_.a)({},o,{triggerFormData:a,payload:{requestStatus:f.SUCCESS}}):void 0!==t.uuid?Object(_.a)({},o,{payload:{requestStatus:f.SUCCESS,formData:t,lastChangedObjectID:t.uuid}}):Object(_.a)({},o,{payload:{requestStatus:f.SUCCESS,formData:t.results}})},n[e][f.FAILURE].action=function(t){return{type:n[e][f.FAILURE].actionTypeName,crudType:e,payload:{requestStatus:f.FAILURE,error:t}}};var s=y.a.mark(function a(o){var i,r,c;return y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Saga: action intercepted; aync=trigger, crud=".concat(e,", obj=").concat(t,"; ready to call api")),i=o.payload.formData,r=o.absoluteUrl,a.next=5,Object(F.d)(n[e][f.REQUESTING].action());case 5:return a.prev=5,a.next=8,Object(F.c)(A[C(e)],{data:i,objectName:t,absoluteUrl:r});case 8:if(c=a.sent,console.log("Saga: res from server",c),!(c.status&&c.status>=400)){a.next=13;break}throw console.error("Server error, see message in res."),new Error("Server error, see message in res.");case 13:if(!c.next){a.next=17;break}return console.log("Saga: res contains next url, so we will also trigger list request for next=",c.next),a.next=17,Object(F.d)(n[v.LIST][f.TRIGGERED].action(void 0,void 0,c.next));case 17:if(e!==v.DELETE){a.next=22;break}return a.next=20,Object(F.d)(n[v.DELETE][f.SUCCESS].action(c,i));case 20:a.next=25;break;case 22:return console.log("Saga: ready to dispatch success action"),a.next=25,Object(F.d)(n[e][f.SUCCESS].action(c));case 25:o.callback&&o.callback(),a.next=33;break;case 28:return a.prev=28,a.t0=a.catch(5),a.next=32,Object(F.d)(n[e][f.FAILURE].action(a.t0));case 32:return a.abrupt("return");case 33:case"end":return a.stop()}},a,null,[[5,28]])});n[e][f.TRIGGERED].saga=y.a.mark(function a(){var o,i;return y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Saga: action intercepted; async=trigger, crud=".concat(e,", obj=").concat(t)),a.next=3,Object(F.a)(n[e][f.TRIGGERED].actionTypeName);case 3:o=a.sent;case 4:return a.next=7,Object(F.e)(o);case 7:return i=a.sent,a.next=10,Object(F.c)(s,i);case 10:a.next=4;break;case 12:case"end":return a.stop()}},a)})},i=0;i<a.length;i++)o();var r={collection:{},requestStatus:f.SUCCESS},c=a.map(function(t){return n[t][f.TRIGGERED].saga});return{actions:n,storeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0,n=a;if(!(n&&n.payload&&n.payload.requestStatus)||a.type.split("_")[2]!==t.toUpperCase())return Object(_.a)({},e);if(n.payload.requestStatus!==f.SUCCESS)return n.payload.requestStatus===f.TRIGGERED?Object(_.a)({},e,{requestStatus:n.payload.requestStatus}):Object(_.a)({},e,n.payload);if(n.crudType===v.CREATE){var o=n.payload.formData;return{collection:Object(_.a)({},e.collection,Object(I.a)({},o.uuid,o)),requestStatus:n.payload.requestStatus,lastChangedObjectID:n.payload.lastChangedObjectID}}if(n.crudType===v.LIST){var i=n.payload.formData,c={},s=!0,l=!1,p=void 0;try{for(var u,d=i[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var m=u.value;c[m.uuid]=m}}catch(y){l=!0,p=y}finally{try{s||null==d.return||d.return()}finally{if(l)throw p}}console.log("Reducer: crud=list, action=",n),console.log("initialState=",r),console.log("beforestore=",e),console.log("newlistobjects=",c);var h={collection:Object(_.a)({},e.collection,c),requestStatus:n.payload.requestStatus};return console.log("afterstore=",h),h}if(n.crudType===v.UPDATE){var b=n.payload.formData;return{collection:Object(_.a)({},e.collection,Object(I.a)({},b.uuid,b)),requestStatus:n.payload.requestStatus,lastChangedObjectID:n.payload.lastChangedObjectID}}if(n.crudType===v.DELETE){var E=n.triggerFormData;console.log("Reducer: delete, targetobj=",E),console.log("Reducer: delete, beforestore=",e);var g={collection:x()(e.collection,[E.uuid]),requestStatus:n.payload.requestStatus};return console.log("Reducer: delete, afterstore",g),g}return Object(_.a)({},e)},sagas:c}},P=function(t){function e(t){var a,n=t.place_name,o=void 0===n?"":n,i=t.country,r=void 0===i?"":i,c=t.state,l=void 0===c?"":c,d=t.city,m=void 0===d?"":d,h=t.street,b=void 0===h?"":h,f=t.full_address,v=void 0===f?"":f,E=t.zipcode,_=void 0===E?"":E,g=Object(S.a)(t,["place_name","country","state","city","street","full_address","zipcode"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,g))).place_name=void 0,a.country=void 0,a.state=void 0,a.city=void 0,a.street=void 0,a.full_address=void 0,a.zipcode=void 0,a.place_name=o,a.country=r,a.state=l,a.place_name=o,a.city=m,a.street=b,a.full_address=v,a.zipcode=_,a}return Object(d.a)(e,t),e}(O),q=(new P({}),G("addresses"),function(t){function e(t){var a,n=t.text,o=void 0===n?"":n,i=t.user,r=void 0===i?{}:i,c=t.url,l=void 0===c?"":c,d=t.order,m=void 0===d?0:d,h=Object(S.a)(t,["text","user","url","order"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,h))).text=void 0,a.user=void 0,a.url=void 0,a.order=void 0,a.text=o,a.user=r,a.url=l,a.order=m,a}return Object(d.a)(e,t),e}(O)),B=function(t){function e(t){var a,n=t.user,o=void 0===n?"":n,i=t.labels,r=void 0===i?[]:i,c=t.name,l=void 0===c?"":c,d=t.hq_location,m=void 0===d?new P({}):d,h=t.home_page,b=void 0===h?new q({}):h,f=t.ratings,v=void 0===f?{}:f,E=t.applications,_=void 0===E?{}:E,g=Object(S.a)(t,["user","labels","name","hq_location","home_page","ratings","applications"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,g))).user=void 0,a.labels=void 0,a.name=void 0,a.hq_location=void 0,a.home_page=void 0,a.ratings=void 0,a.applications=void 0,a.user=o,a.labels=r,a.name=l,a.hq_location=m,a.home_page=b,a.ratings=v,a.applications=_,a}return Object(d.a)(e,t),e}(O),H=(new B({}),G("companies")),Q=H.actions,J=H.storeReducer,M=H.sagas,z=function(t){function e(t){var a,n=t.user,o=void 0===n?"":n,i=t.user_company,r=void 0===i?"":i,c=t.position_title,l=void 0===c?"":c,d=t.job_description_page,m=void 0===d?new q({}):d,h=t.job_source,b=void 0===h?new q({}):h,f=t.labels,v=void 0===f?{}:f,E=Object(S.a)(t,["user","user_company","position_title","job_description_page","job_source","labels"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,E))).user=void 0,a.user_company=void 0,a.position_title=void 0,a.job_description_page=void 0,a.job_source=void 0,a.labels=void 0,a.user=o,a.user_company=r,a.position_title=l,a.job_description_page=m,a.job_source=b,a.labels=v,a}return Object(d.a)(e,t),e}(O),V=(new z({}),G("applications")),W=V.actions,$=V.storeReducer,X=V.sagas,Y=a(54),K=a(13),Z=a.n(K),tt=(a(28),a(18)),et=a.n(tt),at=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).onLoginButtonClicked=function(t,e){console.log("login button clicked",t,e),e.onClick(t)},a.onAuthSuccess=function(t){console.log("login button auth success"),a.props.onSuccess(t)},a.onAuthFailure=function(t){console.log("login button auth failed"),a.props.onFailure&&a.props.onFailure(t)},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"UserAuthButton"},i.a.createElement(Y.GoogleLogin,{render:function(e){return i.a.createElement(et.a,{onClick:function(a){return t.onLoginButtonClicked(a,e)},unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"account_circle"}),disabled:t.props.disabled},"Google Login")},onSuccess:this.onAuthSuccess,onFailure:this.onAuthFailure,clientId:this.props.clientID,responseType:"code",redirectUri:this.props.redirectUri||"postmessage"}))}}]),e}(o.Component),nt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).onAuthSuccess=function(t){a.props.onSuccess(t)},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"UserAuthButton"},i.a.createElement(Y.GoogleLogout,{render:function(e){return i.a.createElement(et.a,{onClick:e.onClick,unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"eject"}),disabled:t.props.disabled},"Logout")},onLogoutSuccess:this.onAuthSuccess}))}}]),e}(o.Component),ot=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",redirectUri:"postmessage",apiBaseUrl:"http://localhost:8000/",apiLoginUrl:"login/social/",socialAuthProvider:"google-oauth2",userEmail:"",apiLoginToken:"",userFirstName:"",userLastName:"",objectID:""},a.onSocialLoginSuccess=function(t){console.log("Google Oauth2 res:",t),a.setState({code:t.code},function(){console.log("social button: request auth..."),a.props.requestedLoginAuth(a.state.code)})},a.onSocialLoginFailure=function(t){console.error("Social login failed:",t)},a.onSocialLogoutSuccess=function(){console.log("Social logout success, now our web app logout"),a.props.requestedLogoutAuth()},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"SocialAuth"},"auth requestStatus: ",this.props.auth.requestStatus," ",i.a.createElement("br",null),this.props.auth.isLogin?i.a.createElement(nt,{onSuccess:this.onSocialLogoutSuccess,disabled:this.props.auth.requestStatus===f.REQUESTING}):i.a.createElement(at,{clientID:this.state.clientID,onSuccess:this.onSocialLoginSuccess,onFailure:this.onSocialLoginFailure,disabled:this.props.auth.requestStatus===f.REQUESTING}))}}]),e}(o.Component);var it,rt=Object(h.g)(Object(m.c)(function(t){return{auth:t.auth}},function(t){return{requestedLoginAuth:function(e){t(U(e))},requestedLogoutAuth:function(){t(R())}}})(ot)),ct=(a(51),a(45)),st=a(77),lt=a.n(st);!function(t){t.TEXT="text",t.PASSWORD="password",t.EMAIL="email",t.URL="url",t.DATE="date"}(it||(it={}));var pt,ut=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;Object(s.a)(this,t),this.fieldName=e,this.label=a,this.type=n,this.onTrailingIconSelect=o},dt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"FormFieldFactory"},i.a.createElement(lt.a,{label:this.props.label,onTrailingIconSelect:this.props.onTrailingIconSelect},i.a.createElement(st.Input,{type:this.props.type||it.TEXT,name:this.props.fieldName,inputType:"input",onChange:this.props.onChange,onBlur:this.props.onBlur,value:this.props.values[this.props.fieldName]})),i.a.createElement(ct.a,{name:this.props.fieldName}))}}]),e}(o.Component);!function(t){t.SUBMIT="submit",t.BUTTON="button"}(pt||(pt={}));var mt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(s.a)(this,t),this.text=e,this.onClick=a,this.type=n},ht=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"FormFactory"},i.a.createElement(ct.c,{initialValues:this.props.initialValues,validate:this.props.validate,onSubmit:this.props.onSubmit},function(e){var a=e.values,n=e.errors,o=e.touched,r=e.handleChange,c=e.handleBlur,s=(e.handleSubmit,e.isSubmitting);return i.a.createElement(ct.b,null,t.props.formInputFieldPropsList.map(function(t,e){return i.a.createElement(dt,Object.assign({key:e},t,{onChange:r,onBlur:c,values:a,errors:n,touched:o}))}),t.props.actionButtonPropsList.map(function(t,e){return i.a.createElement(et.a,{key:e,type:t.type||pt.BUTTON,disabled:s,unelevated:!0,onClick:t.onClick,children:t.text})}))}))}}]),e}(o.Component),bt={backgroundColor:"purple",color:"white"},ft=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,t))).formFactoryProps=void 0,a.validateLoginForm=function(t){return{}},a.onSubmitLoginForm=function(t,e){(0,e.setSubmitting)(!1),console.log("values=",t),fetch("".concat(A.state.apiBaseUrl,"api-token-auth/"),{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(e){console.log("res=",e),k.state.apiLoginToken=e.token,a.props.loginSuccess(t.username,e.token,e.avatar_url),a.props.listApplication(),a.props.listCompany()}).catch(function(t){console.error("login error~~",t)})},a.prepareLoginForm=function(){a.formFactoryProps={initialValues:{username:"",password:""},validate:a.validateLoginForm,onSubmit:a.onSubmitLoginForm,formInputFieldPropsList:[new ut("username","Username"),new ut("password","Password",it.PASSWORD)],actionButtonPropsList:[new mt("Login",void 0,pt.SUBMIT)]}},a.prepareLoginForm(),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"LandingPage",style:bt},this.props.auth.isLogin&&i.a.createElement(h.a,{to:"/home/"}),i.a.createElement("h1",null,"Appl Tracky"),i.a.createElement(rt,null),i.a.createElement("h2",null,"Or login locally (admin only):"),i.a.createElement(ht,this.formFactoryProps),i.a.createElement("hr",null),i.a.createElement(et.a,{href:"https://github.com/rivernews/appl-tracky-spa",target:"_blank",unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"code"})},"Github Repository"))}}]),e}(o.Component),vt=Object(h.g)(Object(m.c)(function(t){return{auth:t.auth}},function(t){return{loginSuccess:function(e,a,n){return t(L(e,"",a,n))},listApplication:function(){return t(W[v.LIST][f.TRIGGERED].action(new z({})))},listCompany:function(){return t(Q[v.LIST][f.TRIGGERED].action(new B({})))}}})(ft)),Et=(a(103),a(30)),_t=a.n(Et),gt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.company;return i.a.createElement("div",{className:"CompanyComponent"},i.a.createElement("p",null,i.a.createElement(b.a,{to:"/com-app/".concat(t.uuid,"/")},t.name),i.a.createElement(_t.a,{onClick:this.props.onEditIconClicked},i.a.createElement(Z.a,{hasRipple:!0,icon:"edit"})),i.a.createElement(_t.a,{onClick:this.props.onDeleteIconClicked},i.a.createElement(Z.a,{hasRipple:!0,icon:"delete"})),i.a.createElement("br",null),i.a.createElement("span",null,i.a.createElement("strong",null,"UUID:")," ",t.uuid),i.a.createElement("br",null),i.a.createElement("span",null,i.a.createElement("strong",null,"HQ:")," ",t.hq_location.full_address),i.a.createElement("br",null),i.a.createElement("a",{target:"_blank",href:t.home_page.url},i.a.createElement("strong",null,"Homepage")),i.a.createElement("br",null)))}}]),e}(o.Component),yt=function(t){function e(t){var a,n=t.text,o=void 0===n?"":n,i=t.application,r=void 0===i?"":i,c=t.applicationstatuslink_set,l=void 0===c?[]:c,d=t.date,m=void 0===d?"":d,h=t.order,b=void 0===h?0:h,f=Object(S.a)(t,["text","application","applicationstatuslink_set","date","order"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,f))).text=void 0,a.application=void 0,a.applicationstatuslink_set=void 0,a.date=void 0,a.order=void 0,a.text=o,a.application=r,a.applicationstatuslink_set=l,a.date=m,a.order=b,a}return Object(d.a)(e,t),e}(O),jt=(new yt({}),G("application-statuses")),St=jt.actions,Ot=jt.storeReducer,Tt=jt.sagas,kt=a(36),Ct=function(t){function e(t){var a,n=t.application_status,o=void 0===n?"":n,i=t.link,r=void 0===i?new q({}):i,c=Object(S.a)(t,["application_status","link"]);return Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,c))).application_status=void 0,a.link=void 0,a.application_status=o,a.link=r,a}return Object(d.a)(e,t),e}(O),At=function(t){function e(t){var a;Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,t))).formFactoryProps=void 0,a.linkFieldsCount=void 0,a.validate=function(t){var e={};return t.application_status__text||(e.application_status__text="Required"),t.application_status__date||(e.application_status__date="Please give a valid date"),e},a.onSubmit=function(t,e){(0,e.setSubmitting)(!1),console.log("values=",t);var n=a.props.application.uuid;if(n){for(var o=[],i=0;i<a.linkFieldsCount;i++)o.push(new q({url:t["application_status__application_status_link__link_".concat(i,"__url")],text:t["application_status__application_status_link__link_".concat(i,"__text")]||"Link of status",uuid:a.props.applicationStatus?a.props.applicationStatus.applicationstatuslink_set[i].link.uuid:""}));var r=o.map(function(t,e){return new Ct({link:t,uuid:a.props.applicationStatus?a.props.applicationStatus.applicationstatuslink_set[e].uuid:""})});console.log("App status form: sending app status links=",r);var c=new yt({text:t.application_status__text,application:n,date:t.application_status__date,applicationstatuslink_set:r});a.props.applicationStatus?(c.uuid=a.props.applicationStatus.uuid,a.props.updateApplicationStatus(c,a.props.onSubmitSuccess)):a.props.createApplicationStatus(c,a.props.onSubmitSuccess)}else console.error("Application object has no uuid so cannot submit form.")};var n=a.props.applicationStatus,o={};a.linkFieldsCount=0,a.linkFieldsCount=n?n.applicationstatuslink_set.length:2;for(var i=0;i<a.linkFieldsCount;i++)o["application_status__application_status_link__link_".concat(i,"__url")]=n?n.applicationstatuslink_set[i].link.url:"",o["application_status__application_status_link__link_".concat(i,"__text")]=n?n.applicationstatuslink_set[i].link.text:"";var r=Object(_.a)({application_status__text:n?n.text:"",application_status__date:n?n.date:""},o),c=Object.keys(o).map(function(t){console.log("App status form: contructor(), linkFieldPropsList.field_input_name=",t);var e=t.split("__"),a=e[3].toUpperCase(),n=e[2].split("_")[1];return new ut(t,"".concat(a," ").concat(n))});return a.formFactoryProps={initialValues:r,validate:a.validate,onSubmit:a.onSubmit,formInputFieldPropsList:[new ut("application_status__text","Status*"),new ut("application_status__date","Date",it.DATE)].concat(Object(kt.a)(c)),actionButtonPropsList:[new mt(n?"Update Status":"Add Status",void 0,pt.SUBMIT),new mt("Cancel",a.props.onCancel)]},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationStatusFormComponent"},i.a.createElement(ht,this.formFactoryProps))}}]),e}(o.Component),Ut=Object(h.g)(Object(m.c)(function(t){return{applicationStatusStore:t.applicationStatus}},function(t){return{createApplicationStatus:function(e,a){return t(St[v.CREATE][f.TRIGGERED].action(e,a))},updateApplicationStatus:function(e,a){return t(St[v.UPDATE][f.TRIGGERED].action(e,a))}}})(At)),Rt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isFormOpened:!1},a.renderDisplay=function(t){return i.a.createElement("div",{className:"ApplicationStatusComponent"},i.a.createElement("p",null,i.a.createElement("span",null,"Status: ",t.text),i.a.createElement(_t.a,{onClick:function(){console.log("application status component: edit button clicked."),a.setState({isFormOpened:!0})}},i.a.createElement(Z.a,{hasRipple:!0,icon:"edit"})),i.a.createElement(_t.a,{onClick:function(){return a.props.deleteApplicationStatus(t)}},i.a.createElement(Z.a,{hasRipple:!0,icon:"delete"})),i.a.createElement("br",null),i.a.createElement("span",null,t.date),i.a.createElement("br",null),t.applicationstatuslink_set.map(function(t){return t&&t.link&&i.a.createElement("span",{key:t.uuid},i.a.createElement("a",{href:t.link.url,target:"_blank"},t.link.text)," ","|"," ")})))},a.renderFormController=function(t,e){return i.a.createElement("div",{className:"application-status-form-controller"},a.state.isFormOpened?i.a.createElement("div",{className:"application-component__status-form"},i.a.createElement("h3",null,"Add new status to application for"," ",t.position_title," "),i.a.createElement(Ut,{application:t,applicationStatus:e,onCancel:function(t){a.setState({isFormOpened:!1})},onSubmitSuccess:function(){a.setState({isFormOpened:!1})}})):i.a.createElement(et.a,{onClick:function(t){a.setState({isFormOpened:!0})},unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"add"})},"Add New Status"))},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationStatusComponent"},(this.state.isFormOpened||this.props.isOnlyForm)&&this.props.application?this.renderFormController(this.props.application,this.props.applicationStatus):this.props.applicationStatus?this.renderDisplay(this.props.applicationStatus):i.a.createElement("span",null,"Nothing to render: no application status provided so cannot display; no application provided so form for create/update are not allowed."))}}]),e}(o.Component),Lt=Object(h.g)(Object(m.c)(function(t){return{}},function(t){return{deleteApplicationStatus:function(e,a){return t(St[v.DELETE][f.TRIGGERED].action(e,a))}}})(Rt)),wt=function(t){function e(t){var a;Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,t))).formFactoryProps=void 0,a.validateAppForm=function(t){var e={};return t.application__position_title||(e.application__position_title="Required"),/^https*\:\/\/.+$/i.test(t.application__job_description_page__url)||(e.application__job_description_page__url="Please start by http:// or https://"),/^https*\:\/\/.+$/i.test(t.application__job_source__url)||(e.application__job_source__url="Please start by http:// or https://"),e},a.onSubmitAppForm=function(t,e){(0,e.setSubmitting)(!1);var n=new q({url:t.application__job_description_page__url,text:"Job description URL for application ".concat(t.application__position_title," at company ").concat(a.props.company.name)}),o=new q({url:t.application__job_source__url,text:"Job source URL for application ".concat(t.application__position_title," at company ").concat(a.props.company.name)}),i=a.props.company.uuid,r=new z({position_title:t.application__position_title,job_description_page:n,job_source:o,user_company:i});a.props.application?(console.log("Update application form: application=",r),r.uuid=a.props.application.uuid,a.props.updateApplication(r,a.props.onSubmitSuccess)):a.props.createApplication(r,function(){if(a.props.applicationStore.lastChangedObjectID){var t=a.props.applicationStore.collection[a.props.applicationStore.lastChangedObjectID];console.log("new application:",t),a.props.onSubmitSuccess&&a.props.onSubmitSuccess()}else console.error("application store has no lastChangedObjectID")})};var n=a.props.application,o={application__position_title:n?n.position_title:"",application__job_description_page__url:n?n.job_description_page.url:"",application__job_source__url:n?n.job_source.url:""};return a.formFactoryProps={initialValues:o,validate:a.validateAppForm,onSubmit:a.onSubmitAppForm,formInputFieldPropsList:[new ut("application__position_title","Position Title*"),new ut("application__job_description_page__url","Job Description URL"),new ut("application__job_source__url","Job Source URL")],actionButtonPropsList:[new mt(n?"Update":"Create",void 0,pt.SUBMIT),new mt("Cancel",a.props.onCancel)]},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"ApplicationFormComponent"},i.a.createElement(ht,this.formFactoryProps))}}]),e}(o.Component),Dt=Object(m.c)(function(t){return{applicationStore:t.application}},function(t){return{createApplication:function(e,a){return t(W[v.CREATE][f.TRIGGERED].action(e,a))},updateApplication:function(e,a){return t(W[v.UPDATE][f.TRIGGERED].action(e,a))}}})(wt),It=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isFormOpened:!1},a.renderApplicationFormController=function(){return a.props.company&&i.a.createElement("div",{className:"application-form-controller"},a.state.isFormOpened?i.a.createElement(Dt,{onCancel:function(t){console.log("onCancel clicked"),a.setState({isFormOpened:!1})},onSubmitSuccess:function(){return a.setState({isFormOpened:!1})},company:a.props.company,application:a.props.application}):i.a.createElement(et.a,{onClick:function(t){a.setState({isFormOpened:!0})},unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"add"})},"Add Application"))},a.renderApplicationDisplay=function(t,e){return i.a.createElement("div",{className:"application-component-display"},i.a.createElement("h3",null,"Application"),i.a.createElement("p",null,i.a.createElement("span",null,i.a.createElement("strong",null,"Position:")," ",t.position_title),i.a.createElement(_t.a,{onClick:function(){a.setState({isFormOpened:!0})}},i.a.createElement(Z.a,{hasRipple:!0,icon:"edit"})),i.a.createElement(_t.a,{onClick:function(){return a.props.deleteApplication(t)}},i.a.createElement(Z.a,{hasRipple:!0,icon:"delete"})),i.a.createElement("br",null),i.a.createElement("span",null,"Application UUID: ",t.uuid),i.a.createElement("br",null),t.job_description_page.url?i.a.createElement("a",{target:"_blank",href:t.job_description_page.url},i.a.createElement("strong",null,"JD Page")):i.a.createElement("span",null,"JD Page"),i.a.createElement("br",null),t.job_source.url?i.a.createElement("a",{target:"_blank",href:t.job_source.url},i.a.createElement("strong",null,"Job Source")):i.a.createElement("span",null,"Job Source")),a.props.isShowApplicationStatuses&&e.map(function(e){return i.a.createElement(Lt,{key:e.uuid,applicationStatus:e,application:t})}),i.a.createElement(Lt,{application:t,isOnlyForm:!0}))},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"application-component"},this.state.isFormOpened||this.props.isOnlyForm?this.renderApplicationFormController():this.props.application&&Array.isArray(this.props.applicationStatusList)&&this.renderApplicationDisplay(this.props.application,this.props.applicationStatusList))}}]),e}(o.Component),Ft=Object(m.c)(function(t){return{}},function(t){return{deleteApplication:function(e,a){return t(W[v.DELETE][f.TRIGGERED].action(e,a))}}})(It),Nt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).onDeleteClick=function(t){a.props.company.uuid?a.props.deleteCompany(a.props.company):console.error("Attempted to delete but company obj has no uuid")},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"CompanyApplicationContainer"},i.a.createElement(gt,{company:this.props.company,onDeleteIconClicked:this.onDeleteClick,onEditIconClicked:function(){t.props.history.push("/com-form/".concat(t.props.company.uuid,"/"))}}),Object.values(this.props.applicationStore.collection).filter(function(e){return e.user_company===t.props.company.uuid}).map(function(e){var a=t.props.isShowApplicationStatuses?Object.values(t.props.applicationStatusStore.collection).filter(function(t){return t.application===e.uuid}):[];return i.a.createElement(Ft,{key:e.uuid,application:e,company:t.props.company,applicationStatusList:a,isShowApplicationStatuses:t.props.isShowApplicationStatuses})}),!this.props.isShowApplicationStatuses&&i.a.createElement("hr",null))}}]),e}(o.Component),xt=Object(h.g)(Object(m.c)(function(t){return{applicationStore:t.application,applicationStatusStore:t.applicationStatus}},function(t){return{deleteCompany:function(e,a){return t(Q[v.DELETE][f.TRIGGERED].action(e,a))},updateCompany:function(e,a){return t(Q[v.UPDATE][f.TRIGGERED].action(e,a))}}})(Nt)),Gt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"UserAppPage"},i.a.createElement("h1",null,"Your Applications"),i.a.createElement(et.a,{onClick:function(){t.props.history.push("/com-form/")},unelevated:!0,icon:i.a.createElement(Z.a,{hasRipple:!0,icon:"add"}),children:"Add Company"}),i.a.createElement("br",null),this.props.company.collection!=={}&&Object.values(this.props.company.collection).map(function(t){return i.a.createElement(xt,{key:t.uuid,company:t})}))}}]),e}(o.Component),Pt=Object(h.g)(Object(m.c)(function(t){return{company:t.company,application:t.application}},function(t){return{}})(Gt)),qt=function(t){function e(t){var a;Object(s.a)(this,e),(a=Object(p.a)(this,Object(u.a)(e).call(this,t))).formFactoryProps=void 0,a.validateAppForm=function(t){var e={};return t.company__name||(e.company__name="Required"),/^https*\:\/\/.+$/i.test(t.company__home_page__url)||(e.company__home_page__url="Please start by http:// or https://"),e},a.onSubmitAppForm=function(t,e){(0,e.setSubmitting)(!1),console.log("values=",t);var n=new P({full_address:t.company__hq_location__full_address,place_name:"HQ of ".concat(t.company__name)}),o=new q({url:t.company__home_page__url,text:"Home page of ".concat(t.company__name)}),i=new B({name:t.company__name,hq_location:n,home_page:o});a.props.company?(console.log("company form: dispatching updateCompany action"),i.uuid=a.props.company.uuid,a.props.updateCompany(i,a.props.onSubmitSuccess)):(console.log("company form: dispatching createCompany action"),a.props.createCompany(i,a.props.onSubmitSuccess))};var n={company__name:a.props.company&&a.props.company.name||"",company__hq_location__full_address:a.props.company&&a.props.company.hq_location.full_address||"",company__home_page__url:a.props.company&&a.props.company.home_page.url||""};return a.formFactoryProps={initialValues:n,validate:a.validateAppForm,onSubmit:a.onSubmitAppForm,formInputFieldPropsList:[new ut("company__name","Company Name*"),new ut("company__hq_location__full_address","HQ Address or Location"),new ut("company__home_page__url","Company Home Page URL")],actionButtonPropsList:[new mt(a.props.company?"Update":"Create",void 0,pt.SUBMIT),new mt("Cancel",a.props.onCancel)]},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"CompanyFormComponent"},i.a.createElement(ht,this.formFactoryProps))}}]),e}(o.Component),Bt=Object(m.c)(function(t){return{}},function(t){return{createCompany:function(e,a){return t(Q[v.CREATE][f.TRIGGERED].action(e,a))},updateCompany:function(e,a){return t(Q[v.UPDATE][f.TRIGGERED].action(e,a))}}})(qt),Ht=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props.match.params.uuid&&this.props.company.collection[this.props.match.params.uuid]?this.props.company.collection[this.props.match.params.uuid]:void 0;return console.log("com form page: params is",this.props.match.params.uuid,"company is",e),i.a.createElement("div",{className:"AddComPage"},i.a.createElement("h1",null,e?"Update Company":"Add a Company"),i.a.createElement(Bt,{company:e,onSubmitSuccess:function(){if(console.log("com form page: onSubmitSuccess"),t.props.company.lastChangedObjectID){var e=t.props.company.collection[t.props.company.lastChangedObjectID];console.log("new company:",e),t.props.history.push("/com-app/".concat(e.uuid,"/"))}else console.error("store has no lastChangedObjectID")},onCancel:function(e){t.props.history.goBack()}}))}}]),e}(o.Component),Qt=Object(h.g)(Object(m.c)(function(t){return{company:t.company}},function(t){return{}})(Ht)),Jt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={companyUuid:"",company:new B({})},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.uuid;console.log("mount, got uuid from route?",t),this.props.company.collection&&t in this.props.company.collection&&this.setState({companyUuid:t,company:new B(this.props.company.collection[t])})}},{key:"renderAll",value:function(){var t=this;if(this.state.company.uuid)return i.a.createElement("div",{className:"user-com-app-page-content"},i.a.createElement(et.a,{onClick:function(e){t.props.history.push("/")}},"Back"),i.a.createElement("h1",null,this.state.company.name),i.a.createElement(Ft,{company:this.state.company,isOnlyForm:!0}),i.a.createElement("br",null),this.state.company.uuid&&i.a.createElement(xt,{company:this.state.company,isShowApplicationStatuses:!0}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"UserComAppPage"},this.state.companyUuid&&this.props.company.collection&&this.state.companyUuid in this.props.company.collection?this.renderAll():this.state.companyUuid?i.a.createElement("h1",null,"No company found. Uuid=",this.state.companyUuid):i.a.createElement("h1",null,"Company uuid not specified"))}}]),e}(o.Component),Mt=Object(h.g)(Object(m.c)(function(t){return{company:t.company}},function(t){return{createApplication:function(e,a){return t(W[v.CREATE][f.TRIGGERED].action(e,a))}}})(Jt)),zt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,"Logged in:"," ",this.props.auth.isLogin&&this.props.auth.isLogin.toString()||"undefine"),i.a.createElement("div",null,"User Name: ",this.props.auth.userName||"(empty)"),i.a.createElement("div",null,"Token (for API): ",this.props.auth.apiToken||"(empty)"))}}]),e}(o.Component),Vt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"My Profile"),i.a.createElement(zt,{auth:this.props.auth}),i.a.createElement(rt,null))}}]),e}(o.Component),Wt=Object(h.g)(Object(m.c)(function(t){return{auth:t.auth}})(Vt)),$t=a(78),Xt=a.n($t),Yt=(a(229),a(230),function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"PageRoutesContainer"},"/"===this.props.location.pathname?i.a.createElement(h.b,{path:"/",exact:!0,component:vt}):i.a.createElement("div",{className:"PrivateRoutesContainer"},!this.props.auth.isLogin&&i.a.createElement(h.a,{to:"/"}),i.a.createElement(Xt.a,{title:"Appl Tracky",actionItems:[i.a.createElement(b.a,{to:"/home/"},i.a.createElement(Z.a,{hasRipple:!0,key:"itemHome",icon:"home"})),i.a.createElement(b.a,{to:"/profile/"},""===this.props.auth.avatarUrl?i.a.createElement(Z.a,{hasRipple:!0,key:"itemProfile",icon:"account_circle"}):i.a.createElement("img",{style:{height:"100%",borderRadius:"50%"},src:this.props.auth.avatarUrl}))]}),i.a.createElement($t.TopAppBarFixedAdjust,null,i.a.createElement(h.d,null,i.a.createElement(h.b,{path:"/home/",component:Pt}),i.a.createElement(h.b,{path:"/com-form/:uuid?/",component:Qt}),i.a.createElement(h.b,{path:"/com-app/:uuid/",component:Mt}),i.a.createElement(h.b,{path:"/com-app/",component:Mt}),i.a.createElement(h.b,{path:"/profile/",component:Wt})))))}}]),e}(o.Component)),Kt=Object(h.g)(Object(m.c)(function(t){return{auth:t.auth}},{})(Yt)),Zt=(a(231),function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Kt,null))}}]),e}(o.Component)),te=Object(m.c)(function(t){return{}})(Zt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee,ae=a(31),ne=a(43),oe={requestStatus:f.SUCCESS,isLogin:!1,socialAuthToken:"",apiToken:"",userName:"",expireDateTime:"",avatarUrl:""},ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,e=arguments.length>1?arguments[1]:void 0;return Object(_.a)({},t,e.payload)};!function(t){t.ResetAllStore="RESET_ALL_STORE"}(ee||(ee={}));var re=function(){return{type:ee.ResetAllStore}},ce=a(23),se=a(104),le=a(112),pe=y.a.mark(he),ue=y.a.mark(be),de=y.a.mark(fe),me=y.a.mark(ve);function he(t){var e,a;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("auth saga: initialize"),e=t.payload.socialAuthToken,console.log("auth saga: request fired"),n.prev=3,n.next=6,Object(F.c)(k.serverLogin,e);case 6:return a=n.sent,console.log("auth saga: server login using code from social button. server jsonRes=",a),k.state.apiLoginToken=a.token,n.next=11,Object(F.d)(L(a.email,"",a.token,a.avatar_url));case 11:return n.next=13,Object(F.d)(W[v.LIST][f.TRIGGERED].action(new z({})));case 13:return n.next=15,Object(F.d)(Q[v.LIST][f.TRIGGERED].action(new B({})));case 15:return n.next=17,Object(F.d)(St[v.LIST][f.TRIGGERED].action(new yt({})));case 17:n.next=25;break;case 19:return n.prev=19,n.t0=n.catch(3),console.warn("auth saga: error"),n.next=24,Object(F.d)(D(n.t0));case 24:return n.abrupt("return");case 25:case"end":return n.stop()}},pe,null,[[3,19]])}function be(){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.f)(n.REQUESTED_LOGIN_AUTH,he);case 2:case"end":return t.stop()}},ue)}function fe(t){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("auth logout saga: fired"),t.prev=1,t.next=4,Object(F.c)(k.serverLogout);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),t.next=10,Object(F.d)(D(t.t0));case 10:return t.abrupt("return");case 11:return console.log("auth logout saga: navigating"),t.next=14,Object(F.d)(w());case 14:return t.next=16,Object(F.d)(re());case 16:case"end":return t.stop()}},de,null,[[1,6]])}function ve(){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.f)(n.REQUESTED_LOGOUT_AUTH,fe);case 2:case"end":return t.stop()}},me)}var Ee,_e=Object(le.a)(),ge=y.a.mark(function t(){return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.b)([be(),ve()].concat(Object(kt.a)(M.map(function(t){return t()})),Object(kt.a)(X.map(function(t){return t()})),Object(kt.a)(Tt.map(function(t){return t()}))));case 2:case"end":return t.stop()}},t)}),ye=Object(ce.a)({basename:"/appl-tracky-spa"}),je=Object(ae.d)((Ee=ye,function(t,e){var a={};t?a=e.type===ee.ResetAllStore?{router:t.router}:t:(a.router=void 0,a.auth=void 0,a.company=void 0,a.application=void 0,a.applicationStatus=void 0),console.log("beforeRootStore",t);var n=Object(_.a)({},t,{router:Object(ne.b)(Ee)(a.router,e),auth:ie(a.auth,e),company:J(a.company,e),application:$(a.application,e),applicationStatus:Ot(a.applicationStatus,e)});return console.log("afterRootStore",n),n}),{},Object(ae.c)(Object(ae.a)(Object(se.a)(ye),_e)));_e.run(ge);c.a.render(i.a.createElement(function(t){return i.a.createElement(m.a,{store:t.store},i.a.createElement(ne.a,{history:ye},i.a.createElement(te,null)))},{store:je}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.d60e01e5.chunk.js.map
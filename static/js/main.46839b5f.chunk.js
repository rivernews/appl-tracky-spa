(this["webpackJsonpappl-tracky-spa"]=this["webpackJsonpappl-tracky-spa"]||[]).push([[0],{144:function(e,t,a){e.exports={applicationCard:"application-component_applicationCard__31V7N",applicationCardContent:"application-component_applicationCardContent__37H7Z"}},145:function(e,t,a){e.exports={companyTitleContainer:"company-component_companyTitleContainer__Ri6WX",companyTitleCaption:"company-component_companyTitleCaption__1Ke-4"}},209:function(e,t,a){e.exports={TextField:"form-input-field_TextField__3KSDC"}},211:function(e,t,a){e.exports={TabContent:"tab-content_TabContent__1_9TR"}},212:function(e,t,a){e.exports={enter:"tab-transition-slide-left_enter__1sdjC",enterActive:"tab-transition-slide-left_enterActive__8WTGE",enterDone:"tab-transition-slide-left_enterDone__1_OwZ",exit:"tab-transition-slide-left_exit__3VudZ",exitActive:"tab-transition-slide-left_exitActive__3-3TN",exitDone:"tab-transition-slide-left_exitDone__3Mo2P"}},213:function(e,t,a){e.exports={enter:"tab-transition-slide-right_enter__1QHPP",enterActive:"tab-transition-slide-right_enterActive__2aDp0",enterDone:"tab-transition-slide-right_enterDone__2f3WM",exit:"tab-transition-slide-right_exit__36vYx",exitActive:"tab-transition-slide-right_exitActive__k1Mfn",exitDone:"tab-transition-slide-right_exitDone__3H4Ny"}},214:function(e,t,a){e.exports={tabBar:"tab-container_tabBar__18BpS"}},215:function(e,t,a){e.exports={companyCard:"company-list-item_companyCard__1aDLN",companyCardContent:"company-list-item_companyCardContent__2-x9i"}},220:function(e,t,a){e.exports={UserCompanyPage:"user-com-app-page_UserCompanyPage__1_59y"}},221:function(e,t,a){e.exports={exit:"page-routes-transition_exit__FV-eW",exitActive:"page-routes-transition_exitActive__KOsYo",exitDone:"page-routes-transition_exitDone__3tF_F",enter:"page-routes-transition_enter__2xlSM",enterActive:"page-routes-transition_enterActive__ARhrI",enterDone:"page-routes-transition_enterDone__1rm_w"}},223:function(e,t,a){e.exports={topAppBarTitle:"app-top-bar_topAppBarTitle__2xrzw"}},236:function(e,t,a){e.exports=a(424)},241:function(e,t,a){},400:function(e,t,a){},416:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){"use strict";a.r(t);var n,r,i=a(0),o=a.n(i),c=a(19),s=a.n(c),l=(a(241),a(3)),u=a(8),p=a(6),d=a(5),m=a(13);!function(e){e.PREFILL="prefill",e.SOCIAL_AUTH="social_auth",e.LOCAL="local"}(n||(n={})),function(e){e.UPDATE_AUTH="Update auth",e.REQUESTED_LOGIN_AUTH="Requested login auth",e.REQUESTED_LOGOUT_AUTH="Requested logout auth",e.SUCCESS_AUTH="Success auth",e.FAILURE_AUTH="Failure auth"}(r||(r={}));var b,h,f,v=Object.values(r),E=a(4),y=a(11),S=a.n(y),O=a(74),g=a(26),j=a(16),C=a(37),A=function(){function e(t){var a=t.uuid,n=void 0===a?"":a,r=t.created_at,i=void 0===r?"":r,o=t.modified_at,c=void 0===o?"":o;Object(l.a)(this,e),this.uuid=void 0,this.created_at=void 0,this.modified_at=void 0,this.normalizeSchemaShape=void 0,this.objectNamePlural=void 0,this.uuid=n,this.created_at=i,this.modified_at=c}return Object(u.a)(e,[{key:"getNormalizeSchema",value:function(){return this.normalizeSchemaShape&&this.objectNamePlural?new C.b.Entity(this.objectNamePlural,this.normalizeSchemaShape,{idAttribute:"uuid"}):null}},{key:"getListNormalizeSchema",value:function(){var e=this.getNormalizeSchema();return e?new C.b.Array(e):null}}],[{key:"schema",value:function(){return j.object().shape({})}}]),e}(),T=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.token,i=void 0===r?"":r,o=Object(g.a)(e,["token"]);return Object(l.a)(this,a),(n=t.call(this,o)).token=void 0,n.token=i,n}return a}(A),k=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.code,i=void 0===r?"":r,o=e.provider,c=void 0===o?"":o,s=e.redirect_uri,u=void 0===s?"":s,p=Object(g.a)(e,["code","provider","redirect_uri"]);return Object(l.a)(this,a),(n=t.call(this,p)).code=void 0,n.provider=void 0,n.redirect_uri=void 0,n.code=i,n.provider=c,n.redirect_uri=u,n}return a}(A),_=new(function(){function e(){var t=this;Object(l.a)(this,e),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",redirectUri:"postmessage",apiSocialLoginUrl:"login/social/",apiLocalLoginUrl:"api-token-auth/",apiLoginRefreshUrl:"api-token-refresh/",socialAuthProvider:"google-oauth2",apiLoginToken:""},this.serverLogin=function(){var e=Object(O.a)(S.a.mark((function e(a,r){var i,o,c,s,l,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==n.PREFILL){e.next=17;break}if(!(i=localStorage.getItem("".concat("","applyTracky__authState"))?JSON.parse(localStorage.getItem("".concat("","applyTracky__authState"))||"{}"):{}).isLogin){e.next=14;break}return t.apiCallToken=i.apiToken,e.prev=4,e.next=7,t.refreshToken();case 7:return o=e.sent,e.abrupt("return",{email:i.userName,token:o.token,avatar_url:i.avatarUrl,isLocal:i.isLocal});case 11:e.prev=11,e.t0=e.catch(4);case 14:return e.abrupt("return",{});case 17:if(a!==n.SOCIAL_AUTH){e.next=32;break}return c=new k({code:r.socialAuthToken,provider:t.state.socialAuthProvider,redirect_uri:t.state.redirectUri}),e.prev=19,e.next=22,I.post({data:c,endpointUrl:t.state.apiSocialLoginUrl});case 22:return s=e.sent,t.apiCallToken=s.token,e.abrupt("return",Object(E.a)(Object(E.a)({},s),{},{isLocal:!1}));case 27:throw e.prev=27,e.t1=e.catch(19),Error(e.t1);case 30:e.next=49;break;case 32:if(a!==n.LOCAL){e.next=49;break}return e.prev=33,e.next=36,fetch("".concat(I.state.apiBaseUrl).concat(t.state.apiLocalLoginUrl),{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,password:r.password})});case 36:if((l=e.sent).ok){e.next=39;break}throw Error(l.statusText);case 39:return e.next=41,l.json();case 41:return u=e.sent,t.apiCallToken=u.token,e.abrupt("return",{email:r.username,token:u.token,avatar_url:u.avatar_url,isLocal:!0});case 46:throw e.prev=46,e.t2=e.catch(33),Error(e.t2);case 49:case"end":return e.stop()}}),e,null,[[4,11],[19,27],[33,46]])})));return function(t,a){return e.apply(this,arguments)}}(),this.refreshToken=Object(O.a)(S.a.mark((function e(){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new T({token:t.apiCallToken}),e.prev=1,e.next=4,I.post({data:a,endpointUrl:t.state.apiLoginRefreshUrl});case 4:return n=e.sent,t.apiCallToken=n.token,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),this.serverLogout=Object(O.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.apiCallToken="",e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))}return Object(u.a)(e,[{key:"apiCallToken",get:function(){return this.state.apiLoginToken},set:function(e){this.state.apiLoginToken=e}}]),e}());!function(e){e.TRIGGERED="triggered",e.REQUESTING="requesting",e.SUCCESS="success",e.FAILURE="failre"}(b||(b={})),function(e){e.CREATE="create",e.BATCHCREATE="batchcreate",e.READ="read",e.LIST="list",e.UPDATE="update",e.BATCHUPDATE="batchupdate",e.DELETE="delete"}(h||(h={})),function(e){e.POST="post",e.GET="get",e.PATCH="patch",e.DELETE="delete"}(f||(f={}));var x=function(e){switch(e){case h.CREATE:case h.BATCHCREATE:return f.POST;case h.READ:case h.LIST:return f.GET;case h.UPDATE:case h.BATCHUPDATE:return f.PATCH;case h.DELETE:return f.DELETE;default:return f.GET}};function L(e){return void 0!==e.uuid}var I=new function e(){var t=this;Object(l.a)(this,e),this.state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",redirectUri:"postmessage",apiBaseUrl:"https://appl-tracky.api.shaungc.com/api/",socialAuthProvider:"google-oauth2",userEmail:"",userFirstName:"",userLastName:"",objectID:""},this.get=function(e){var a=e.endpointUrl,n=e.absoluteUrl,r=e.objectName,i=e.data;return fetch(t.getRelativeUrl({endpointUrl:a,absoluteUrl:n,objectName:r,data:i}),Object(E.a)({method:"GET"},t.setApiAuthHeaders())).then((function(e){return e.json()}))},this.post=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"POST"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)})).then((function(e){return e.json()}))},this.patch=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"PATCH"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)})).then((function(e){return e.json()}))},this.delete=function(e){var a=e.data,n=e.objectName,r=e.endpointUrl;return fetch(t.getRelativeUrl({endpointUrl:r,objectName:n,data:a}),Object(E.a)(Object(E.a)({method:"DELETE"},t.setApiAuthHeaders()),{},{body:JSON.stringify(a)}))},this.getRelativeUrl=function(e){var a=e.objectName,n=e.data,r=e.endpointUrl,i=e.absoluteUrl;return i||(r?"".concat(t.state.apiBaseUrl).concat(r):n&&void 0!==n.uuid&&n.uuid?"".concat(t.state.apiBaseUrl).concat(a,"/").concat(n.uuid,"/"):"".concat(t.state.apiBaseUrl).concat(a,"/"))},this.setApiAuthHeaders=function(){return{mode:"cors",credentials:_.apiCallToken?"include":"omit",headers:{Authorization:_.apiCallToken?"JWT ".concat(_.apiCallToken):"","Content-Type":"application/json"}}}},N=function(e,t,a){return{type:r.REQUESTED_LOGIN_AUTH,loginMode:e,params:t,payload:{requestStatus:b.REQUESTING},onCompleteCallback:a}},w=function(){return{type:r.REQUESTED_LOGOUT_AUTH,payload:{requestStatus:b.REQUESTING}}},F=function(){return{type:r.SUCCESS_AUTH,payload:{requestStatus:b.SUCCESS,isLogin:!1,isLocal:!1,userName:"",expireDateTime:"",apiToken:"",avatarUrl:""}}},D=function(e){return{type:r.FAILURE_AUTH,payload:{requestStatus:b.FAILURE,error:e}}},U=a(43),R=a(44),P=a.n(R),G=a(464),B=a(463),H=a(102),q=(a(35),a(25)),M=a.n(q),V=a(103),z=a(104),Q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onLoginButtonClicked=function(e,t){t.onClick(e)},e.onAuthSuccess=function(t){e.props.onSuccess(t)},e.onAuthFailure=function(t){e.props.onFailure&&e.props.onFailure(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"UserAuthButton"},o.a.createElement(H.GoogleLogin,{render:function(t){return o.a.createElement(M.a,{onClick:function(a){return e.onLoginButtonClicked(a,t)},unelevated:!0,icon:o.a.createElement(V.a,{icon:z.b}),disabled:e.props.disabled},"Google Login")},onSuccess:this.onAuthSuccess,onFailure:this.onAuthFailure,clientId:this.props.clientID,responseType:"code",redirectUri:this.props.redirectUri||"postmessage",cookiePolicy:"https://shaungc.com",hostedDomain:"https://appl-tracky.shaungc.com"}))}}]),a}(i.Component),W=a(15),J=a.n(W),Y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onAuthSuccess=function(t){e.props.onSuccess(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"UserAuthButton"},o.a.createElement(H.GoogleLogout,{clientId:_.state.clientID,render:function(t){return o.a.createElement(M.a,{onClick:e.props.onClick,unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"eject"}),disabled:e.props.disabled},"Logout")},onLogoutSuccess:this.onAuthSuccess}))}}]),a}(i.Component),K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={clientID:"732988498848-vuhd6g61bnlqe372i3l5pbpnerteu6na.apps.googleusercontent.com",code:"",apiLoginToken:"",userEmail:"",userFirstName:"",userLastName:"",objectID:""},e.onSocialLoginSuccess=function(t){e.setState({code:t.code},(function(){e.props.requestedLoginAuth(e.state.code)}))},e.onSocialLoginFailure=function(e){console.error("Social login failed:",e)},e.onSocialLogoutSuccess=function(){e.props.requestedLogoutAuth()},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"SocialAuth"},this.props.auth.isLogin?o.a.createElement(Y,{onSuccess:this.onSocialLogoutSuccess,onClick:this.onSocialLogoutSuccess}):o.a.createElement(Q,{clientID:this.state.clientID,onSuccess:this.onSocialLoginSuccess,onFailure:this.onSocialLoginFailure,disabled:this.props.auth.requestStatus===b.REQUESTING}))}}]),a}(i.Component);var X,Z=Object(U.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLoginAuth:function(t){e(N(n.SOCIAL_AUTH,{socialAuthToken:t}))},requestedLogoutAuth:function(){e(w())}}}))(K)),$=a(33),ee=(a(192),a(51)),te=a.n(ee),ae=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formFactoryProps=void 0,n.onStaffLoginClick=function(){n.props.history.push("/local-login/")},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:te.a.LandingPage},o.a.createElement("div",{className:te.a.primaryPageContent},o.a.createElement("div",{className:te.a.headlineContent},o.a.createElement($.Headline1,{className:te.a.headlineText},"Appl Tracky"),o.a.createElement($.Headline4,{className:te.a.headlineSubText},"Got crazy using speadsheet to keep track of your application progress? Try out Appl Tracky to ease your workflow!"),o.a.createElement($.Body1,null,"Whether it is application for job, school program, scholarship or whatever process that lets you wait from a couple weeks to months, Appl Tracky has you covered. Keep track of every steps in the process, insert links, put down notes to get you more organized and prepared!")),o.a.createElement("div",{className:te.a.loginActionsContainer},o.a.createElement($.Headline4,null,"Sign up & login now to get organized"),o.a.createElement(Z,null),o.a.createElement($.Body1,null,"Just want to try things out and don't want to sign up yet? No problem, here's a guest account you can use:"),o.a.createElement("div",null,"\ud83e\udd84 username: guest"),o.a.createElement("div",null,"\ud83e\udd84 password: appltracky"),o.a.createElement(M.a,{onClick:this.onStaffLoginClick,unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"account_circle"})},"Sign in")),o.a.createElement("div",{className:te.a.divider}),o.a.createElement("div",{className:te.a.sideNoteContent},o.a.createElement($.Subtitle1,null,"Take a look at the React code that fuels and powers all the goodies!"),o.a.createElement(M.a,{href:"https://github.com/rivernews/appl-tracky-spa",target:"_blank",unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"code"})},"Github Repository"))))}}]),a}(i.Component),ne=Object(U.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{}}))(ae)),re=(a(54),a(75)),ie=a.n(re),oe=a(38),ce=a(209),se=a.n(ce),le=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"FormInputField"},o.a.createElement(oe.b,{name:this.props.fieldName,render:function(t){var a=t.field;t.form;return o.a.createElement(ie.a,{className:se.a.TextField,label:e.props.label,onTrailingIconSelect:e.props.onTrailingIconSelect,trailingIcon:e.props.onTrailingIconSelect&&o.a.createElement(J.a,{role:"button",icon:"clear"})},o.a.createElement(re.Input,Object.assign({type:e.props.type||X.TEXT,inputType:"input",autoFocus:e.props.autoFocus},a)))}}),o.a.createElement(oe.a,{name:this.props.fieldName}))}}]),a}(i.Component);!function(e){e.TEXT="text",e.PASSWORD="password",e.EMAIL="email",e.URL="url",e.DATE="date"}(X||(X={}));var ue,pe=function(){function e(t){var a=this;Object(l.a)(this,e),this.fieldName=void 0,this.label=void 0,this.model=void 0,this.formField=void 0,this.isDynamic=void 0,this.dynamicLimit=void 0,this.getInstanceDataFromFormikValues=void 0,this.fieldName=t.fieldName,this.label=t.label,this.isDynamic=t.isDynamic,this.dynamicLimit=t.dynamicLimit,t.getInstanceDataFromFormikValues?this.getInstanceDataFromFormikValues=t.getInstanceDataFromFormikValues:this.getInstanceDataFromFormikValues=function(e){return e&&e[a.fieldName]?(a.isDynamic&&!Array.isArray(e[a.fieldName])&&(alert("Oops! Something might go wrong. Info: at class FormBaseFieldMeta."),console.error("isDynamic=true, but the value is not an array:"),console.error("values =",e," this.fieldName =",a.fieldName)),e[a.fieldName]):(alert("Oops! Something might go wrong. Info: at class FormBaseFieldMeta."),console.error("values =",e," this.fieldName =",a.fieldName),a.isDynamic?[]:"")},this.formField=le}return Object(u.a)(e,[{key:"getInstance",value:function(e){var t=this.model;return t?this.isDynamic?this.getInstanceDataFromFormikValues(e).map((function(e){return new t(e)})):Array.isArray(e[this.fieldName])?e[this.fieldName].map((function(e){return new t(e)})):new t(e[this.fieldName]):e[this.fieldName]}}]),e}(),de=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.type,i=e.onTrailingIconSelect,o=e.autoFocus,c=Object(g.a)(e,["type","onTrailingIconSelect","autoFocus"]);return Object(l.a)(this,a),(n=t.call(this,c)).type=void 0,n.onTrailingIconSelect=void 0,n.autoFocus=void 0,n.type=r,n.onTrailingIconSelect=i,n.autoFocus=o,n.formField=le,n}return a}(pe),me=a(107);!function(e){e.SUBMIT="submit",e.BUTTON="button"}(ue||(ue={}));var be,he,fe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(l.a)(this,e),this.text=t,this.onClick=a,this.type=n},ve=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;if(Object(l.a)(this,a),(n=t.call(this,e)).initialInstance=void 0,n.validationSchema=void 0,n.onSubmit=function(e,t){var a=t.setSubmitting;a(!0);var r,i={},o=Object(me.a)(n.props.formFieldPropsList);try{for(o.s();!(r=o.n()).done;){var c=r.value;i[c.fieldName]=c.getInstance(e)}}catch(u){o.e(u)}finally{o.f()}var s=n.props.model;if(s&&n.props.createInstanceTriggerAction&&n.props.updateInstanceTriggerAction&&n.initialInstance){var l=new s(Object(E.a)(Object(E.a)({uuid:n.initialInstance.uuid},i),n.props.enforcedInstanceData));l.uuid?n.props.updateInstanceTriggerAction(l,n.props.onSubmitSuccess,(function(){return a(!1)}),n.props.initialInstance):n.props.createInstanceTriggerAction(l,n.props.onSubmitSuccess,(function(){return a(!1)}))}else{if(!n.props.onSubmit)throw alert("Something is wrong with the form...!"),Error("ERROR: form factory props not properly configured. See above props.");n.props.onSubmit(e,{setSubmitting:a})}},n.props.model&&!n.props.initialInstance){var r=n.props.model;n.initialInstance=new r({})}else n.initialInstance=n.props.initialInstance;if(!n.initialInstance&&(!n.props.initialValues||!n.props.onSubmit))throw Error("ERROR: form factory has no initialInstance - seems like you're building a custom form that does not use data model. Please pass in initialValues and onSubmit in props to handle the behavior manually.");return n.validationSchema=n.props.validationSchema||n.props.model.schema,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"FormFactory"},o.a.createElement(oe.e,{initialValues:this.initialInstance||this.props.initialValues,validationSchema:this.validationSchema,onSubmit:this.onSubmit},(function(t){var a=t.values,n=t.isSubmitting,r=t.submitForm;return o.a.createElement(oe.d,null,e.props.formFieldPropsList.map((function(e,t){return o.a.createElement(e.formField,Object.assign({key:t},e,{formikValues:a,onSaveKeystroke:r}))})),e.props.actionButtonPropsList.map((function(e,t){return o.a.createElement(M.a,{key:t,type:e.type||ue.BUTTON,disabled:n,unelevated:!0,onClick:e.onClick,children:e.text})})))})))}}]),a}(i.Component),Ee=function(e){var t=[new de({fieldName:"username",label:"Username",autoFocus:!0}),new de({fieldName:"password",label:"Password",type:X.PASSWORD})],a=[new fe("Login",void 0,ue.SUBMIT),new fe("Cancel",e.onCancel)],n=function(){var t=Object(O.a)(S.a.mark((function t(a,n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=n.setSubmitting)(!0),e.onSubmit(a,r);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),r=j.object().shape({username:j.string().required("Forgot to type username...?"),password:j.string().required("Password please...!")});return o.a.createElement("div",{className:"loginForm"},o.a.createElement(ve,{initialValues:{username:"guest",password:"appltracky"},formFieldPropsList:t,actionButtonPropsList:a,validationSchema:r,onSubmit:n}))},ye=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onLoginFormCancel=function(){e.props.history.goBack()},e.onLoginFormSubmit=function(t,a){e.props.requestedLoginAuth(t.username,t.password,(function(){a(!1)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"LocalLoginPage"},o.a.createElement("h1",null,"Login Portal for local sign in"),o.a.createElement("div",null,"If you just want to try it out, you can use guest account:",o.a.createElement("div",null,"username: guest"),o.a.createElement("div",null,"password: appltracky")),o.a.createElement(Ee,{onSubmit:this.onLoginFormSubmit,onCancel:this.onLoginFormCancel}))}}]),a}(i.Component),Se=Object(U.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLoginAuth:function(t,a,r){e(N(n.LOCAL,{username:t,password:a},r))}}}))(ye)),Oe=a(40),ge=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"normalizeText",value:function(e){return e.toLowerCase().trim()}}]),e}(),je=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.place_name,i=void 0===r?"":r,o=e.country,c=void 0===o?"":o,s=e.state,u=void 0===s?"":s,p=e.city,d=void 0===p?"":p,m=e.street,b=void 0===m?"":m,h=e.full_address,f=void 0===h?"":h,v=e.zipcode,E=void 0===v?"":v,y=Object(g.a)(e,["place_name","country","state","city","street","full_address","zipcode"]);return Object(l.a)(this,a),(n=t.call(this,y)).place_name=void 0,n.country=void 0,n.state=void 0,n.city=void 0,n.street=void 0,n.full_address=void 0,n.zipcode=void 0,n.place_name=i,n.country=c,n.state=u,n.place_name=i,n.city=d,n.street=b,n.full_address=f,n.zipcode=E,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({full_address:j.string().max(200),street:j.string().max(150),city:j.string().max(50),state:j.string().max(50),country:j.string().max(50),place_name:j.string().max(50),zipcode:j.string().max(20)})}}]),a}(A),Ce=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,i=void 0===r?"":r,o=e.user,c=void 0===o?{}:o,s=e.url,u=void 0===s?"":s,p=e.order,d=void 0===p?0:p,m=Object(g.a)(e,["text","user","url","order"]);return Object(l.a)(this,a),(n=t.call(this,m)).text=void 0,n.user=void 0,n.url=void 0,n.order=void 0,n.text=i,n.user=c,n.url=u,n.order=d,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({text:j.string().max(200),url:j.string().default("#").when("text",{is:function(e){return e},then:j.string().required("Since you gave the link some text, let's provide an url as well...!").max(500,"URL is too long, only less than 500 characters please")})})}}]),a}(A),Ae=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,i=void 0===r?be.TARGET:r,o=e.user,c=void 0===o?null:o,s=e.color,u=void 0===s?"":s,p=e.order,d=void 0===p?0:p,m=Object(g.a)(e,["text","user","color","order"]);return Object(l.a)(this,a),(n=t.call(this,m)).text=void 0,n.user=void 0,n.color=void 0,n.order=void 0,n.text=i,n.user=c,n.color=u,n.order=d,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({text:j.string().max(200),color:j.string().max(20),order:j.number()})}}]),a}(A);!function(e){e.TARGET="Target",e.APPLIED="Applied",e.INTERVIEWING="Interviewing",e.ARCHIVED="Archived"}(be||(be={})),function(e){e[e.ALL=0]="ALL",e[e.TARGET=1]="TARGET",e[e.APPLIED=2]="APPLIED",e[e.INTERVIEWING=3]="INTERVIEWING",e[e.ARCHIVED=4]="ARCHIVED"}(he||(he={}));var Te,ke=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.user,i=void 0===r?"":r,o=e.labels,c=void 0===o?[]:o,s=e.name,u=void 0===s?"":s,p=e.hq_location,d=void 0===p?new je({}):p,m=e.home_page,b=void 0===m?new Ce({}):m,h=e.ratings,f=void 0===h?{}:h,v=e.applications,E=void 0===v?[]:v,y=Object(g.a)(e,["user","labels","name","hq_location","home_page","ratings","applications"]);return Object(l.a)(this,a),(n=t.call(this,y)).user=void 0,n.labels=void 0,n.name=void 0,n.hq_location=void 0,n.home_page=void 0,n.ratings=void 0,n.applications=void 0,n.user=i,n.labels=c,n.name=u,n.hq_location=d,n.home_page=b,n.ratings=f,n.applications=E,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({name:j.string().required("Every company needs a name...!").max(100),home_page:Ce.schema(),hq_location:je.schema()})}},{key:"getLabel",value:function(e){return e.labels&&e.labels.length?e.labels[0].text:be.TARGET}}]),a}(A),_e={[be.TARGET]:"targetCompany",[be.APPLIED]:"appliedCompany",[be.INTERVIEWING]:"interviewingCompany",[be.ARCHIVED]:"archivedCompany"},xe=a(457),Le=(a(389),a(390),a(391),a(392),a(138)),Ie=a.n(Le),Ne=a(210),we=a.n(Ne),Fe=a(211),De=a.n(Fe),Ue=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:De.a.TabContent},this.props.children)}}]),a}(i.Component),Re=a(212),Pe=a.n(Re),Ge=a(213),Be=a.n(Ge),He=a(214),qe=a.n(He);!function(e){e.LEFTWARD="leftward",e.RIGHTWARD="rightward"}(Te||(Te={}));var Me,Ve=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeIndex:he.INTERVIEWING,tabContentSlideDirection:Te.RIGHTWARD},e.handleActiveIndexUpdate=function(t){e.setState({activeIndex:t,tabContentSlideDirection:t>e.state.activeIndex?Te.LEFTWARD:Te.RIGHTWARD})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.render?this.props.render():[],a=Array.isArray(t)?t:[t];return o.a.createElement("div",null,o.a.createElement(we.a,{className:"".concat(qe.a.tabBar),activeIndex:this.state.activeIndex,handleActiveIndexUpdate:this.handleActiveIndexUpdate},a.map((function(e,t){return o.a.createElement(Ie.a,{key:t,tabIndex:t},o.a.createElement("span",{className:"mdc-tab__text-label"},e.props.label))}))),a.map((function(t,a){return o.a.createElement(B.a,{key:a,classNames:e.state.tabContentSlideDirection===Te.RIGHTWARD?Object(E.a)({},Be.a):Object(E.a)({},Pe.a),in:e.state.activeIndex===a,timeout:500,unmountOnExit:!0},o.a.createElement(Ue,t.props))})))}}]),a}(i.Component),ze=(a(396),a(115)),Qe=a.n(ze),We=a(427),Je=a(454),Ye=a(456),Ke=(a(398),a(42)),Xe=(a(132),a(29)),Ze=a.n(Xe),$e=a(215),et=a.n($e),tt=a(455),at=a(462);!function(e){e.CANCEL_ALL="Cancel all selected company",e.ADD_SELECT_COMPANY="Add select company",e.REMOVE_SELECT_COMPANY="Remove select company",e.SET_DESTINATION_STATUS="Set destination status",e.APPLY_ALL_CHANGES="Batch apply all company status changes",e.SET_REQUEST_STATUS="Set select company apply request status"}(Me||(Me={}));var nt,rt=function(e){return{type:Me.SET_REQUEST_STATUS,requestStatus:e}},it=function(e){var t=e.company,a=t.uuid,n=t.labels,r=Object(m.d)(),c=Object(i.useCallback)((function(e){e.target.checked?r(function(e,t){return{type:Me.ADD_SELECT_COMPANY,companyId:e,companyStatus:t}}(a,n.length?n[0].text:be.TARGET)):r(function(e){return{type:Me.REMOVE_SELECT_COMPANY,companyId:e}}(a))}),[r,a,n]);return o.a.createElement(at.a,{edge:"end",onChange:c})},ot=function(e){var t;return o.a.createElement(We.a,{className:""},o.a.createElement("div",{className:et.a.companyCardContent},o.a.createElement(Je.a,{onClick:function(){e.onClick&&e.company&&e.onClick(e.company.uuid)}},o.a.createElement(tt.a,{variant:"h5"},e.company?e.company.name:o.a.createElement(Ze.a,{duration:1.1,width:"50vmin"}))),e.company?e.company.labels.length&&e.company.labels[0].text?o.a.createElement(Ke.ChipSet,null,o.a.createElement(Ke.Chip,{label:e.company.labels[0].text})):o.a.createElement(Ke.ChipSet,null,o.a.createElement(Ke.Chip,{label:"None"})):o.a.createElement(Ze.a,{width:"40px"}),o.a.createElement(Qe.a,{nonInteractive:!0},e.applications?e.applications.map((function(e){return o.a.createElement(ze.ListItem,{key:e.uuid},o.a.createElement(ze.ListItemText,{primaryText:e.position_title}))})):o.a.createElement("div",{className:"skeletonGroup"},o.a.createElement("div",null,o.a.createElement(Ze.a,{duration:1.1,width:"40vmin"})),o.a.createElement("div",null,o.a.createElement(Ze.a,{duration:1.1,width:"60vmin"})),o.a.createElement("div",null,o.a.createElement(Ze.a,{duration:1.1,width:"50vmin"})))),o.a.createElement(Ye.a,null,(null===(t=e.company)||void 0===t?void 0:t.uuid)?o.a.createElement(it,{company:e.company}):null)))},ct=a(87),st=a.n(ct),lt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",isFiltering:!1,filteredCompanyList:[],activeTabIndex:0},e.onCompanyClick=function(t){setTimeout((function(){return e.props.history.push("/com-app/".concat(t,"/"))}),10)},e.searchFieldTextIsEmpty=function(){return""===ge.normalizeText(e.state.searchText)},e.filterCompanyByName=function(t){var a=ge.normalizeText(t),n=Object.values(e.props.company.collection);e.setState({filteredCompanyList:n.filter((function(e){return ge.normalizeText(e.name).includes(a)})),isFiltering:!0})},e.onSearchFieldChange=function(t){e.setState({searchText:t.currentTarget.value},(function(){e.setState({isFiltering:!e.searchFieldTextIsEmpty()&&e.state.isFiltering})}))},e.onSearchFieldKeyDown=function(t){"enter"===t.key.toLowerCase()&&!e.searchFieldTextIsEmpty()&&e.filterCompanyByName(e.state.searchText)},e.onSearchFieldClear=function(){e.setState({searchText:"",isFiltering:!1})},e.handleActiveTabIndexUpdate=function(t){return e.setState({activeTabIndex:t})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=Object.values(this.props.company.collection),a=this.props.company.requestStatus!==b.REQUESTING?this.state.isFiltering?this.state.filteredCompanyList:t:Array.from(Array(5));return o.a.createElement("div",null,o.a.createElement("div",{className:st.a.UserAppPageHeader},o.a.createElement($.Headline3,null,"Your Organizations"),o.a.createElement(M.a,{className:"mdc-theme-secondary",onClick:function(){e.props.history.push("/com-form/")},unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"add"}),children:"Add Organization"})),o.a.createElement(Ve,{render:function(){var t=o.a.createElement(Ue,{label:"All"},o.a.createElement("div",{className:st.a.companyListHeader},o.a.createElement(ie.a,{className:st.a.searchField,label:"Search Company Name",outlined:!0,leadingIcon:o.a.createElement(J.a,{role:"button",icon:"search"}),trailingIcon:""===e.state.searchText?void 0:o.a.createElement(J.a,{role:"button",icon:"clear"}),onTrailingIconSelect:e.onSearchFieldClear},o.a.createElement(re.Input,{type:X.TEXT,inputType:"input",onKeyDown:e.onSearchFieldKeyDown,onChange:e.onSearchFieldChange,value:e.state.searchText}))),o.a.createElement(xe.a,null,a.map((function(t,a){return o.a.createElement(ot,{key:t?t.uuid:a,company:t,applications:t?Object.values(e.props.application.collection).filter((function(e){return e.user_company===t.uuid})):void 0,onClick:t?e.onCompanyClick:void 0})})))),n=Object.values(be).map((function(t,a){return o.a.createElement(Ue,{key:a,label:"".concat(t," (").concat(Object.keys(e.props[_e[t]].collection).length,")")},o.a.createElement("div",{className:st.a.companyListHeader},o.a.createElement("h1",null,t)),o.a.createElement("div",null,Object.values(e.props[_e[t]].collection).map((function(t,a){var n=e.props.company.collection[t.uuid],r=n?n.applications.map((function(t){return e.props.application.collection[t]})):void 0;return o.a.createElement(ot,{key:n?n.uuid:a,company:n,applications:r,onClick:n?e.onCompanyClick:void 0})}))))}));return[t].concat(Object(Oe.a)(n))}}))}}]),a}(i.Component),ut=Object(U.i)(Object(m.c)((function(e){return Object(E.a)(Object(E.a)({company:e.company},Object.values(_e).reduce((function(t,a){return Object(E.a)(Object(E.a)({},t),{},{[a]:e[a]})}),{})),{},{application:e.application})}),(function(e){return{}}))(lt)),pt=(a(400),function(e){for(var t=Object.values(h),a={},n=function(){var t=i[r];a[t]={};for(var n=0,o=Object.values(b);n<o.length;n++){var c=o[n];a[t][c]={actionTypeName:"",action:function(){}},a[t][c].actionTypeName="".concat(c.toUpperCase(),"_").concat(t.toUpperCase(),"_").concat(e.toUpperCase())}a[t][b.TRIGGERED].action=function(e,n,r,i,o,c){return{type:a[t][b.TRIGGERED].actionTypeName,crudType:t,finalCallback:i,successCallback:n,failureCallback:r,absoluteUrl:o,triggerActionOptions:c,payload:{requestStatus:b.TRIGGERED,formData:e}}},a[t][b.REQUESTING].action=function(){return{type:a[t][b.REQUESTING].actionTypeName,crudType:t,payload:{requestStatus:b.REQUESTING}}},a[t][b.SUCCESS].action=function(e,n){var r={type:a[t][b.SUCCESS].actionTypeName,crudType:t};if(t===h.DELETE)return Object(E.a)(Object(E.a)({},r),{},{triggerFormData:n,payload:{requestStatus:b.SUCCESS}});if(L(e))return Object(E.a)(Object(E.a)({},r),{},{payload:{requestStatus:b.SUCCESS,formData:e}});var i=Array.isArray(e)?e:e.results;return Object(E.a)(Object(E.a)({},r),{},{payload:{requestStatus:b.SUCCESS,formData:i}})},a[t][b.FAILURE].action=function(e){return{type:a[t][b.FAILURE].actionTypeName,crudType:t,payload:{requestStatus:b.FAILURE,error:e}}}},r=0,i=t;r<i.length;r++)n();return a});!function(e){e.ResetAllStore="RESET_ALL_STORE"}(nt||(nt={}));var dt=pt("companies"),mt=Object.values(_e).reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{[t]:pt(t)})}),{}),bt=pt("applications"),ht=pt("application-statuses"),ft=(a(133),a(27)),vt=a.n(ft),Et=function(e){return o.a.createElement("div",{className:"FormBaseDynamicFieldControlls"},o.a.createElement(vt.a,{type:"button",onClick:function(){window.confirm("Are you sure you want to delete this dynamic field?")&&e.formikArrayHelpers.remove(e.index)}},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"})))},yt=function(e){return o.a.createElement(M.a,{type:"button",onClick:function(){if(e.model){var t=e.model;e.formikArrayHelpers.push(new t({}))}else e.formikArrayHelpers.push({})},children:"New ".concat(e.label)})},St=function(e){return function(t){if(t.isDynamic&&!t.formikValues)throw alert("Oops! Something's wrong."),Error("When `isDynamic` is true, you need to pass over `formikValues`.");var a=t.formikValues,n=t.getInstanceDataFromFormikValues;return t.isDynamic&&n&&a?o.a.createElement(oe.c,{name:t.fieldName,render:function(r){return o.a.createElement("div",{className:"FormApplicationStatusLinkFieldsContainer"},n(a).map((function(a,n){return o.a.createElement("div",{key:n,className:"FormBaseDynamicField"},o.a.createElement(e,{fieldName:"".concat(t.fieldName,"[").concat(n,"]"),label:"".concat(t.label," ").concat(n),formikValues:t.formikValues,getInstanceDataFromFormikValues:t.getInstanceDataFromFormikValues}),o.a.createElement(Et,{index:n,formikArrayHelpers:r}))})),o.a.createElement(yt,{formikArrayHelpers:r,label:t.label,model:t.model}))}}):o.a.createElement(e,{fieldName:t.fieldName,label:t.label,formikValues:t.formikValues,getInstanceDataFromFormikValues:t.getInstanceDataFromFormikValues})}},Ot=St(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).textInputFieldMeta=void 0,n.urlInputFieldMeta=void 0,n.textInputFieldMeta=new de({fieldName:"".concat(n.props.fieldName,".text"),label:"Description",autoFocus:!0}),n.urlInputFieldMeta=new de({fieldName:"".concat(n.props.fieldName,".url"),label:"Link url"}),n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"FormLinkField"},this.props.label&&o.a.createElement($.Overline,null,this.props.label),o.a.createElement(le,this.textInputFieldMeta),o.a.createElement(le,this.urlInputFieldMeta))}}]),a}(i.Component)),gt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).model=Ce,n.formField=Ot,n}return a}(pe),jt=St(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fullAddressInputFieldMeta=void 0,n.placeNameInputFieldMeta=void 0,n.fullAddressInputFieldMeta=new de({fieldName:"".concat(n.props.fieldName,".full_address"),label:"Full Address"}),n.placeNameInputFieldMeta=new de({fieldName:"".concat(n.props.fieldName,".place_name"),label:"Place Name"}),n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"FormAddressField"},this.props.label&&o.a.createElement($.Overline,null,this.props.label),o.a.createElement(le,this.placeNameInputFieldMeta),o.a.createElement(le,this.fullAddressInputFieldMeta))}}]),a}(i.Component)),Ct=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).model=je,n.formField=jt,n}return a}(pe),At=a(45),Tt=Object(U.i)(Object(m.c)((function(e){return{}}))((function(e){var t=Object(i.useState)(e.selectedLabels&&e.selectedLabels.length?[e.selectedLabels[0].text]:[be.TARGET]),a=Object(At.a)(t,2),n=a[0],r=a[1];return Object(i.useEffect)((function(){e.onChange&&e.onChange(n[0])}),[n]),o.a.createElement("div",{className:"LabelGroupComponent"},e.titleText&&o.a.createElement($.Overline,null,e.titleText),o.a.createElement(Ke.ChipSet,{choice:!0,selectedChipIds:n,handleSelect:function(e){r(e)}},Object.values(be).map((function(e,t){return o.a.createElement(Ke.Chip,{key:t,id:e,label:e})}))))}))),kt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"FormLabelField"},o.a.createElement(oe.b,{name:this.props.fieldName,render:function(t){var a=t.field,n=t.form;return o.a.createElement(Tt,{titleText:e.props.label,selectedLabels:a.value,onChange:function(e){n.setFieldValue(a.name,[new Ae({text:e})])}})}}),o.a.createElement(oe.a,{name:this.props.fieldName}))}}]),a}(i.Component),_t=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.onTrailingIconSelect,i=e.autoFocus,o=Object(g.a)(e,["onTrailingIconSelect","autoFocus"]);return Object(l.a)(this,a),(n=t.call(this,o)).onTrailingIconSelect=void 0,n.autoFocus=void 0,n.model=Ae,n.onTrailingIconSelect=r,n.autoFocus=i,n.formField=kt,n}return a}(pe),xt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new de({fieldName:"name",label:"Organization Name*",autoFocus:!0}),new _t({fieldName:"labels",label:"Process Status"}),new Ct({fieldName:"hq_location",label:"Headquarter Location"}),new gt({fieldName:"home_page",label:"Organization Website"})],n.actionButtonPropsList=[new fe(n.props.company?"Save Company":"Create Company",void 0,ue.SUBMIT),new fe("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"CompanyFormComponent"},o.a.createElement(ve,{model:ke,initialInstance:this.props.company,formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createCompany,updateInstanceTriggerAction:this.props.updateCompany,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(i.Component),Lt=Object(m.c)((function(e){return{}}),(function(e){return{createCompany:function(t,a,n){return e(dt[h.CREATE][b.TRIGGERED].action(t,(function(t){e(mt[_e[ke.getLabel(t)]][h.CREATE][b.SUCCESS].action({uuid:t.uuid})),a&&a(t)}),void 0,n))},updateCompany:function(t,a,n,r){return e(dt[h.UPDATE][b.TRIGGERED].action(t,a,void 0,n,void 0,{updateFromObject:r}))}}}))(xt),It=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.match.params.uuid&&this.props.company.collection[this.props.match.params.uuid]?this.props.company.collection[this.props.match.params.uuid]:void 0;return o.a.createElement("div",{className:"AddComPage"},o.a.createElement("h1",null,t?"Update Organization":"Add an Organization"),o.a.createElement(Lt,{company:t,onSubmitSuccess:function(a){var n=a.uuid;t?e.props.history.push("/com-app/".concat(n,"/")):e.props.history.replace("/com-app/".concat(n,"/"))},onCancel:function(t){e.props.history.goBack()}}))}}]),a}(i.Component),Nt=Object(U.i)(Object(m.c)((function(e){return{company:e.company}}),(function(e){return{}}))(It)),wt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.text,i=void 0===r?"":r,o=e.application,c=void 0===o?"":o,s=e.applicationstatuslink_set,u=void 0===s?[]:s,p=e.date,d=void 0===p?a.localeNowDateString():p,m=e.order,b=void 0===m?0:m,h=Object(g.a)(e,["text","application","applicationstatuslink_set","date","order"]);return Object(l.a)(this,a),(n=t.call(this,h)).text=void 0,n.application=void 0,n.applicationstatuslink_set=void 0,n.date=void 0,n.order=void 0,n.text=i,n.application=c,n.applicationstatuslink_set=u,n.date=d,n.order=b,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({text:j.string().required("Give a quick one or two words for the status").max(50,"No more than 50 characters"),date:j.string().length(10),order:j.number()})}},{key:"localeNowDateString",value:function(){var e=new Date;return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getDate())).toISOString().split("T")[0]}}]),a}(A),Ft=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.application_status,i=void 0===r?"":r,o=e.link,c=void 0===o?new Ce({}):o,s=Object(g.a)(e,["application_status","link"]);return Object(l.a)(this,a),(n=t.call(this,s)).application_status=void 0,n.link=void 0,n.application_status=i,n.link=c,n}return a}(A),Dt=St(function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).linkFieldProps=void 0,n.linkFieldProps=new gt({fieldName:"".concat(n.props.fieldName,".link"),label:"",isDynamic:!1}),n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"FormApplicationStatusLinkField"},this.props.label&&o.a.createElement("h4",null,this.props.label),o.a.createElement(Ot,Object.assign({},this.linkFieldProps,{formikValues:this.props.formikValues,getInstanceDataFromFormikValues:this.props.getInstanceDataFromFormikValues})))}}]),a}(i.Component)),Ut=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).model=Ft,n.formField=Dt,n}return a}(pe),Rt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new de({fieldName:"text",label:"Status*",autoFocus:!0}),new de({fieldName:"date",label:"Date",type:X.DATE}),new Ut({fieldName:"applicationstatuslink_set",label:"Status Link",isDynamic:!0})],n.actionButtonPropsList=[new fe(n.props.applicationStatus?"Save Status":"Create Status",void 0,ue.SUBMIT),new fe("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"ApplicationStatusFormComponent"},o.a.createElement(ve,{model:wt,initialInstance:new wt(Object(E.a)({},this.props.applicationStatus)),enforcedInstanceData:{application:this.props.application.uuid},formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createApplicationStatus,updateInstanceTriggerAction:this.props.updateApplicationStatus,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(i.Component),Pt=Object(U.i)(Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{createApplicationStatus:function(t,a,n){return e(ht[h.CREATE][b.TRIGGERED].action(t,a,void 0,n))},updateApplicationStatus:function(t,a,n){return e(ht[h.UPDATE][b.TRIGGERED].action(t,a,void 0,n))}}}))(Rt)),Gt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFormOpened:!1},e.renderDisplay=function(t){return o.a.createElement("div",{className:"ApplicationStatusComponent"},o.a.createElement("span",null,"Status: ",t?t.text:o.a.createElement(Ze.a,{width:"20vmin"})),t?o.a.createElement(vt.a,{onClick:function(){e.setState({isFormOpened:!0})}},o.a.createElement(J.a,{hasRipple:!0,icon:"edit"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"edit"})),t?o.a.createElement(vt.a,{onClick:function(){return window.confirm("Are you sure you want to delete this status? ".concat(t.text))&&e.props.deleteApplicationStatus(t)}},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"})),o.a.createElement("div",null,t?t.date:o.a.createElement(Ze.a,{width:"35vmin"})),t?t.applicationstatuslink_set.map((function(e){return e&&e.link&&o.a.createElement("span",{key:e.uuid},o.a.createElement("a",{href:e.link.url&&e.link.url.includes("//")?e.link.url:"//".concat(e.link.url),target:"_blank"},e.link.text)," ","|"," ")})):o.a.createElement(Ze.a,{width:"10vmin"}))},e.renderFormController=function(t,a){return o.a.createElement("div",{className:"application-status-form-controller"},e.state.isFormOpened&&t?o.a.createElement("div",{className:"application-component__status-form"},o.a.createElement("h3",null,"Add new status to application for"," ",t.position_title," "),o.a.createElement(Pt,{application:t,applicationStatus:a,onCancel:function(){e.setState({isFormOpened:!1})},onSubmitSuccess:function(){e.setState({isFormOpened:!1})}})):o.a.createElement(M.a,{disabled:!t||e.props.applicationStatusStore.requestStatus===b.REQUESTING,onClick:function(t){e.setState({isFormOpened:!0})},unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"add"})},"Add New Status"))},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"ApplicationStatusComponent"},this.state.isFormOpened||this.props.isOnlyForm?this.renderFormController(this.props.application,this.props.applicationStatus):this.renderDisplay(this.props.applicationStatus))}}]),a}(i.Component),Bt=Object(U.i)(Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{deleteApplicationStatus:function(t,a){return e(ht[h.DELETE][b.TRIGGERED].action(t,a))}}}))(Gt)),Ht=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r=e.user,i=void 0===r?"":r,o=e.user_company,c=void 0===o?"":o,s=e.position_title,u=void 0===s?"":s,p=e.job_description_page,d=void 0===p?new Ce({}):p,m=e.job_source,b=void 0===m?new Ce({}):m,h=e.labels,f=void 0===h?{}:h,v=e.notes,E=void 0===v?"":v,y=e.statuses,S=void 0===y?[]:y,O=Object(g.a)(e,["user","user_company","position_title","job_description_page","job_source","labels","notes","statuses"]);return Object(l.a)(this,a),(n=t.call(this,O)).user=void 0,n.user_company=void 0,n.position_title=void 0,n.job_description_page=void 0,n.job_source=void 0,n.labels=void 0,n.notes=void 0,n.statuses=void 0,n.user=i,n.user_company=c,n.position_title=u,n.job_description_page=d,n.job_source=b,n.labels=f,n.notes=E,n.statuses=S,n}return Object(u.a)(a,null,[{key:"schema",value:function(){return j.object().shape({position_title:j.string().required("We need a title...!").max(150,"No more than 150 characters"),job_description_page:Ce.schema(),job_source:Ce.schema(),notes:j.string()})}}]),a}(A),qt=a(112),Mt=a.n(qt),Vt=a(113),zt=a.n(Vt),Qt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"FormRichTextField"},o.a.createElement(oe.b,{name:this.props.fieldName,render:function(t){var a=t.field,n=t.form;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,e.props.label),o.a.createElement(Mt.a,{editor:zt.a,data:a.value,onChange:function(e,t){n.setFieldValue(a.name,t.getData())},onSaveKeystroke:e.props.onSaveKeystroke}))}}),o.a.createElement(oe.a,{name:this.props.fieldName}))}}]),a}(i.Component),Wt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formField=Qt,n}return a}(pe),Jt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formFieldPropsList=void 0,n.actionButtonPropsList=void 0,n.formFieldPropsList=[new de({fieldName:"position_title",label:"Position Title*",autoFocus:!0}),new gt({fieldName:"job_description_page",label:"Job Description Link"}),new gt({fieldName:"job_source",label:"Job Source Link"}),new Wt({fieldName:"notes",label:"Notes"})],n.actionButtonPropsList=[new fe(n.props.company?"Save Application":"Create Application",void 0,ue.SUBMIT),new fe("Cancel",n.props.onCancel)],n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"ApplicationFormComponent"},o.a.createElement(ve,{model:Ht,initialInstance:new Ht(Object(E.a)({},this.props.application)),enforcedInstanceData:{user_company:this.props.company.uuid},formFieldPropsList:this.formFieldPropsList,actionButtonPropsList:this.actionButtonPropsList,createInstanceTriggerAction:this.props.createApplication,updateInstanceTriggerAction:this.props.updateApplication,onSubmitSuccess:this.props.onSubmitSuccess}))}}]),a}(i.Component),Yt=Object(m.c)((function(e){return{applicationStore:e.application}}),(function(e){return{createApplication:function(t,a,n){return e(bt[h.CREATE][b.TRIGGERED].action(t,a,void 0,n))},updateApplication:function(t,a,n){return e(bt[h.UPDATE][b.TRIGGERED].action(t,a,void 0,n))}}}))(Jt),Kt=a(144),Xt=a.n(Kt),Zt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFormOpened:!1},e.renderApplicationFormController=function(){return e.props.company&&o.a.createElement("div",{className:"application-form-controller"},o.a.createElement("h2",null,e.props.application?"Edit Application":"New Application"),o.a.createElement(Yt,{onCancel:function(t){e.setState({isFormOpened:!1})},onSubmitSuccess:function(){return e.setState({isFormOpened:!1})},company:e.props.company,application:e.props.application}))},e.renderApplicationDisplay=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.a.createElement("div",{className:"application-component-display"},o.a.createElement("h3",null,t?t.position_title:o.a.createElement(Ze.a,null),t?o.a.createElement(vt.a,{disabled:"#"==t.job_description_page.url,isLink:"#"!=t.job_description_page.url,target:"_blank",href:t.job_description_page.url&&t.job_description_page.url.includes("//")?t.job_description_page.url:"//".concat(t.job_description_page.url)},o.a.createElement(J.a,{hasRipple:!0,icon:"launch"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"launch"})),t?o.a.createElement(vt.a,{disabled:"#"==t.job_source.url,isLink:"#"!=t.job_source.url,target:"_blank",href:t.job_source.url&&t.job_source.url.includes("//")?t.job_source.url:"//".concat(t.job_source.url)},o.a.createElement(J.a,{hasRipple:!0,icon:"language"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"language"})),t?o.a.createElement(vt.a,{disabled:e.props.disableApplicationActionButtons,onClick:function(){e.setState({isFormOpened:!0})}},o.a.createElement(J.a,{hasRipple:!0,icon:"edit"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"edit"})),t?o.a.createElement(vt.a,{disabled:e.props.disableApplicationActionButtons,onClick:function(){return window.confirm("Are you sure you want to delete ".concat(t.position_title,"?"))&&e.props.deleteApplication(t)}},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"}))),o.a.createElement("div",{className:"applicationNotesRichText"},t?t.notes?o.a.createElement(Mt.a,{editor:zt.a,disabled:!0,data:t.notes}):o.a.createElement("p",null,"No notes yet."):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Ze.a,{width:"70vmin"})),o.a.createElement("div",null,o.a.createElement(Ze.a,{width:"30vmin"})),o.a.createElement("div",null,o.a.createElement(Ze.a,{width:"50vmin"})))),o.a.createElement("div",{className:"statusContainer"},o.a.createElement($.Headline6,null,"Status"),o.a.createElement(Bt,{application:t,isOnlyForm:!0}),e.props.applicationStatusStore.requestStatus===b.REQUESTING&&o.a.createElement(Bt,null),t&&a.map((function(e,a){return o.a.createElement(Bt,{key:a,applicationStatus:e,application:t})}))))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return!this.state.isFormOpened&&this.props.isOnlyForm?o.a.createElement(M.a,{disabled:!this.props.company,onClick:function(t){e.setState({isFormOpened:!0})},unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"add"})},"Add Application"):o.a.createElement("div",{className:Xt.a.applicationCard},o.a.createElement("div",{className:Xt.a.applicationCardContent},this.state.isFormOpened||this.props.isOnlyForm?this.renderApplicationFormController():this.renderApplicationDisplay(this.props.application,this.props.applicationStatusList)))}}]),a}(i.Component),$t=Object(m.c)((function(e){return{applicationStatusStore:e.applicationStatus}}),(function(e){return{deleteApplication:function(t,a){return e(bt[h.DELETE][b.TRIGGERED].action(t,a))}}}))(Zt),ea=a(145),ta=a.n(ea),aa=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.company;return o.a.createElement("div",{className:"CompanyComponent"},o.a.createElement("div",{className:ta.a.companyTitleContainer},o.a.createElement("h1",null,e?e.name:o.a.createElement(Ze.a,{width:"50vmin"})),e?e.labels.length&&e.labels[0].text?o.a.createElement(Ke.ChipSet,null,o.a.createElement(Ke.Chip,{label:e.labels[0].text})):o.a.createElement(Ke.ChipSet,null,o.a.createElement(Ke.Chip,{label:"None"})):o.a.createElement(Ze.a,{width:"40px"}),e?o.a.createElement(vt.a,{disabled:"#"==e.home_page.url,isLink:"#"!=e.home_page.url,target:"_blank",href:e.home_page.url&&e.home_page.url.includes("//")?e.home_page.url:"//".concat(e.home_page.url)},o.a.createElement(J.a,{hasRipple:!0,icon:"launch"})):o.a.createElement(vt.a,{disabled:!0},o.a.createElement(J.a,{hasRipple:!0,icon:"launch"})),o.a.createElement("div",{className:"CompanyActionCreators"},o.a.createElement(vt.a,{disabled:this.props.actionButtonsDisabled,onClick:this.props.onEditIconClicked},o.a.createElement(J.a,{hasRipple:!0,icon:"edit"})),o.a.createElement(vt.a,{disabled:this.props.actionButtonsDisabled,onClick:this.props.onDeleteIconClicked},o.a.createElement(J.a,{hasRipple:!0,icon:"delete"})))),o.a.createElement("div",{className:ta.a.companyTitleCaption},e?e.hq_location.place_name:o.a.createElement(Ze.a,null),e?e.hq_location.full_address:o.a.createElement(Ze.a,null)))}}]),a}(i.Component),na=a(220),ra=a.n(na),ia=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).goBackToCompanyListPage=function(){e.props.history.replace("/home/")},e.onCompanyDelete=function(){if(e.props.match.params.uuid){var t=e.props.companyStore.collection[e.props.match.params.uuid];window.confirm("Are you sure you want to delete company ".concat(t.name,"?"))&&e.props.deleteCompany(t,e.goBackToCompanyListPage)}else console.error("Attempted to delete but company obj has no uuid")},e.onCompanyEdit=function(){if(e.props.match.params.uuid){var t=e.props.companyStore.collection[e.props.match.params.uuid];e.props.history.push("/com-form/".concat(t.uuid,"/"))}else console.error("Attempted to edit but no company uuid provided")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.uuid}},{key:"renderPage",value:function(){var e=this;if(this.props.match.params.uuid){var t=this.props.companyStore.collection[this.props.match.params.uuid],a=t?t.applications:[];return o.a.createElement("div",{className:ra.a.UserCompanyPage},o.a.createElement(M.a,{onClick:function(t){e.props.history.length>1?e.props.history.goBack():e.props.history.push("/home/")}},"Back"),o.a.createElement(aa,{company:t,onDeleteIconClicked:this.onCompanyDelete,onEditIconClicked:this.onCompanyEdit,actionButtonsDisabled:this.props.companyStore.requestStatus===b.REQUESTING}),o.a.createElement("h2",null,"Your Applications"),o.a.createElement("div",null,o.a.createElement($t,{company:t,isOnlyForm:!0})),t?a.map((function(a,n){var r=e.props.applicationStore.collection[a],i=r?r.statuses.map((function(t){return e.props.applicationStatusStore.collection[t]})):void 0;return o.a.createElement($t,{key:n,application:r,company:t,applicationStatusList:i,disableApplicationActionButtons:e.props.applicationStore.requestStatus===b.REQUESTING})})):o.a.createElement($t,{disableApplicationActionButtons:!0}))}}},{key:"renderController",value:function(){if(!this.props.match.params.uuid)return o.a.createElement("h1",null,"Company uuid not specified");if(this.props.match.params.uuid in this.props.companyStore.collection)return this.renderPage();for(var e=!1,t=0,a=Object.values(_e);t<a.length;t++){var n=a[t];if(this.props[n].requestStatus!==b.SUCCESS||this.props[n].requestStatus!==b.FAILURE){e=!0;break}}return e||this.props.match.params.uuid in this.props.companyStore.collection?this.renderPage():o.a.createElement("h1",null,"Company not found")}},{key:"render",value:function(){return o.a.createElement("div",{className:"UserComAppPageContainer"},this.renderController())}}]),a}(i.Component),oa=Object(U.i)(Object(m.c)((function(e){return Object(E.a)(Object(E.a)({companyStore:e.company},Object.values(_e).reduce((function(t,a){return Object(E.a)(Object(E.a)({},t),{},{[a]:e[a]})}),{})),{},{applicationStore:e.application,applicationStatusStore:e.applicationStatus})}),(function(e){return{createApplication:function(t,a){return e(bt[h.CREATE][b.TRIGGERED].action(t,a))},deleteCompany:function(t,a){return e(dt[h.DELETE][b.TRIGGERED].action(t,a))},updateCompany:function(t,a){return e(dt[h.UPDATE][b.TRIGGERED].action(t,a))}}}))(ia)),ca=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Logged in:"," ",this.props.auth.isLogin&&this.props.auth.isLogin.toString()||"undefine"),o.a.createElement("div",null,"User Name: ",this.props.auth.userName||"(empty)"))}}]),a}(i.Component),sa=(a(416),function(e){return o.a.createElement("div",{className:"UserAuthButton"},o.a.createElement(M.a,{onClick:e.onClick,unelevated:!0,icon:o.a.createElement(J.a,{hasRipple:!0,icon:"account_circle"}),disabled:e.disabled},"Local Logout"))}),la=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).localLogoutButton=function(){e.props.requestedLogoutAuth()},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"UserProfilePage"},o.a.createElement("h1",null,this.props.auth.userName,"'s profile"),o.a.createElement("div",null,"isLocal = ",JSON.stringify(this.props.auth.isLocal)),o.a.createElement(ca,{auth:this.props.auth}),this.props.auth.isLocal?o.a.createElement(sa,{onClick:this.localLogoutButton}):o.a.createElement(Z,null))}}]),a}(i.Component),ua=Object(U.i)(Object(m.c)((function(e){return{auth:e.auth}}),(function(e){return{requestedLogoutAuth:function(){e(w())}}}))(la)),pa=a(221),da=a.n(pa),ma=a(222),ba=a.n(ma),ha=(a(417),a(418),a(36)),fa=(a(419),a(420),a(223)),va=a.n(fa),Ea=a(461),ya=a(458),Sa=a(224),Oa=a.n(Sa),ga=a(459),ja=a(227),Ca=Object(ja.a)({}),Aa=Object(ja.a)({palette:{type:"dark"}}),Ta=function(e){var t=e.label,a=e.onSelect,n=Object(m.d)(),r=Object(i.useCallback)((function(){var e;n((e=t,{type:Me.SET_DESTINATION_STATUS,status:e})),a&&a()}),[n,a]);return o.a.createElement(ya.a,{onClick:r},t)},ka=function(){var e=Object(m.d)(),t=Object(m.e)((function(e){return e.selectCompany.requestStatus})),a=Object(m.e)((function(e){return e.selectCompany.destinationStatus})),n=Object(m.e)((function(e){return e.selectCompany.selectCompanyList})),r=o.a.useState(null),c=Object(At.a)(r,2),s=c[0],l=c[1],u=Object(i.useCallback)((function(e){l(e.currentTarget)}),[]),p=Object(i.useCallback)((function(){l(null)}),[]),d=Object(i.useCallback)((function(){e(function(e,t){return{type:Me.APPLY_ALL_CHANGES,selectCompanyList:e,destinationStatus:t}}(n,a))}),[e,a,n]),h=Object(i.useCallback)((function(){e({type:Me.CANCEL_ALL})}),[e]);return o.a.createElement(ga.a,{theme:Aa},"Move ",n.length," companies to",o.a.createElement(Je.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:u},a," ",o.a.createElement(Oa.a,null)),o.a.createElement(Ea.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s)},Object.values(be).map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(Ta,{label:e,onSelect:p}))}))),o.a.createElement(Je.a,{onClick:d,disabled:t===b.REQUESTING,size:"small",variant:"contained"},"Apply"),o.a.createElement(Je.a,{onClick:h,size:"small",variant:"contained"},"Cancel"))},_a=function(){var e=Object(m.e)((function(e){return e.auth})),t=Object(U.h)(),a=Object(U.g)(),n=Object(i.useCallback)((function(){"/home/"===t.pathname?a.replace("/home/"):a.push("/home/")}),[]),r=Object(m.e)((function(e){return e.selectCompany.selectCompanyList}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,null,o.a.createElement(R.TopAppBarRow,null,o.a.createElement(R.TopAppBarSection,{align:"start"},o.a.createElement(R.TopAppBarTitle,{className:va.a.topAppBarTitle,onClick:n},"Appl Tracky")),r.length?o.a.createElement(R.TopAppBarSection,{align:"start"},o.a.createElement(ka,null)):null,o.a.createElement(R.TopAppBarSection,{align:"end",role:"toolbar"},o.a.createElement(R.TopAppBarIcon,{navIcon:!0,tabIndex:0},o.a.createElement(ha.a,{to:"/home/"},o.a.createElement(J.a,{hasRipple:!0,key:"itemHome",icon:"home"}))),o.a.createElement(R.TopAppBarIcon,{navIcon:!0,tabIndex:1},o.a.createElement("a",{target:"_blank",href:"//github.com/rivernews/appl-tracky-spa"},o.a.createElement(V.a,{icon:z.a,size:"lg"}))),o.a.createElement(R.TopAppBarIcon,{navIcon:!0,tabIndex:2},o.a.createElement(ha.a,{to:"/profile/"},e.avatarUrl?o.a.createElement("img",{style:{height:"100%",borderRadius:"50%"},src:e.avatarUrl}):o.a.createElement(J.a,{hasRipple:!0,key:"itemProfile",icon:"account_circle"})))))))},xa=new Set(["/","/local-login/"]),La=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).goInternal=function(){if(!e.props.location.search)return"/home/";var t=new URLSearchParams(e.props.location.search).get("next");return t||""},e.isCurrentPublicPage=function(){return xa.has(e.props.location.pathname)},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,this.isCurrentPublicPage()?o.a.createElement("div",{className:"PublicRoutesContainer"},this.props.auth.isLogin&&o.a.createElement(U.a,{to:this.goInternal()}),o.a.createElement(U.d,null,o.a.createElement(U.b,{path:"/",exact:!0,component:ne}),o.a.createElement(U.b,{path:"/local-login/",exact:!0,component:Se}))):o.a.createElement("div",{className:"PrivateRoutesContainer"},!this.props.auth.isLogin&&o.a.createElement(U.a,{to:"/?next=".concat(this.props.location.pathname)}),o.a.createElement(_a,null),o.a.createElement(R.TopAppBarFixedAdjust,null,o.a.createElement(ba.a,{indeterminate:this.props.auth.requestStatus===b.REQUESTING,buffer:1,bufferingDots:!0}),o.a.createElement(G.a,null,o.a.createElement(B.a,{key:this.props.location.key,classNames:Object(E.a)({},da.a),timeout:500},o.a.createElement(U.d,{location:this.props.location},o.a.createElement(U.b,{path:"/home/",component:ut}),o.a.createElement(U.b,{path:"/com-form/:uuid?/",component:Nt}),o.a.createElement(U.b,{path:"/com-app/:uuid/",component:oa}),o.a.createElement(U.b,{path:"/com-app/",component:oa}),o.a.createElement(U.b,{path:"/profile/",component:ua})))))))}}]),a}(i.Component),Ia=Object(U.i)(Object(m.c)((function(e){return{auth:e.auth}}),{})(La)),Na=a(460),wa=(a(422),a(423),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.retrieveLoginAuth()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(Na.a,null),o.a.createElement(ga.a,{theme:Ca},o.a.createElement(Ia,null)))}}]),a}(i.Component)),Fa=Object(m.c)((function(e){return{}}),(function(e){return{retrieveLoginAuth:function(){e(N(n.PREFILL))}}}))(wa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Da=a(55),Ua=a(225),Ra=a(84),Pa={requestStatus:b.SUCCESS,isLogin:!1,isLocal:!1,socialAuthToken:"",apiToken:"",userName:"",expireDateTime:"",avatarUrl:""},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;if(!v.includes(t.type))return e;var a=t;return a.type===r.SUCCESS_AUTH&&localStorage.setItem("applyTracky__authState",JSON.stringify(a.payload)),Object(E.a)(Object(E.a)({},e),a.payload)},Ba=a(226),Ha=function(e){var t={collection:{},requestStatus:b.SUCCESS};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0,r=n;if(!(r&&r.payload&&r.payload.requestStatus)||n.type.split("_")[2]!==e.toUpperCase())return Object(E.a)({},a);if(r.payload.requestStatus!==b.SUCCESS)return r.payload.requestStatus===b.TRIGGERED?Object(E.a)(Object(E.a)({},a),{},{requestStatus:r.payload.requestStatus}):Object(E.a)(Object(E.a)({},a),r.payload);if(r.crudType===h.CREATE){var i=r.payload.formData;return{collection:Object(E.a)(Object(E.a)({},a.collection),{},{[i.uuid]:i}),requestStatus:r.payload.requestStatus}}if(r.crudType===h.BATCHCREATE){var o=r.payload.formData,c=o.reduce((function(e,t){return e[t.uuid]=t,e}),{});return{collection:Object(E.a)(Object(E.a)({},a.collection),c),requestStatus:r.payload.requestStatus}}if(r.crudType===h.LIST){var s,l=r.payload.formData,u={},p=Object(me.a)(l);try{for(p.s();!(s=p.n()).done;){var d=s.value;u[d.uuid]=d}}catch(C){p.e(C)}finally{p.f()}var m={collection:Object(E.a)(Object(E.a)({},a.collection),u),requestStatus:r.payload.requestStatus};return m}if(r.crudType===h.UPDATE){var f=r.payload.formData;return{collection:Object(E.a)(Object(E.a)({},a.collection),{},{[f.uuid]:Object(E.a)(Object(E.a)({},a.collection[f.uuid]),f)}),requestStatus:r.payload.requestStatus}}if(r.crudType===h.BATCHUPDATE){var v=r.payload.formData,y=v.reduce((function(e,t){return e[t.uuid]=Object(E.a)(Object(E.a)({},a.collection[t.uuid]),t),e}),{});return{collection:Object(E.a)(Object(E.a)({},a.collection),y),requestStatus:r.payload.requestStatus}}if(r.crudType===h.DELETE){var S=[];if(r.triggerFormData)if(Array.isArray(r.triggerFormData)||"object"!==typeof r.triggerFormData){if(r.triggerFormData.length)if("string"===typeof r.triggerFormData[0])S=r.triggerFormData;else{var O=r.triggerFormData;S=O.map((function(e){return e.uuid}))}}else{var g=r.triggerFormData;S.push(g.uuid)}var j={collection:Object(Ba.omit)(a.collection,S),requestStatus:r.payload.requestStatus};return j}return Object(E.a)({},a)}},qa={selectCompanyList:[],destinationStatus:be.APPLIED,requestStatus:b.SUCCESS},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0,a=t;switch(a.type){case Me.CANCEL_ALL:return qa;case Me.ADD_SELECT_COMPANY:var n=e.selectCompanyList.find((function(e){return Object(At.a)(e,1)[0]===a.companyId}));return n?e:Object(E.a)(Object(E.a)({},e),{},{selectCompanyList:[].concat(Object(Oe.a)(e.selectCompanyList),[[a.companyId,a.companyStatus]])});case Me.REMOVE_SELECT_COMPANY:return Object(E.a)(Object(E.a)({},e),{},{selectCompanyList:e.selectCompanyList.filter((function(e){return Object(At.a)(e,1)[0]!==a.companyId}))});case Me.SET_DESTINATION_STATUS:return Object(E.a)(Object(E.a)({},e),{},{destinationStatus:a.status});case Me.SET_REQUEST_STATUS:return a.requestStatus===b.SUCCESS?qa:Object(E.a)(Object(E.a)({},e),{},{requestStatus:a.requestStatus})}return e},Va=Ha("companies"),za=Object.values(_e).reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{[t]:Ha(t)})}),{}),Qa=Ha("applications"),Wa=Ha("application-statuses"),Ja=a(39),Ya=a(204),Ka=a(228),Xa=a(9),Za=S.a.mark(an),$a=S.a.mark(nn),en=S.a.mark(rn),tn=S.a.mark(on);function an(e){var t,a,n,i,o,c,s,l;return S.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.loginMode,a=e.params,n=void 0===a?{}:a,i=e.onCompleteCallback,u.prev=1,u.next=4,Object(Xa.c)(_.serverLogin,t,n);case 4:if((o=u.sent).token){u.next=9;break}return u.next=8,Object(Xa.d)(F());case 8:return u.abrupt("return");case 9:return u.next=11,Object(Xa.d)((p=o.email,d="",m=o.token,f=o.avatar_url,v=o.isLocal,{type:r.SUCCESS_AUTH,payload:{requestStatus:b.SUCCESS,isLogin:!0,isLocal:!!v,userName:p,expireDateTime:d,apiToken:m,avatarUrl:f}}));case 11:return u.next=13,Object(Xa.d)(mt.targetCompany[h.LIST][b.TRIGGERED].action({},void 0,void 0,void 0,"".concat(I.state.apiBaseUrl,"companies/?labels__isnull=True")));case 13:c=0,s=Object.values(be);case 14:if(!(c<s.length)){u.next=21;break}return l=s[c],u.next=18,Object(Xa.d)(mt[_e[l]][h.LIST][b.TRIGGERED].action({},void 0,void 0,void 0,"".concat(I.state.apiBaseUrl,"companies/?labels__text=").concat(l)));case 18:c++,u.next=14;break;case 21:u.next=28;break;case 23:return u.prev=23,u.t0=u.catch(1),console.warn("auth saga error: ".concat(JSON.stringify(u.t0))),u.next=28,Object(Xa.d)(D(u.t0));case 28:i&&i();case 29:case"end":return u.stop()}var p,d,m,f,v}),Za,null,[[1,23]])}function nn(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.g)(r.REQUESTED_LOGIN_AUTH,an);case 2:case"end":return e.stop()}}),$a)}function rn(e){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Xa.c)(_.serverLogout);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(Xa.d)(D(e.t0));case 9:return e.abrupt("return");case 10:return e.next=12,Object(Xa.d)(F());case 12:return e.next=14,Object(Xa.d)({type:nt.ResetAllStore});case 14:case"end":return e.stop()}}),en,null,[[0,5]])}function on(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.g)(r.REQUESTED_LOGOUT_AUTH,rn);case 2:case"end":return e.stop()}}),tn)}var cn=function(e,t,a){return Object.values(h).map((function(n){var r=S.a.mark((function r(i){var o,c,s,l,u,p,d,m,f,v,y,O,g,j,A,T,k;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.payload.formData,c=i.absoluteUrl,r.next=4,Object(Xa.d)(t[n][b.REQUESTING].action());case 4:return r.prev=4,r.next=7,Object(Xa.c)(I[x(n)],{data:o,objectName:e,absoluteUrl:c});case 7:if(!((s=r.sent).status&&s.status>=400)){r.next=11;break}throw console.error("Server error, see message in res."),new Error("Server error, see message in res.");case 11:if(!s.next){r.next=14;break}return r.next=14,Object(Xa.d)(t[h.LIST][b.TRIGGERED].action(void 0,void 0,void 0,void 0,s.next));case 14:if(l=void 0,u=void 0,a.normalizeManifest&&(p=a.normalizeManifest.objectEntityKey,d=void 0,d=n===h.DELETE?o:L(s)?s:s.results,m=Array.isArray(d)?a.normalizeManifest.listSchema:a.normalizeManifest.schema,f=Object(C.a)(d,m),l=Object.values(f.entities[p]),n===h.DELETE?o=1===l.length?l[0]:l:L(s)?s=l[0]:s.results=l,u=Object.keys(a.normalizeManifest.relationalEntityReduxActionsMap).filter((function(e){return f.entities.hasOwnProperty(e)})).reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{[t]:Object.values(f.entities[t])})}),{})),!a.normalizeManifest||!u){r.next=48;break}r.t0=n,r.next=r.t0===h.UPDATE?21:r.t0===h.LIST||r.t0===h.CREATE?22:r.t0===h.DELETE?35:47;break;case 21:return r.abrupt("break",48);case 22:r.t1=S.a.keys(a.normalizeManifest.relationalEntityReduxActionsMap);case 23:if((r.t2=r.t1()).done){r.next=34;break}if(v=r.t2.value,u[v]){r.next=28;break}return r.abrupt("continue",23);case 28:return y=L(s)?u[v][0]:{results:u[v]},O=a.normalizeManifest.relationalEntityReduxActionsMap[v],r.next=32,Object(Xa.d)(O[n][b.SUCCESS].action(y));case 32:r.next=23;break;case 34:return r.abrupt("break",48);case 35:if(!a.overrideCrudSuccessSagaHandler||!a.overrideCrudSuccessSagaHandler.delete){r.next=37;break}return r.abrupt("break",48);case 37:r.t3=S.a.keys(a.normalizeManifest.relationalEntityReduxActionsMap);case 38:if((r.t4=r.t3()).done){r.next=46;break}return g=r.t4.value,j=a.normalizeManifest.relationalEntityReduxActionsMap[g],A=u[g]?u[g]:o&&!Array.isArray(o)&&o.hasOwnProperty(g)?o[g]:[],r.next=44,Object(Xa.d)(j[h.DELETE][b.SUCCESS].action(void 0,A));case 44:r.next=38;break;case 46:case 47:return r.abrupt("break",48);case 48:if(!(T=a.overrideCrudSuccessSagaHandler&&a.overrideCrudSuccessSagaHandler.hasOwnProperty(n)&&a.overrideCrudSuccessSagaHandler[n]?a.overrideCrudSuccessSagaHandler[n]:void 0)){r.next=54;break}return r.next=52,Object(Xa.c)(T,{data:l||(n===h.DELETE?o:s),updateFromObject:i.triggerActionOptions?i.triggerActionOptions.updateFromObject:void 0});case 52:r.next=61;break;case 54:if(n!==h.DELETE){r.next=59;break}return r.next=57,Object(Xa.d)(t[h.DELETE][b.SUCCESS].action(void 0,o));case 57:r.next=61;break;case 59:return r.next=61,Object(Xa.d)(t[n][b.SUCCESS].action(s));case 61:if(!(k=a.doneCrudSuccessSagaHandler&&a.doneCrudSuccessSagaHandler[n]?a.doneCrudSuccessSagaHandler[n]:void 0)){r.next=65;break}return r.next=65,Object(Xa.c)(k,{data:l||(n===h.DELETE?o:s),updateFromObject:i.triggerActionOptions?i.triggerActionOptions.updateFromObject:void 0});case 65:i.successCallback&&i.successCallback(s),r.next=74;break;case 68:return r.prev=68,r.t5=r.catch(4),r.next=72,Object(Xa.d)(t[n][b.FAILURE].action(r.t5));case 72:return i.failureCallback&&i.failureCallback(r.t5),r.abrupt("return");case 74:i.finalCallback&&i.finalCallback();case 75:case"end":return r.stop()}}),r,null,[[4,68]])}));return S.a.mark((function e(){var a,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.a)(t[n][b.TRIGGERED].actionTypeName);case 2:a=e.sent;case 3:return e.next=6,Object(Xa.f)(a);case 6:return i=e.sent,e.next=9,Object(Xa.c)(r,i);case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)}))}))},sn=S.a.mark((function e(t){var a,n,r,i,o,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:if(a=Array.isArray(t.data)?t.data[0]:t.data,n=ke.getLabel(a),r=t.updateFromObject,i=ke.getLabel(r),n!==i){e.next=8;break}return e.abrupt("return");case 8:return o=mt[_e[n]][h.CREATE][b.SUCCESS].action,e.next=11,Object(Xa.d)(o({uuid:a.uuid}));case 11:return c=mt[_e[i]][h.DELETE][b.SUCCESS].action,e.next=14,Object(Xa.d)(c(void 0,{uuid:r.uuid}));case 14:case"end":return e.stop()}}),e)})),ln=S.a.mark((function e(t){var a,n,r,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,n=ke.getLabel(a),r=mt[_e[n]][h.DELETE][b.SUCCESS].action,e.next=7,Object(Xa.d)(r(void 0,{uuid:a.uuid}));case 7:return e.next=9,Object(Xa.e)(Pn);case 9:return i=e.sent,alert("currentCompany applications: ".concat(JSON.stringify(a.applications))),o=a.applications.flatMap((function(e){return alert("flatMap, application uuid: ".concat(e)),alert("applicationUuid in applicationStore.collection?: ".concat(e in i.collection)),alert("hasownProperty?: ".concat(i.collection.hasOwnProperty(e))),alert("statuses?: ".concat(JSON.stringify(i.collection[e].statuses))),e in i.collection?i.collection[e].statuses:[]})),alert("cascade delete statuses: ".concat(JSON.stringify(o))),e.next=15,Object(Xa.d)(ht[h.DELETE][b.SUCCESS].action(void 0,o));case 15:return e.next=17,Object(Xa.d)(bt[h.DELETE][b.SUCCESS].action(void 0,a.applications));case 17:return e.next=19,Object(Xa.d)(dt[h.DELETE][b.SUCCESS].action(void 0,a));case 19:case"end":return e.stop()}}),e)})),un=S.a.mark((function e(t){var a,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data:[t.data],n=ke.getLabel(a[0]),e.next=6,Object(Xa.d)(dt[h.LIST][b.SUCCESS].action({results:a}));case 6:return r=a.map((function(e){return{uuid:e.uuid}})),e.next=9,Object(Xa.d)(mt[_e[n]][h.LIST][b.SUCCESS].action({results:r}));case 9:case"end":return e.stop()}}),e)})),pn=new C.b.Entity("statuses",{},{idAttribute:"uuid"}),dn={statuses:new C.b.Array(pn)},mn=new C.b.Entity("applications",dn,{idAttribute:"uuid"}),bn=new C.b.Array(mn),hn={schema:mn,listSchema:bn,objectEntityKey:"applications",relationalEntityReduxActionsMap:{statuses:ht}},fn={applications:bn},vn=new C.b.Entity("companies",fn,{idAttribute:"uuid"}),En={schema:vn,listSchema:new C.b.Array(vn),objectEntityKey:"companies",relationalEntityReduxActionsMap:{applications:bt,statuses:ht}},yn=S.a.mark((function e(t){var a,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Xa.e)(Rn);case 5:return n=e.sent,r=n.collection[a.user_company],(i=new ke(r)).applications=[a.uuid].concat(Object(Oe.a)(i.applications)),e.next=11,Object(Xa.d)(dt[h.UPDATE][b.SUCCESS].action(i));case 11:case"end":return e.stop()}}),e)})),Sn=S.a.mark((function e(t){var a,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Xa.e)(Rn);case 5:return n=e.sent,r=n.collection[a.user_company],(i=new ke(r)).applications=i.applications.filter((function(e){return e!==a.uuid})),e.next=11,Object(Xa.d)(dt[h.UPDATE][b.SUCCESS].action(i));case 11:case"end":return e.stop()}}),e)})),On=function(e){return e.application},gn=S.a.mark((function e(t){var a,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Xa.e)(On);case 5:return n=e.sent,r=n.collection[a.application],(i=new Ht(r)).statuses=[a.uuid].concat(Object(Oe.a)(i.statuses)),e.next=11,Object(Xa.d)(bt[h.UPDATE][b.SUCCESS].action(i));case 11:case"end":return e.stop()}}),e)})),jn=S.a.mark((function e(t){var a,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&(!Array.isArray(t.data)||t.data.length)){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(t.data)?t.data[0]:t.data,e.next=5,Object(Xa.e)(On);case 5:return n=e.sent,r=n.collection[a.application],(i=new Ht(r)).statuses=i.statuses.filter((function(e){return e!==a.uuid})),e.next=11,Object(Xa.d)(bt[h.UPDATE][b.SUCCESS].action(i));case 11:case"end":return e.stop()}}),e)})),Cn=S.a.mark(Tn),An=S.a.mark(kn);function Tn(e){var t,a,n,r,i,o,c,s;return S.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.selectCompanyList,a=e.destinationStatus,n=t.map((function(e){return{uuid:Object(At.a)(e,1)[0],labels:[{text:a}]}})),l.next=4,Object(Xa.d)(rt(b.REQUESTING));case 4:return l.prev=4,l.next=7,Object(Xa.c)(I.patch,{data:n,objectName:"companies"});case 7:if(r=l.sent){l.next=10;break}throw new Error("Failed to apply company changes. Server response is empty.");case 10:l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(4),l.next=16,Object(Xa.d)(rt(b.FAILURE));case 16:return console.error("Failed to apply company changes",l.t0),l.abrupt("return");case 18:return i=r,o=new Map,t.forEach((function(e){var t=Object(At.a)(e,2),n=t[0],r=t[1];if(r!==a){var i=o.get(r)||new Set;i.add(n),o.set(r,i)}})),l.next=23,Object(Xa.b)(Array.from(o).map((function(e){var t=Object(At.a)(e,2),a=t[0],n=t[1],r=mt[_e[a]][h.DELETE][b.SUCCESS].action;return Object(Xa.d)(r(void 0,Array.from(n).map((function(e){return{uuid:e}}))))})));case 23:return c=mt[_e[a]][h.BATCHCREATE][b.SUCCESS].action,l.next=26,Object(Xa.d)(c(i.map((function(e){return{uuid:e.uuid}}))));case 26:return s=dt[h.BATCHUPDATE][b.SUCCESS].action,l.next=29,Object(Xa.d)(s(i.map((function(e){return{uuid:e.uuid,labels:e.labels}}))));case 29:return l.next=31,Object(Xa.d)(rt(b.SUCCESS));case 31:return l.abrupt("return");case 32:case"end":return l.stop()}}),Cn,null,[[4,12]])}function kn(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.g)(Me.APPLY_ALL_CHANGES,Tn);case 2:case"end":return e.stop()}}),An)}var _n,xn=cn("companies",dt,{doneCrudSuccessSagaHandler:{update:sn},overrideCrudSuccessSagaHandler:{delete:ln},normalizeManifest:En}),Ln=Object.values(_e).reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},{[t]:cn(t,mt[t],{overrideCrudSuccessSagaHandler:{list:un},normalizeManifest:En})})}),{}),In=cn("applications",bt,{doneCrudSuccessSagaHandler:{create:yn,delete:Sn},normalizeManifest:hn}),Nn=cn("application-statuses",ht,{doneCrudSuccessSagaHandler:{create:gn,delete:jn}}),wn=S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xa.b)([nn(),on()].concat(Object(Oe.a)(xn.map((function(e){return e()}))),Object(Oe.a)(Object.values(_e).map((function(e){return Ln[e].map((function(e){return e()}))})).flat()),Object(Oe.a)(In.map((function(e){return e()}))),Object(Oe.a)(Nn.map((function(e){return e()}))),[kn()]));case 2:case"end":return e.stop()}}),e)})),Fn=Object(Ka.a)(),Dn=Object(Ja.a)({basename:""}),Un=Object(Da.createStore)((_n=Dn,function(e,t){var a={};return e?a=t.type===nt.ResetAllStore?{router:e.router}:e:(a.router=void 0,a.auth=void 0,a.company=void 0,Object.values(_e).forEach((function(e){a[e]=void 0})),a.application=void 0,a.applicationStatus=void 0),Object(E.a)(Object(E.a)(Object(E.a)({},e),{},{router:Object(Ra.b)(_n)(a.router,t),auth:Ga(a.auth,t),company:Va(a.company,t)},Object.values(_e).reduce((function(e,n){var r=za[n];return Object(E.a)(Object(E.a)({},e),{},{[n]:r(a[n],t)})}),{})),{},{application:Qa(a.application,t),applicationStatus:Wa(a.applicationStatus,t),selectCompany:Ma(a.selectCompany,t)})}),{},Object(Ua.composeWithDevTools)(Object(Da.applyMiddleware)(Object(Ya.a)(Dn),Fn)));Fn.run(wn);var Rn=function(e){return e.company},Pn=function(e){return e.application},Gn=function(e){return o.a.createElement(m.a,{store:e.store},o.a.createElement(Ra.a,{history:Dn},o.a.createElement(Fa,null)))};s.a.render(o.a.createElement(Gn,{store:Un}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,a){e.exports={LandingPage:"landing-page_LandingPage__2ZnLo",primaryPageContent:"landing-page_primaryPageContent__YLaLX",headlineContent:"landing-page_headlineContent__2vF0w",headlineText:"landing-page_headlineText__33RBB",headlineSubText:"landing-page_headlineSubText__3tLwP",loginActionsContainer:"landing-page_loginActionsContainer__2SARI",divider:"landing-page_divider__3PurT",sideNoteContent:"landing-page_sideNoteContent__NMAYC"}},87:function(e,t,a){e.exports={UserAppPageHeader:"user-app-page_UserAppPageHeader__x_cfW",companyListHeader:"user-app-page_companyListHeader__19QUw",searchField:"user-app-page_searchField__3q0QO"}}},[[236,1,2]]]);
//# sourceMappingURL=main.46839b5f.chunk.js.map